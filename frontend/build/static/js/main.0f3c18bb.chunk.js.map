{"version":3,"sources":["components/ConfirmationModal/index.js","components/ButtonWithSpinner/index.js","rules.js","components/Can/index.js","services/api.js","errors/toastError.js","components/MarkdownWrapper/index.js","components/ContactModal/index.js","context/ReplyingMessage/ReplyingMessageContext.js","hooks/useAuth.js/index.js","context/Auth/AuthContext.js","translate/languages/index.js","translate/languages/pt.js","translate/languages/en.js","translate/languages/es.js","translate/i18n.js","assets/sound.mp3","components/Ticket/index.js","components/TicketInfo/index.js","components/TicketActionButtons/index.js","components/MessagesList/index.js","components/VcardPreview/index.js","components/LocationPreview/index.js","components/ModalImageCors/index.js","components/MessageOptionsMenu/index.js","assets/wa-background.png","pages/ZDG/index.js","pages/ZDGMedia/index.js","pages/ZDGGroups/index.js","pages/InstaDirect/index.js","pages/SMS/index.js","pages/VoiceCall/index.js","pages/ZDGHistorico/index.js","pages/ZDGAgendamento/index.js","components/MessageInput/RecordingTimer.js","components/MessageInput/index.js","hooks/useLocalStorage/index.js","hooks/useQueues/index.js","components/TransferTicketModal/index.js","components/TicketOptionsMenu/index.js","components/ContactDrawerSkeleton/index.js","components/ContactDrawer/index.js","components/TicketHeaderSkeleton/index.js","components/TicketHeader/index.js","hooks/useWhatsApps/index.js","context/WhatsApp/WhatsAppsContext.js","layout/MainListItems.js","components/TicketListItem/index.js","hooks/useTickets/index.js","components/NotificationsPopOver/index.js","components/QueueSelect/index.js","components/UserModal/index.js","components/BackdropLoading/index.js","layout/index.js","pages/Dashboard/Title.js","pages/Dashboard/Chart.js","pages/Dashboard/index.js","components/NewTicketModal/index.js","components/TicketsListSkeleton/index.js","components/TicketsList/index.js","components/TabPanel/index.js","components/TicketsQueueSelect/index.js","components/TicketsManager/index.js","pages/Tickets/index.js","pages/Signup/index.js","pages/Login/index.js","components/MainContainer/index.js","components/MainHeader/index.js","components/MainHeaderButtonsWrapper/index.js","components/Title/index.js","components/TableRowSkeleton/index.js","components/WhatsAppModal/index.js","components/QrcodeModal/index.js","pages/Connections/index.js","pages/Settings/index.js","pages/Users/index.js","pages/Contacts/index.js","components/QuickAnswersModal/index.js","pages/QuickAnswers/index.js","components/ColorPicker/index.js","components/QueueModal/index.js","pages/Queues/index.js","pages/ZDGChatbot/index.js","routes/Route.js","routes/index.js","App.js","index.js"],"names":["ConfirmationModal","title","children","open","onClose","onConfirm","aria-labelledby","id","dividers","variant","onClick","color","i18n","t","useStyles","makeStyles","theme","button","position","buttonProgress","green","top","left","marginTop","marginLeft","ButtonWithSpinner","loading","rest","classes","className","disabled","size","rules","user","static","admin","Can","role","perform","data","yes","no","action","permissions","staticPermissions","includes","dynamicPermissions","dynamic","permissionCondition","check","defaultProps","api","axios","create","baseURL","process","withCredentials","toastError","err","errorMsg","response","message","error","exists","toast","toastId","elements","allowedElements","CustomLink","props","target","rel","MarkdownWrapper","boldRegex","tildaRegex","test","replace","options","React","useMemo","markdownOptions","disableParsingRawHTML","forceInline","overrides","a","component","forEach","element","el","root","display","flexWrap","textField","marginRight","spacing","flex","extraAttr","justifyContent","alignItems","btnWrapper","ContactSchema","Yup","shape","name","min","max","required","number","email","ContactModal","contactId","initialValues","onSave","isMounted","useRef","initialState","useState","contact","setContact","useEffect","current","prevState","get","fetchContact","handleClose","handleSaveContact","values","put","post","success","maxWidth","scroll","enableReinitialize","validationSchema","onSubmit","actions","setTimeout","setSubmitting","errors","touched","isSubmitting","gutterBottom","as","TextField","label","autoFocus","Boolean","helperText","margin","placeholder","fullWidth","style","marginBottom","push","remove","extraInfo","length","map","info","index","key","value","type","ReplyMessageContext","createContext","ReplyMessageProvider","replyingMessage","setReplyingMessage","Provider","useAuth","history","useHistory","isAuth","setIsAuth","setLoading","setUser","interceptors","request","use","config","token","localStorage","getItem","headers","JSON","parse","Promise","reject","originalRequest","status","_retry","setItem","stringify","defaults","Authorization","removeItem","undefined","socket","openSocket","on","disconnect","handleLogin","userData","handleLogout","delete","AuthContext","AuthProvider","messages","pt","translations","signup","toasts","fail","form","password","buttons","submit","login","register","auth","dashboard","charts","perDay","inAttendance","waiting","closed","connections","deleted","confirmationModal","deleteTitle","deleteMessage","disconnectTitle","disconnectMessage","add","tryAgain","qrcode","newQr","connecting","toolTips","disconnected","content","connected","timeout","table","lastUpdate","default","session","whatsappModal","edit","farewellMessage","okAdd","okEdit","cancel","qrCode","contacts","searchPlaceholder","importTitlte","importMessage","import","whatsapp","contactModal","mainInfo","extraName","extraValue","addExtraInfo","quickAnswersModal","shortcut","queueModal","greetingMessage","userModal","profile","chat","noTicketMessage","ticketsManager","newTicket","ticketsQueueSelect","tickets","notification","tabs","search","showAll","transferTicketModal","fieldLabel","noOptions","ok","ticketsList","pendingHeader","assignedHeader","noTicketsTitle","noTicketsMessage","connectionTitle","accept","newTicketModal","mainDrawer","listItems","quickAnswers","queues","administration","users","settings","ZDG","ZDGMedia","ZDGGroups","Direct","SMS","VoiceCall","Chatbot","ZDGAgendamento","ZDGHistorico","appBar","logout","notifications","noTickets","greeting","queueSelect","inputLabel","userCreation","enabled","messagesList","header","assignedTo","return","resolve","reopen","messagesInput","placeholderOpen","placeholderClosed","signMessage","contactDrawer","ticketOptionsMenu","transfer","confirm","messageOptionsMenu","reply","backendErrors","ERR_NO_OTHER_WHATSAPP","ERR_NO_DEF_WAPP_FOUND","ERR_WAPP_NOT_INITIALIZED","ERR_WAPP_CHECK_CONTACT","ERR_WAPP_INVALID_CONTACT","ERR_WAPP_DOWNLOAD_MEDIA","ERR_INVALID_CREDENTIALS","ERR_SENDING_WAPP_MSG","ERR_DELETE_WAPP_MSG","ERR_OTHER_OPEN_TICKET","ERR_SESSION_EXPIRED","ERR_USER_CREATION_DISABLED","ERR_NO_PERMISSION","ERR_DUPLICATED_CONTACT","ERR_NO_SETTING_FOUND","ERR_NO_CONTACT_FOUND","ERR_NO_TICKET_FOUND","ERR_NO_USER_FOUND","ERR_NO_WAPP_FOUND","ERR_CREATING_MESSAGE","ERR_CREATING_TICKET","ERR_FETCH_WAPP_MSG","ERR_QUEUE_COLOR_ALREADY_EXISTS","ERR_WAPP_GREETING_REQUIRED","en","fieldQueueLabel","fieldQueuePlaceholder","titleFrom","es","LanguageDetector","init","debug","defaultNS","fallbackLng","ns","resources","module","exports","http","require","init3","split","host","path","method","init4","callback","result","Buffer","alloc","chunk","concat","console","log","toString","height","overflow","ticketInfo","flexBasis","breakpoints","down","ticketActionButtons","mainWrapper","flexDirection","borderTopLeftRadius","borderBottomLeftRadius","borderLeft","transition","transitions","easing","sharp","duration","leavingScreen","mainWrapperShift","borderTopRightRadius","borderBottomRightRadius","easeOut","enteringScreen","backgroundColor","fontSize","width","box","Ticket","checked2","setChecked2","ticketId","useParams","drawerOpen","setDrawerOpen","ticket","setTicket","req","body","write","alert","end","delayDebounceFn","fetchTicket","clearTimeout","emit","elevation","clsx","control","checked","onChange","event","ChatBotOn","ChatBotOff","inputProps","isGroup","ticketStatus","handleDrawerClose","TicketInfo","cursor","titleTypographyProps","noWrap","subheaderTypographyProps","avatar","src","profilePicUrl","alt","subheader","init2","ZDGProtocolo","usuario","protocolo","ZDGEmail","zdgSubject","zdgText","actionButtons","alignSelf","TicketActionButtons","anchorEl","setAnchorEl","ticketOptionsMenuOpen","useContext","date","Date","minutes","getMinutes","hour","getHours","handleSendMessage","userId","read","fromMe","mediaUrl","Math","floor","now","handleUpdateTicketStatus","e","text","startIcon","currentTarget","menuOpen","messagesListWrapper","flexGrow","backgroundImage","whatsBackground","padding","overflowY","paddingBottom","scrollbarStyles","circleLoading","opacity","messageLeft","minWidth","right","whiteSpace","paddingLeft","paddingRight","paddingTop","boxShadow","quotedContainerLeft","borderRadius","quotedMsg","quotedSideColorLeft","messageRight","quotedContainerRight","quotedMsgRight","quotedSideColorRight","messageActionsButton","zIndex","messageContactName","fontWeight","textContentItem","overflowWrap","textContentItemDeleted","fontStyle","messageMedia","objectFit","timestamp","bottom","dailyTimestamp","textAlign","dailyTimestampText","ackIcons","verticalAlign","deletedIcon","ackDoneAllIcon","downloadMedia","reducer","state","payload","newMessages","messageIndex","findIndex","m","newMessage","messageToUpdate","MessagesList","useReducer","dispatch","pageNumber","setPageNumber","hasMore","setHasMore","lastMessageRef","selectedMessage","setSelectedMessage","messageOptionsMenuOpen","currentTicketId","params","scrollToBottom","fetchMessages","scrollIntoView","handleOpenMessageOptionsMenu","checkMessageMedia","mediaType","locationParts","imageLocation","linkLocation","descriptionLocation","image","link","description","array","obj","ind","indexOf","numbers","imageUrl","controls","href","renderDailyTimestamps","format","parseISO","createdAt","messageDay","previousMessageDay","isSameDay","ref","float","clear","renderMessageDivider","renderQuotedMessage","onScroll","scrollTop","document","getElementById","prevPageNumber","Fragment","isDeleted","ack","renderMessageAck","VcardPreview","selectedContact","contactObj","fetchContacts","handleNewChat","container","item","xs","LocationPreview","handleLocation","window","dangerouslySetInnerHTML","__html","ModalImageCors","fetching","setFetching","blobUrl","setBlobUrl","responseType","url","URL","createObjectURL","Blob","fetchImage","smallSrcSet","medium","large","MessageOptionsMenu","confirmationOpen","setConfirmationOpen","handleDeleteMessage","getContentAnchorEl","anchorOrigin","vertical","horizontal","transformOrigin","ZDGSender","iD","GETSender","res","wppID","paper","settingOption","inputs","setInputs","setSettings","fetchSession","handleChange","aria-label","preventDefault","usersTextArea","find","s","numberDDI","substring","numberDDD","random","parseInt","numberUser","substr","multiline","init5","init6","init7","ZDGSetGroups","subject","ZDGSetGroupsDescription","newMessageGroup","newMessAgeGroupNasa","initGet","paper2","buttonReset","TabPanel","other","hidden","p","a11yProps","setValue","handleSubmit","mensagemGrupoNASA","abrirGrupo","mensagemGrupo","titulo","descricao","tituloNovo","contatoGrupo","zdgGroupsCreate","fecharGrupo","zdgSendGroupMessage","zdgOpenGroup","zdgCloseGroup","zdgNASA","newValue","scrollButtons","indicatorColor","textColor","icon","userIg","DirectInsta","from","to","ZDGSms","ZDGVoice","limit","limite","dataEnvio","formattedDate","moment","dateAdapter","AdapterDateFns","locale","frLocale","renderInput","timerBox","RecordingTimer","seconds","timer","setTimer","interval","setInterval","clearInterval","addZero","n","Mp3Recorder","MicRecorder","bitRate","background","borderTop","newMessageBox","messageInputWrapper","messageInput","border","sendMessageIcons","uploadInput","viewMediaInputWrapper","emojiBox","audioLoading","recorderWrapper","alignContent","cancelAudioIcon","sendAudioIcon","replyginMsgWrapper","replyginMsgContainer","replyginMsgBody","replyginContactMsgSideColor","replyginSelfMsgSideColor","messageQuickAnswersWrapper","listStyle","textOverflow","maxHeight","MessageInput","medias","setMedias","inputMessage","setInputMessage","showEmoji","setShowEmoji","recording","setRecording","setQuickAnswer","typeBar","setTypeBar","inputRef","initialValue","storedValue","setStoredValue","valueToStore","Function","useLocalStorage","setSignMessage","focus","handleChangeMedias","files","selectedMedias","Array","handleUploadMedia","formData","FormData","append","media","trim","handleStartRecording","navigator","mediaDevices","getUserMedia","audio","start","handleLoadQuickAnswer","searchParam","handleUploadAudio","stop","getMp3","blob","filename","getTime","handleCancelAudio","handleMenuItemClick","Paper","square","IconButton","CircularProgress","renderReplyingMessage","Hidden","only","ClickAwayListener","onClickAway","perLine","showPreview","showSkinTones","onSelect","emoji","native","multiple","htmlFor","FormControlLabel","labelPlacement","Switch","aria-controls","aria-haspopup","Menu","keepMounted","MenuItem","InputBase","input","maxRows","onPaste","clipboardData","handleInputPaste","onKeyPress","shiftKey","messageQuickAnswersWrapperItem","handleQuickAnswersClick","useQueues","findAll","filterOptions","createFilterOptions","TransferTicketModal","modalOpen","ticketid","setOptions","setQueues","allQueues","setAllQueues","setSearchParam","selectedUser","setSelectedUser","selectedQueue","setSelectedQueue","findAllQueues","list","loadQueues","fetchUsers","handleSaveTicket","queueId","Dialog","DialogTitle","DialogContent","Autocomplete","getOptionLabel","option","isArray","freeSolo","autoHighlight","noOptionsText","InputProps","endAdornment","FormControl","InputLabel","Select","queue","DialogActions","Button","TicketOptionsMenu","transferTicketModalOpen","setTransferTicketModalOpen","handleDeleteTicket","handleOpenConfirmationModal","ContactDrawerSkeleton","contactHeader","Skeleton","animation","contactAvatar","contactDetails","Typography","contactExtraInfo","drawer","flexShrink","drawerPaper","borderRight","borderBottom","minHeight","ContactDrawer","setModalOpen","Drawer","anchor","PaperProps","BackdropProps","ModalProps","justifySelf","Avatar","Link","ticketHeader","TicketHeaderSkeleton","Card","CardHeader","TicketHeader","whatsApps","whatsApp","whatsAppIndex","updatedAt","retries","whatsAppId","splice","useWhatsApps","whatsappId","WhatsAppsContext","WhatsAppsProvider","ListItemLink","primary","renderLink","forwardRef","itemProps","ListItem","ListItemIcon","ListItemText","MainListItems","drawerClose","connectionWarning","setConnectionWarning","filter","whats","Badge","badgeContent","Divider","ListSubheader","inset","pendingTicket","noTicketsDiv","noTicketsText","lineHeight","contactNameWrapper","lastMessageTime","closedBadge","contactLastMessage","newMessagesCount","badgeStyle","acceptButton","ticketQueueColor","userTag","TicketListItem","handleAcepptTicket","dense","selected","Tooltip","arrow","placement","ListItemAvatar","disableTypography","lastMessage","secondary","unreadMessages","badge","useTickets","queueIds","withUnreadMessages","setTickets","fetchTickets","tabContainer","popoverPaper","noShadow","NotificationsPopOver","ticketIdUrl","location","pathname","ticketIdRef","isOpen","setIsOpen","setNotifications","setDesktopNotifications","useSound","alertSound","play","soundAlertRef","historyRef","Notification","requestPermission","ticketIndex","notfiticationIndex","tag","String","close","visibilityState","handleNotifications","renotify","onclick","handleClickAway","NotificationTicket","Popover","disableScrollLock","List","chips","chip","QueueSelect","selectedQueueIds","labelWidth","MenuProps","renderValue","q","Chip","multFieldLine","formControl","UserSchema","UserModal","loggedInUser","setSelectedQueueIds","showPassword","setShowPassword","userQueueIds","fetchUser","handleSaveUser","InputAdornment","VisibilityOff","Visibility","labelId","backdrop","BackdropLoading","Backdrop","toolbar","toolbarIcon","appBarShift","menuButton","menuButtonHidden","drawerPaperClose","overflowX","up","appBarSpacer","LoggedInLayout","userModalOpen","setUserModalOpen","setMenuOpen","drawerVariant","setDrawerVariant","offsetWidth","handleCloseMenu","AppBar","Toolbar","edge","Title","Chart","useTheme","toISOString","time","amount","chartData","setChartData","aux","startOfHour","ResponsiveContainer","BarChart","barSize","CartesianGrid","strokeDasharray","XAxis","dataKey","stroke","palette","YAxis","allowDecimals","Label","angle","textAnchor","fill","Bar","main","fixedHeightPaper","customFixedHeightPaper","customFixedHeightPaperLg","Dashboard","GetTickets","Container","Grid","paragraph","NewTicketModal","setSelectedContact","newContact","setNewContact","contactModalOpen","setContactModalOpen","clearOnBlur","clearOnEscape","renderOption","filtered","inputValue","handleSelectOption","TicketsSkeleton","ticketsListWrapper","ticketsListHeader","ticketsCount","unshift","TicketsList","updateCount","shouldUpdateTicket","scrollHeight","clientHeight","TicketsListSkeleton","TicketsQueueSelect","userQueues","displayEmpty","Checkbox","ticketsWrapper","tabsHeader","settingsIcon","tab","ticketOptionsBox","serachInputWrapper","searchIcon","searchInput","show","hide","TicketsManager","searchTimeout","setTab","tabOpen","setTabOpen","newTicketModalOpen","setNewTicketModalOpen","showAllTickets","setShowAllTickets","searchInputRef","openCount","setOpenCount","pendingCount","setPendingCount","toUpperCase","applyPanelStyle","Tabs","Tab","searchedTerm","toLowerCase","val","chatContainer","chatPapper","contactsWrapper","contactsWrapperSmall","messagessWrapper","welcomeMsg","ticketsManagerClosed","Chat","md","SignUp","handleSignUp","CssBaseline","LockOutlined","autoComplete","justify","RouterLink","Box","mt","Login","handleChangeInput","noValidate","mainContainer","contentWrapper","MainContainer","contactsHeader","MainHeader","MainHeaderButtonsWrapper","customTableCell","TableRowSkeleton","columns","TableRow","TableCell","_","align","SessionSchema","memo","isDefault","setWhatsApp","whatsQueueIds","handleSaveWhatsApp","whatsappData","rows","selectedIds","setQrCode","mainPaper","tooltip","typography","pxToRem","tooltipPopper","CustomToolTip","popper","Connections","whatsAppModalOpen","setWhatsAppModalOpen","qrModalOpen","setQrModalOpen","selectedWhatsApp","setSelectedWhatsApp","confirmModalOpen","setConfirmModalOpen","confirmationModalInitialState","confirmModalInfo","setConfirmModalInfo","handleStartWhatsAppSession","handleRequestNewQrCode","handleCloseWhatsAppModal","useCallback","handleCloseQrModal","handleSubmitConfirmationModal","renderActionButtons","handleOpenQrModal","Table","TableHead","TableBody","SignalCellularConnectedNoInternet0Bar","CropFree","SignalCellular4Bar","SignalCellularConnectedNoInternet2Bar","renderStatusToolTips","CheckCircle","handleEditWhatsApp","Edit","DeleteOutline","Settings","settingIndex","setting","handleChangeSetting","selectedValue","settingKey","getSettingValue","readonly","newUsers","userIndex","u","Users","deletingUser","setDeletingUser","handleDeleteUser","startAdornment","handleEditUser","newContacts","contactIndex","c","CSVLink","Contacts","selectedContactId","setSelectedContactId","deletingContact","setDeletingContact","confirmOpen","setConfirmOpen","handleDeleteContact","handleimportContact","go","textDecoration","separator","textQuickAnswerContainer","QuickAnswerSchema","QuickAnswersModal","quickAnswerId","quickAnswer","fetchQuickAnswer","handleSaveQuickAnswer","newQuickAnswers","quickAnswerIndex","QuickAnswers","selectedQuickAnswers","setSelectedQuickAnswers","quickAnswersModalOpen","setQuickAnswersModalOpen","deletingQuickAnswers","setDeletingQuickAnswers","fetchQuickAnswers","handleDeleteQuickAnswers","handleEditQuickAnswers","ColorPicker","currentColor","selectedColor","setSelectedColor","paperFullWidth","triangle","colors","hex","onChangeComplete","colorAdorment","QueueSchema","QueueModal","colorPickerModalOpen","setColorPickerModalOpen","setQueue","greetingRef","handleSaveQueue","onFocus","Colorize","newQueues","queueIndex","Queues","queueModalOpen","setQueueModalOpen","handleDeleteQueue","handleEditQueue","frameBorder","Route","Component","isPrivate","Routes","exact","Signup","Tickets","InstaDirect","autoClose","App","setLocale","createTheme","i18nlocale","ptBR","ThemeProvider","ReactDOM","render"],"mappings":";sGAAA,+EA4CeA,IAlCW,SAAC,GAAmD,IAAjDC,EAAgD,EAAhDA,MAAOC,EAAyC,EAAzCA,SAAUC,EAA+B,EAA/BA,KAAMC,EAAyB,EAAzBA,QAASC,EAAgB,EAAhBA,UAC5D,OACC,kBAAC,IAAD,CACCF,KAAMA,EACNC,QAAS,kBAAMA,GAAQ,IACvBE,kBAAgB,kBAEhB,kBAAC,IAAD,CAAaC,GAAG,kBAAkBN,GAClC,kBAAC,IAAD,CAAeO,UAAQ,GACtB,kBAAC,IAAD,KAAaN,IAEd,kBAAC,IAAD,KACC,kBAAC,IAAD,CACCO,QAAQ,YACRC,QAAS,kBAAMN,GAAQ,IACvBO,MAAM,WAELC,IAAKC,EAAE,qCAET,kBAAC,IAAD,CACCJ,QAAQ,YACRC,QAAS,WACRN,GAAQ,GACRC,KAEDM,MAAM,aAELC,IAAKC,EAAE,0C,0HC/BPC,EAAYC,aAAW,SAAAC,GAAK,MAAK,CACtCC,OAAQ,CACPC,SAAU,YAGXC,eAAgB,CACfR,MAAOS,IAAM,KACbF,SAAU,WACVG,IAAK,MACLC,KAAM,MACNC,WAAY,GACZC,YAAa,QAiBAC,IAbW,SAAC,GAAoC,IAAlCC,EAAiC,EAAjCA,QAASxB,EAAwB,EAAxBA,SAAayB,EAAW,iBACvDC,EAAUd,IAEhB,OACC,kBAAC,IAAD,eAAQe,UAAWD,EAAQX,OAAQa,SAAUJ,GAAaC,GACxDzB,EACAwB,GACA,kBAAC,IAAD,CAAkBK,KAAM,GAAIF,UAAWD,EAAQT,oB,mEC5BnD,IAiBea,EAjBD,CACbC,KAAM,CACLC,OAAQ,IAGTC,MAAO,CACND,OAAQ,CACP,0BACA,0BACA,yBACA,wBACA,8BACA,iCCkBGE,EAAM,SAAC,GAAD,IAAGC,EAAH,EAAGA,KAAMC,EAAT,EAASA,QAASC,EAAlB,EAAkBA,KAAMC,EAAxB,EAAwBA,IAAKC,EAA7B,EAA6BA,GAA7B,OA5BE,SAACJ,EAAMK,EAAQH,GAC5B,IAAMI,EAAcX,EAAMK,GAC1B,IAAKM,EAEJ,OAAO,EAGR,IAAMC,EAAoBD,EAAYT,OAEtC,GAAIU,GAAqBA,EAAkBC,SAASH,GAEnD,OAAO,EAGR,IAAMI,EAAqBH,EAAYI,QAEvC,GAAID,EAAoB,CACvB,IAAME,EAAsBF,EAAmBJ,GAC/C,QAAKM,GAKEA,EAAoBT,GAE5B,OAAO,EAIPU,CAAMZ,EAAMC,EAASC,GAAQC,IAAQC,KAEtCL,EAAIc,aAAe,CAClBV,IAAK,kBAAM,MACXC,GAAI,kBAAM,Q,gCCnCX,aAEMU,EAFN,OAEYC,EAAMC,OAAO,CACxBC,QAASC,uCACTC,iBAAiB,IAGHL,O,gCCPf,mBAoBeM,IAjBI,SAAAC,GAAQ,IAAD,IACnBC,GAAW,UAAAD,EAAIE,gBAAJ,mBAAcrB,YAAd,eAAoBsB,UAAWH,EAAIE,SAASrB,KAAKuB,MAC9DH,EACC/C,IAAKmD,OAAL,wBAA6BJ,IAChCK,IAAMF,MAAMlD,IAAKC,EAAL,wBAAwB8C,IAAa,CAChDM,QAASN,IAGVK,IAAMF,MAAMH,EAAU,CACrBM,QAASN,IAIXK,IAAMF,MAAM,wB,sFCbRI,EAAW,CAChB,IACA,OACA,UACA,OACA,UACA,QACA,QACA,IACA,OACA,MACA,MACA,MACA,aACA,OACA,KACA,SACA,SACA,UACA,OACA,OACA,MACA,WACA,OACA,WACA,KACA,MACA,UACA,MACA,SACA,MACA,KACA,KACA,KACA,QACA,WACA,aACA,SACA,SACA,OACA,KACA,KACA,KACA,KACA,KACA,KACA,OACA,SACA,SACA,KACA,OACA,IACA,SACA,MACA,QACA,MACA,MACA,SACA,QACA,SACA,KACA,OACA,OACA,MACA,OACA,UACA,OACA,WACA,OACA,QACA,MACA,WACA,SACA,KACA,WACA,SACA,SACA,IACA,QACA,UACA,MACA,WACA,IACA,KACA,KACA,OACA,IACA,OACA,SACA,UACA,SACA,QACA,SACA,OACA,SACA,QACA,MACA,UACA,MACA,QACA,QACA,KACA,WACA,QACA,KACA,QACA,OACA,QACA,KACA,QACA,IACA,KACA,MACA,QACA,MAGA,SACA,WACA,OACA,UACA,gBACA,IACA,QACA,OACA,iBACA,SACA,OACA,OACA,UACA,UACA,WACA,iBACA,OACA,OACA,MACA,OACA,SAGK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","file":"static/js/main.0f3c18bb.chunk.js","sourcesContent":["import React from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Typography from \"@material-ui/core/Typography\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nconst ConfirmationModal = ({ title, children, open, onClose, onConfirm }) => {\n\treturn (\n\t\t<Dialog\n\t\t\topen={open}\n\t\t\tonClose={() => onClose(false)}\n\t\t\taria-labelledby=\"confirm-dialog\"\n\t\t>\n\t\t\t<DialogTitle id=\"confirm-dialog\">{title}</DialogTitle>\n\t\t\t<DialogContent dividers>\n\t\t\t\t<Typography>{children}</Typography>\n\t\t\t</DialogContent>\n\t\t\t<DialogActions>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tonClick={() => onClose(false)}\n\t\t\t\t\tcolor=\"default\"\n\t\t\t\t>\n\t\t\t\t\t{i18n.t(\"confirmationModal.buttons.cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tonClose(false);\n\t\t\t\t\t\tonConfirm();\n\t\t\t\t\t}}\n\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t>\n\t\t\t\t\t{i18n.t(\"confirmationModal.buttons.confirm\")}\n\t\t\t\t</Button>\n\t\t\t</DialogActions>\n\t\t</Dialog>\n\t);\n};\n\nexport default ConfirmationModal;\n","import React from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport { CircularProgress, Button } from \"@material-ui/core\";\n\nconst useStyles = makeStyles(theme => ({\n\tbutton: {\n\t\tposition: \"relative\",\n\t},\n\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n}));\n\nconst ButtonWithSpinner = ({ loading, children, ...rest }) => {\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<Button className={classes.button} disabled={loading} {...rest}>\n\t\t\t{children}\n\t\t\t{loading && (\n\t\t\t\t<CircularProgress size={24} className={classes.buttonProgress} />\n\t\t\t)}\n\t\t</Button>\n\t);\n};\n\nexport default ButtonWithSpinner;\n","const rules = {\n\tuser: {\n\t\tstatic: [],\n\t},\n\n\tadmin: {\n\t\tstatic: [\n\t\t\t\"drawer-admin-items:view\",\n\t\t\t\"tickets-manager:showall\",\n\t\t\t\"user-modal:editProfile\",\n\t\t\t\"user-modal:editQueues\",\n\t\t\t\"ticket-options:deleteTicket\",\n\t\t\t\"contacts-page:deleteContact\",\n\t\t],\n\t},\n};\n\nexport default rules;\n","import rules from \"../../rules\";\n\nconst check = (role, action, data) => {\n\tconst permissions = rules[role];\n\tif (!permissions) {\n\t\t// role is not present in the rules\n\t\treturn false;\n\t}\n\n\tconst staticPermissions = permissions.static;\n\n\tif (staticPermissions && staticPermissions.includes(action)) {\n\t\t// static rule not provided for action\n\t\treturn true;\n\t}\n\n\tconst dynamicPermissions = permissions.dynamic;\n\n\tif (dynamicPermissions) {\n\t\tconst permissionCondition = dynamicPermissions[action];\n\t\tif (!permissionCondition) {\n\t\t\t// dynamic rule not provided for action\n\t\t\treturn false;\n\t\t}\n\n\t\treturn permissionCondition(data);\n\t}\n\treturn false;\n};\n\nconst Can = ({ role, perform, data, yes, no }) =>\n\tcheck(role, perform, data) ? yes() : no();\n\nCan.defaultProps = {\n\tyes: () => null,\n\tno: () => null,\n};\n\nexport { Can };\n","import axios from \"axios\";\n\nconst api = axios.create({\n\tbaseURL: process.env.REACT_APP_BACKEND_URL,\n\twithCredentials: true,\n});\n\nexport default api;\n","import { toast } from \"react-toastify\";\nimport { i18n } from \"../translate/i18n\";\n\nconst toastError = err => {\n\tconst errorMsg = err.response?.data?.message || err.response.data.error;\n\tif (errorMsg) {\n\t\tif (i18n.exists(`backendErrors.${errorMsg}`)) {\n\t\t\ttoast.error(i18n.t(`backendErrors.${errorMsg}`), {\n\t\t\t\ttoastId: errorMsg,\n\t\t\t});\n\t\t} else {\n\t\t\ttoast.error(errorMsg, {\n\t\t\t\ttoastId: errorMsg,\n\t\t\t});\n\t\t}\n\t} else {\n\t\ttoast.error(\"An error occurred!\");\n\t}\n};\n\nexport default toastError;\n","import React from \"react\";\nimport Markdown from \"markdown-to-jsx\";\n\nconst elements = [\n\t\"a\",\n\t\"abbr\",\n\t\"address\",\n\t\"area\",\n\t\"article\",\n\t\"aside\",\n\t\"audio\",\n\t\"b\",\n\t\"base\",\n\t\"bdi\",\n\t\"bdo\",\n\t\"big\",\n\t\"blockquote\",\n\t\"body\",\n\t\"br\",\n\t\"button\",\n\t\"canvas\",\n\t\"caption\",\n\t\"cite\",\n\t\"code\",\n\t\"col\",\n\t\"colgroup\",\n\t\"data\",\n\t\"datalist\",\n\t\"dd\",\n\t\"del\",\n\t\"details\",\n\t\"dfn\",\n\t\"dialog\",\n\t\"div\",\n\t\"dl\",\n\t\"dt\",\n\t\"em\",\n\t\"embed\",\n\t\"fieldset\",\n\t\"figcaption\",\n\t\"figure\",\n\t\"footer\",\n\t\"form\",\n\t\"h1\",\n\t\"h2\",\n\t\"h3\",\n\t\"h4\",\n\t\"h5\",\n\t\"h6\",\n\t\"head\",\n\t\"header\",\n\t\"hgroup\",\n\t\"hr\",\n\t\"html\",\n\t\"i\",\n\t\"iframe\",\n\t\"img\",\n\t\"input\",\n\t\"ins\",\n\t\"kbd\",\n\t\"keygen\",\n\t\"label\",\n\t\"legend\",\n\t\"li\",\n\t\"link\",\n\t\"main\",\n\t\"map\",\n\t\"mark\",\n\t\"marquee\",\n\t\"menu\",\n\t\"menuitem\",\n\t\"meta\",\n\t\"meter\",\n\t\"nav\",\n\t\"noscript\",\n\t\"object\",\n\t\"ol\",\n\t\"optgroup\",\n\t\"option\",\n\t\"output\",\n\t\"p\",\n\t\"param\",\n\t\"picture\",\n\t\"pre\",\n\t\"progress\",\n\t\"q\",\n\t\"rp\",\n\t\"rt\",\n\t\"ruby\",\n\t\"s\",\n\t\"samp\",\n\t\"script\",\n\t\"section\",\n\t\"select\",\n\t\"small\",\n\t\"source\",\n\t\"span\",\n\t\"strong\",\n\t\"style\",\n\t\"sub\",\n\t\"summary\",\n\t\"sup\",\n\t\"table\",\n\t\"tbody\",\n\t\"td\",\n\t\"textarea\",\n\t\"tfoot\",\n\t\"th\",\n\t\"thead\",\n\t\"time\",\n\t\"title\",\n\t\"tr\",\n\t\"track\",\n\t\"u\",\n\t\"ul\",\n\t\"var\",\n\t\"video\",\n\t\"wbr\",\n\n\t// SVG\n\t\"circle\",\n\t\"clipPath\",\n\t\"defs\",\n\t\"ellipse\",\n\t\"foreignObject\",\n\t\"g\",\n\t\"image\",\n\t\"line\",\n\t\"linearGradient\",\n\t\"marker\",\n\t\"mask\",\n\t\"path\",\n\t\"pattern\",\n\t\"polygon\",\n\t\"polyline\",\n\t\"radialGradient\",\n\t\"rect\",\n\t\"stop\",\n\t\"svg\",\n\t\"text\",\n\t\"tspan\",\n];\n\nconst allowedElements = [\"a\", \"b\", \"strong\", \"em\", \"u\", \"code\", \"del\"];\n\nconst CustomLink = ({ children, ...props }) => (\n\t<a {...props} target=\"_blank\" rel=\"noopener noreferrer\">\n\t\t{children}\n\t</a>\n);\n\nconst MarkdownWrapper = ({ children }) => {\n\tconst boldRegex = /\\*(.*?)\\*/g;\n\tconst tildaRegex = /~(.*?)~/g;\n\t\n\tif(children.includes('BEGIN:VCARD'))\n\t\t//children = \"Diga olá ao seu novo contato clicando em *conversar*!\";\n\t\tchildren = null;\n\t\n\tif (children && boldRegex.test(children)) {\n\t\tchildren = children.replace(boldRegex, \"**$1**\");\n\t}\n\tif (children && tildaRegex.test(children)) {\n\t\tchildren = children.replace(tildaRegex, \"~~$1~~\");\n\t}\n\n\tconst options = React.useMemo(() => {\n\t\tconst markdownOptions = {\n\t\t\tdisableParsingRawHTML: true,\n\t\t\tforceInline: true,\n\t\t\toverrides: {\n\t\t\t\ta: { component: CustomLink },\n\t\t\t},\n\t\t};\n\n\t\telements.forEach(element => {\n\t\t\tif (!allowedElements.includes(element)) {\n\t\t\t\tmarkdownOptions.overrides[element] = el => el.children || null;\n\t\t\t}\n\t\t});\n\n\t\treturn markdownOptions;\n\t}, []);\n\n\tif (!children) return null;\n\t\n\treturn <Markdown options={options}>{children}</Markdown>;\n};\n\nexport default MarkdownWrapper;","import React, { useState, useEffect, useRef } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, FieldArray, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Typography from \"@material-ui/core/Typography\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\ttextField: {\n\t\tmarginRight: theme.spacing(1),\n\t\tflex: 1,\n\t},\n\n\textraAttr: {\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"center\",\n\t\talignItems: \"center\",\n\t},\n\n\tbtnWrapper: {\n\t\tposition: \"relative\",\n\t},\n\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n}));\n\nconst ContactSchema = Yup.object().shape({\n\tname: Yup.string()\n\t\t.min(2, \"Too Short!\")\n\t\t.max(50, \"Too Long!\")\n\t\t.required(\"Required\"),\n\tnumber: Yup.string().min(8, \"Too Short!\").max(50, \"Too Long!\"),\n\temail: Yup.string().email(\"Invalid email\"),\n});\n\nconst ContactModal = ({ open, onClose, contactId, initialValues, onSave }) => {\n\tconst classes = useStyles();\n\tconst isMounted = useRef(true);\n\n\tconst initialState = {\n\t\tname: \"\",\n\t\tnumber: \"\",\n\t\temail: \"\",\n\t};\n\n\tconst [contact, setContact] = useState(initialState);\n\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\tisMounted.current = false;\n\t\t};\n\t}, []);\n\n\tuseEffect(() => {\n\t\tconst fetchContact = async () => {\n\t\t\tif (initialValues) {\n\t\t\t\tsetContact(prevState => {\n\t\t\t\t\treturn { ...prevState, ...initialValues };\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (!contactId) return;\n\n\t\t\ttry {\n\t\t\t\tconst { data } = await api.get(`/contacts/${contactId}`);\n\t\t\t\tif (isMounted.current) {\n\t\t\t\t\tsetContact(data);\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t};\n\n\t\tfetchContact();\n\t}, [contactId, open, initialValues]);\n\n\tconst handleClose = () => {\n\t\tonClose();\n\t\tsetContact(initialState);\n\t};\n\n\tconst handleSaveContact = async values => {\n\t\ttry {\n\t\t\tif (contactId) {\n\t\t\t\tawait api.put(`/contacts/${contactId}`, values);\n\t\t\t\thandleClose();\n\t\t\t} else {\n\t\t\t\tconst { data } = await api.post(\"/contacts\", values);\n\t\t\t\tif (onSave) {\n\t\t\t\t\tonSave(data);\n\t\t\t\t}\n\t\t\t\thandleClose();\n\t\t\t}\n\t\t\ttoast.success(i18n.t(\"contactModal.success\"));\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Dialog open={open} onClose={handleClose} maxWidth=\"lg\" scroll=\"paper\">\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\n\t\t\t\t\t{contactId\n\t\t\t\t\t\t? `${i18n.t(\"contactModal.title.edit\")}`\n\t\t\t\t\t\t: `${i18n.t(\"contactModal.title.add\")}`}\n\t\t\t\t</DialogTitle>\n\t\t\t\t<Formik\n\t\t\t\t\tinitialValues={contact}\n\t\t\t\t\tenableReinitialize={true}\n\t\t\t\t\tvalidationSchema={ContactSchema}\n\t\t\t\t\tonSubmit={(values, actions) => {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\thandleSaveContact(values);\n\t\t\t\t\t\t\tactions.setSubmitting(false);\n\t\t\t\t\t\t}, 400);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{({ values, errors, touched, isSubmitting }) => (\n\t\t\t\t\t\t<Form>\n\t\t\t\t\t\t\t<DialogContent dividers>\n\t\t\t\t\t\t\t\t<Typography variant=\"subtitle1\" gutterBottom>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"contactModal.form.mainInfo\")}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.name\")}\n\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\terror={touched.name && Boolean(errors.name)}\n\t\t\t\t\t\t\t\t\thelperText={touched.name && errors.name}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.number\")}\n\t\t\t\t\t\t\t\t\tname=\"number\"\n\t\t\t\t\t\t\t\t\terror={touched.number && Boolean(errors.number)}\n\t\t\t\t\t\t\t\t\thelperText={touched.number && errors.number}\n\t\t\t\t\t\t\t\t\tplaceholder=\"5513912344321\"\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.email\")}\n\t\t\t\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\t\t\t\terror={touched.email && Boolean(errors.email)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.email && errors.email}\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Email address\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\tstyle={{ marginBottom: 8, marginTop: 12 }}\n\t\t\t\t\t\t\t\t\tvariant=\"subtitle1\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"contactModal.form.extraInfo\")}\n\t\t\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t\t\t<FieldArray name=\"extraInfo\">\n\t\t\t\t\t\t\t\t\t{({ push, remove }) => (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t{values.extraInfo &&\n\t\t\t\t\t\t\t\t\t\t\t\tvalues.extraInfo.length > 0 &&\n\t\t\t\t\t\t\t\t\t\t\t\tvalues.extraInfo.map((info, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.extraAttr}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={`${index}-info`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.extraName\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={`extraInfo[${index}].name`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.extraValue\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={`extraInfo[${index}].value`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => remove(index)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DeleteOutlineIcon />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t<div className={classes.extraAttr}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ flex: 1, marginTop: 8 }}\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => push({ name: \"\", value: \"\" })}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{`+ ${i18n.t(\"contactModal.buttons.addExtraInfo\")}`}\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</FieldArray>\n\t\t\t\t\t\t\t</DialogContent>\n\t\t\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"contactModal.buttons.cancel\")}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{contactId\n\t\t\t\t\t\t\t\t\t\t? `${i18n.t(\"contactModal.buttons.okEdit\")}`\n\t\t\t\t\t\t\t\t\t\t: `${i18n.t(\"contactModal.buttons.okAdd\")}`}\n\t\t\t\t\t\t\t\t\t{isSubmitting && (\n\t\t\t\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\t\t\t\tsize={24}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</DialogActions>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t)}\n\t\t\t\t</Formik>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n\nexport default ContactModal;\n","import React, { useState, createContext } from \"react\";\n\nconst ReplyMessageContext = createContext();\n\nconst ReplyMessageProvider = ({ children }) => {\n\tconst [replyingMessage, setReplyingMessage] = useState(null);\n\n\treturn (\n\t\t<ReplyMessageContext.Provider\n\t\t\tvalue={{ replyingMessage, setReplyingMessage }}\n\t\t>\n\t\t\t{children}\n\t\t</ReplyMessageContext.Provider>\n\t);\n};\n\nexport { ReplyMessageContext, ReplyMessageProvider };\n","import { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport openSocket from \"socket.io-client\";\n\nimport { toast } from \"react-toastify\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\n\nconst useAuth = () => {\n\tconst history = useHistory();\n\tconst [isAuth, setIsAuth] = useState(false);\n\tconst [loading, setLoading] = useState(true);\n\tconst [user, setUser] = useState({});\n\n\tapi.interceptors.request.use(\n\t\tconfig => {\n\t\t\tconst token = localStorage.getItem(\"token\");\n\t\t\tif (token) {\n\t\t\t\tconfig.headers[\"Authorization\"] = `Bearer ${JSON.parse(token)}`;\n\t\t\t\tsetIsAuth(true);\n\t\t\t}\n\t\t\treturn config;\n\t\t},\n\t\terror => {\n\t\t\tPromise.reject(error);\n\t\t}\n\t);\n\n\tapi.interceptors.response.use(\n\t\tresponse => {\n\t\t\treturn response;\n\t\t},\n\t\tasync error => {\n\t\t\tconst originalRequest = error.config;\n\t\t\tif (error?.response?.status === 403 && !originalRequest._retry) {\n\t\t\t\toriginalRequest._retry = true;\n\n\t\t\t\tconst { data } = await api.post(\"/auth/refresh_token\");\n\t\t\t\tif (data) {\n\t\t\t\t\tlocalStorage.setItem(\"token\", JSON.stringify(data.token));\n\t\t\t\t\tapi.defaults.headers.Authorization = `Bearer ${data.token}`;\n\t\t\t\t}\n\t\t\t\treturn api(originalRequest);\n\t\t\t}\n\t\t\tif (error?.response?.status === 401) {\n\t\t\t\tlocalStorage.removeItem(\"token\");\n\t\t\t\tapi.defaults.headers.Authorization = undefined;\n\t\t\t\tsetIsAuth(false);\n\t\t\t}\n\t\t\treturn Promise.reject(error);\n\t\t}\n\t);\n\n\tuseEffect(() => {\n\t\tconst token = localStorage.getItem(\"token\");\n\t\t(async () => {\n\t\t\tif (token) {\n\t\t\t\ttry {\n\t\t\t\t\tconst { data } = await api.post(\"/auth/refresh_token\");\n\t\t\t\t\tapi.defaults.headers.Authorization = `Bearer ${data.token}`;\n\t\t\t\t\tsetIsAuth(true);\n\t\t\t\t\tsetUser(data.user);\n\t\t\t\t} catch (err) {\n\t\t\t\t\ttoastError(err);\n\t\t\t\t}\n\t\t\t}\n\t\t\tsetLoading(false);\n\t\t})();\n\t}, []);\n\n\tuseEffect(() => {\n\t\tconst socket = openSocket(process.env.REACT_APP_BACKEND_URL);\n\n\t\tsocket.on(\"user\", data => {\n\t\t\tif (data.action === \"update\" && data.user.id === user.id) {\n\t\t\t\tsetUser(data.user);\n\t\t\t}\n\t\t});\n\n\t\treturn () => {\n\t\t\tsocket.disconnect();\n\t\t};\n\t}, [user]);\n\n\tconst handleLogin = async userData => {\n\t\tsetLoading(true);\n\n\t\ttry {\n\t\t\tconst { data } = await api.post(\"/auth/login\", userData);\n\t\t\tlocalStorage.setItem(\"token\", JSON.stringify(data.token));\n\t\t\tapi.defaults.headers.Authorization = `Bearer ${data.token}`;\n\t\t\tsetUser(data.user);\n\t\t\tsetIsAuth(true);\n\t\t\ttoast.success(i18n.t(\"auth.toasts.success\"));\n\t\t\thistory.push(\"/tickets\");\n\t\t\tsetLoading(false);\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t\tsetLoading(false);\n\t\t}\n\t};\n\n\tconst handleLogout = async () => {\n\t\tsetLoading(true);\n\n\t\ttry {\n\t\t\tawait api.delete(\"/auth/logout\");\n\t\t\tsetIsAuth(false);\n\t\t\tsetUser({});\n\t\t\tlocalStorage.removeItem(\"token\");\n\t\t\tapi.defaults.headers.Authorization = undefined;\n\t\t\tsetLoading(false);\n\t\t\thistory.push(\"/login\");\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t\tsetLoading(false);\n\t\t}\n\t};\n\n\treturn { isAuth, user, loading, handleLogin, handleLogout };\n};\n\nexport default useAuth;\n","import React, { createContext } from \"react\";\n\nimport useAuth from \"../../hooks/useAuth.js\";\n\nconst AuthContext = createContext();\n\nconst AuthProvider = ({ children }) => {\n\tconst { loading, user, isAuth, handleLogin, handleLogout } = useAuth();\n\n\treturn (\n\t\t<AuthContext.Provider\n\t\t\tvalue={{ loading, user, isAuth, handleLogin, handleLogout }}\n\t\t>\n\t\t\t{children}\n\t\t</AuthContext.Provider>\n\t);\n};\n\nexport { AuthContext, AuthProvider };\n","import { messages as portugueseMessages } from \"./pt\";\nimport { messages as englishMessages } from \"./en\";\nimport { messages as spanishMessages } from \"./es\";\n\nconst messages = {\n\t...portugueseMessages,\n\t...englishMessages,\n\t...spanishMessages,\n};\n\nexport { messages };\n","const messages = {\n  pt: {\n    translations: {\n      signup: {\n        title: \"Cadastre-se\",\n        toasts: {\n          success: \"Usuário criado com sucesso! Faça seu login!!!.\",\n          fail: \"Erro ao criar usuário. Verifique os dados informados.\",\n        },\n        form: {\n          name: \"Nome\",\n          email: \"Email\",\n          password: \"Senha\",\n        },\n        buttons: {\n          submit: \"Cadastrar\",\n          login: \"Já tem uma conta? Entre!\",\n        },\n      },\n      login: {\n        title: \"Faça o seu login agora\",\n        form: {\n          email: \"Insira o e-mail\",\n          password: \"Coloque a sua senha\",\n        },\n        buttons: {\n          submit: \"Fazer login\",\n          register: \"Não tem um conta? Cadastre-se!\",\n        },\n      },\n      auth: {\n        toasts: {\n          success: \"Login efetuado com sucesso!\",\n        },\n      },\n      dashboard: {\n        charts: {\n          perDay: {\n            title: \"Tickets today: \",\n          },\n        },\n        messages: {\n          inAttendance: {\n            title: \"Em serviço\"\n          },\n          waiting: {\n            title: \"Esperando\"\n          },\n          closed: {\n            title: \"Fechado\"\n          }\n        }\n      },\n      connections: {\n        title: \"Conexões do WhatsApp\",\n        toasts: {\n          deleted: \"Conexão com o WhatsApp excluída com sucesso!\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Deletar\",\n          deleteMessage: \"Você tem certeza? Essa ação não pode ser revertida.\",\n          disconnectTitle: \"Desconectar\",\n          disconnectMessage:\n            \"Tem certeza? Você precisará ler o QR Code novamente.\",\n        },\n        buttons: {\n          add: \"Adicionar WhatsApp\",\n          disconnect: \"desconectar\",\n          tryAgain: \"Tentar novamente\",\n          qrcode: \"QR CODE\",\n          newQr: \"Novo QR CODE\",\n          connecting: \"Conectando\",\n        },\n        toolTips: {\n          disconnected: {\n            title: \"Falha ao iniciar sessão do WhatsApp\",\n            content:\n              \"Certifique-se de que seu celular esteja conectado à internet e tente novamente, ou solicite um novo QR Code\",\n          },\n          qrcode: {\n            title: \"Esperando leitura do QR Code\",\n            content:\n              \"Clique no botão 'QR CODE' e leia o QR Code com o seu celular para iniciar a sessão\",\n          },\n          connected: {\n            title: \"Conexão estabelecida!\",\n          },\n          timeout: {\n            title: \"A conexão com o celular foi perdida\",\n            content:\n              \"Certifique-se de que seu celular esteja conectado à internet e o WhatsApp esteja aberto, ou clique no botão 'Desconectar' para obter um novo QR Code\",\n          },\n        },\n        table: {\n          name: \"Nome\",\n          status: \"Status\",\n          lastUpdate: \"Última atualização\",\n          default: \"Padrão\",\n          actions: \"Ações\",\n          session: \"Sessão\",\n        },\n      },\n      whatsappModal: {\n        title: {\n          add: \"Adicionar WhatsApp\",\n          edit: \"Editar WhatsApp\",\n        },\n        form: {\n          name: \"Nome\",\n          default: \"Padrão\",\n          farewellMessage: \"Mensagem de despedida\"\n        },\n        buttons: {\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"WhatsApp salvo com sucesso.\",\n      },\n      qrCode: {\n        message: \"Leia o QrCode para iniciar a sessão\",\n      },\n      contacts: {\n        title: \"Contatos\",\n        toasts: {\n          deleted: \"Contato excluído com sucesso!\",\n        },\n        searchPlaceholder: \"Pesquisar...\",\n        confirmationModal: {\n          deleteTitle: \"Deletar \",\n          importTitlte: \"Importar contatos\",\n          deleteMessage:\n            \"Tem certeza que deseja deletar este contato? Todos os tickets relacionados serão perdidos.\",\n          importMessage: \"Deseja importas todos os contatos do telefone?\",\n        },\n        buttons: {\n          import: \"Importar Contatos\",\n          add: \"Adicionar Contato\",\n        },\n        table: {\n          name: \"Nome\",\n          whatsapp: \"WhatsApp\",\n          email: \"Email\",\n          actions: \"Ações\",\n        },\n      },\n      contactModal: {\n        title: {\n          add: \"Adicionar contato\",\n          edit: \"Editar contato\",\n        },\n        form: {\n          mainInfo: \"Dados do contato\",\n          extraInfo: \"Informações adicionais\",\n          name: \"Nome\",\n          number: \"Número do Whatsapp\",\n          email: \"Email\",\n          extraName: \"Nome do campo\",\n          extraValue: \"Valor\",\n        },\n        buttons: {\n          addExtraInfo: \"Adicionar informação\",\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"Contato salvo com sucesso.\",\n      },\n      quickAnswersModal: {\n        title: {\n          add: \"Adicionar Resposta Rápida\",\n          edit: \"Editar Resposta Rápida\",\n        },\n        form: {\n          shortcut: \"Atalho\",\n          message: \"Resposta Rápida\",\n        },\n        buttons: {\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"Resposta Rápida salva com sucesso.\",\n      },\n      queueModal: {\n        title: {\n          add: \"Adicionar fila\",\n          edit: \"Editar fila\",\n        },\n        form: {\n          name: \"Nome\",\n          color: \"Cor\",\n          greetingMessage: \"Mensagem de saudação\",\n        },\n        buttons: {\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n      },\n      userModal: {\n        title: {\n          add: \"Adicionar usuário\",\n          edit: \"Editar usuário\",\n        },\n        form: {\n          name: \"Nome\",\n          email: \"Email\",\n          password: \"Senha\",\n          profile: \"Perfil\",\n        },\n        buttons: {\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"Usuário salvo com sucesso.\",\n      },\n      chat: {\n        noTicketMessage: \"Selecione um ticket para começar a conversar.\",\n      },\n      ticketsManager: {\n        buttons: {\n          newTicket: \"Novo\",\n        },\n      },\n      ticketsQueueSelect: {\n        placeholder: \"Filas\",\n      },\n      tickets: {\n        toasts: {\n          deleted: \"O ticket que você estava foi deletado.\",\n        },\n        notification: {\n          message: \"Mensagem de\",\n        },\n        tabs: {\n          open: { title: \"Inbox\" },\n          closed: { title: \"Resolvidos\" },\n          search: { title: \"Busca\" },\n        },\n        search: {\n          placeholder: \"Buscar tickets e mensagens\",\n        },\n        buttons: {\n          showAll: \"Todos\",\n        },\n      },\n      transferTicketModal: {\n        title: \"Transferir Ticket\",\n        fieldLabel: \"Digite para buscar usuários\",\n        noOptions: \"Nenhum usuário encontrado com esse nome\",\n        buttons: {\n          ok: \"Transferir\",\n          cancel: \"Cancelar\",\n        },\n      },\n      ticketsList: {\n        pendingHeader: \"Aguardando\",\n        assignedHeader: \"Atendendo\",\n        noTicketsTitle: \"Nada aqui!\",\n        noTicketsMessage:\n          \"Nenhum ticket encontrado com esse status ou termo pesquisado\",\n        connectionTitle: \"Conexão que está sendo utilizada atualmente.\",\n        buttons: {\n          accept: \"Aceitar\",\n        },\n      },\n      newTicketModal: {\n        title: \"Criar Ticket\",\n        fieldLabel: \"Digite para pesquisar o contato\",\n        add: \"Adicionar\",\n        buttons: {\n          ok: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n      },\n      mainDrawer: {\n        listItems: {\n          dashboard: \"Dashboard\",\n          connections: \"Conexões\",\n          tickets: \"Tickets\",\n          contacts: \"Contatos\",\n          quickAnswers: \"Respostas Rápidas\",\n          queues: \"Filas\",\n          administration: \"Administração\",\n          users: \"Usuários\",\n          settings: \"Configurações\",\n          ZDG: \"Envio Automático\",\n          ZDGMedia: \"Envio de Mídia\",\n          ZDGGroups: \"Grupos\",\n          Direct: \"Direct IG\",\n          SMS: \"SMS\",\n          VoiceCall: \"Chamada Telefônica\",\n          Chatbot: \"Chatbot\",\n          ZDGAgendamento: \"Agendadas\",\n          ZDGHistorico: \"Histórico\"\n\n        },\n        appBar: {\n          user: {\n            profile: \"Perfil\",\n            logout: \"Sair\",\n          },\n        },\n      },\n      notifications: {\n        noTickets: \"Nenhuma notificação.\",\n      },\n      queues: {\n        title: \"Filas\",\n        table: {\n          name: \"Nome\",\n          color: \"Cor\",\n          greeting: \"Mensagem de saudação\",\n          actions: \"Ações\",\n        },\n        buttons: {\n          add: \"Adicionar fila\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Excluir\",\n          deleteMessage:\n            \"Você tem certeza? Essa ação não pode ser revertida! Os tickets dessa fila continuarão existindo, mas não terão mais nenhuma fila atribuída.\",\n        },\n      },\n      queueSelect: {\n        inputLabel: \"Filas\",\n      },\n      quickAnswers: {\n        title: \"Respostas Rápidas\",\n        table: {\n          shortcut: \"Atalho\",\n          message: \"Resposta Rápida\",\n          actions: \"Ações\",\n        },\n        buttons: {\n          add: \"Adicionar Resposta Rápida\",\n        },\n        toasts: {\n          deleted: \"Resposta Rápida excluída com sucesso.\",\n        },\n        searchPlaceholder: \"Pesquisar...\",\n        confirmationModal: {\n          deleteTitle:\n            \"Você tem certeza que quer excluir esta Resposta Rápida: \",\n          deleteMessage: \"Esta ação não pode ser revertida.\",\n        },\n      },\n      users: {\n        title: \"Usuários\",\n        table: {\n          name: \"Nome\",\n          email: \"Email\",\n          profile: \"Perfil\",\n          actions: \"Ações\",\n        },\n        buttons: {\n          add: \"Adicionar usuário\",\n        },\n        toasts: {\n          deleted: \"Usuário excluído com sucesso.\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Excluir\",\n          deleteMessage:\n            \"Todos os dados do usuário serão perdidos. Os tickets abertos deste usuário serão movidos para a fila.\",\n        },\n      },\n      settings: {\n        success: \"Configurações salvas com sucesso.\",\n        title: \"Configurações\",\n        settings: {\n          userCreation: {\n            name: \"Criação de usuário\",\n            options: {\n              enabled: \"Ativado\",\n              disabled: \"Desativado\",\n            },\n          },\n        },\n      },\n      messagesList: {\n        header: {\n          assignedTo: \"Atribuído à:\",\n          buttons: {\n            return: \"Retornar\",\n            resolve: \"Resolver\",\n            reopen: \"Reabrir\",\n            accept: \"Aceitar\",\n          },\n        },\n      },\n      messagesInput: {\n        placeholderOpen: \"Digite uma mensagem\",\n        placeholderClosed:\n          \"Reabra ou aceite esse ticket para enviar uma mensagem.\",\n        signMessage: \"Assinar\",\n      },\n      contactDrawer: {\n        header: \"Dados do contato\",\n        buttons: {\n          edit: \"Editar contato\",\n        },\n        extraInfo: \"Outras informações\",\n      },\n      ticketOptionsMenu: {\n        delete: \"Deletar\",\n        transfer: \"Transferir\",\n        confirmationModal: {\n          title: \"Deletar o ticket do contato\",\n          message:\n            \"Atenção! Todas as mensagens relacionadas ao ticket serão perdidas.\",\n        },\n        buttons: {\n          delete: \"Excluir\",\n          cancel: \"Cancelar\",\n        },\n      },\n      confirmationModal: {\n        buttons: {\n          confirm: \"Ok\",\n          cancel: \"Cancelar\",\n        },\n      },\n      messageOptionsMenu: {\n        delete: \"Deletar\",\n        reply: \"Responder\",\n        confirmationModal: {\n          title: \"Apagar mensagem?\",\n          message: \"Esta ação não pode ser revertida.\",\n        },\n      },\n      backendErrors: {\n        ERR_NO_OTHER_WHATSAPP: \"Deve haver pelo menos um WhatsApp padrão.\",\n        ERR_NO_DEF_WAPP_FOUND:\n          \"Nenhum WhatsApp padrão encontrado. Verifique a página de conexões.\",\n        ERR_WAPP_NOT_INITIALIZED:\n          \"Esta sessão do WhatsApp não foi inicializada. Verifique a página de conexões.\",\n        ERR_WAPP_CHECK_CONTACT:\n          \"Não foi possível verificar o contato do WhatsApp. Verifique a página de conexões\",\n        ERR_WAPP_INVALID_CONTACT: \"Este não é um número de Whatsapp válido.\",\n        ERR_WAPP_DOWNLOAD_MEDIA:\n          \"Não foi possível baixar mídia do WhatsApp. Verifique a página de conexões.\",\n        ERR_INVALID_CREDENTIALS:\n          \"Erro de autenticação. Por favor, tente novamente.\",\n        ERR_SENDING_WAPP_MSG:\n          \"Erro ao enviar mensagem do WhatsApp. Verifique a página de conexões.\",\n        ERR_DELETE_WAPP_MSG: \"Não foi possível excluir a mensagem do WhatsApp.\",\n        ERR_OTHER_OPEN_TICKET: \"Já existe um tíquete aberto para este contato.\",\n        ERR_SESSION_EXPIRED: \"Sessão expirada. Por favor entre.\",\n        ERR_USER_CREATION_DISABLED:\n          \"A criação do usuário foi desabilitada pelo administrador.\",\n        ERR_NO_PERMISSION: \"Você não tem permissão para acessar este recurso.\",\n        ERR_DUPLICATED_CONTACT: \"Já existe um contato com este número.\",\n        ERR_NO_SETTING_FOUND: \"Nenhuma configuração encontrada com este ID.\",\n        ERR_NO_CONTACT_FOUND: \"Nenhum contato encontrado com este ID.\",\n        ERR_NO_TICKET_FOUND: \"Nenhum tíquete encontrado com este ID.\",\n        ERR_NO_USER_FOUND: \"Nenhum usuário encontrado com este ID.\",\n        ERR_NO_WAPP_FOUND: \"Nenhum WhatsApp encontrado com este ID.\",\n        ERR_CREATING_MESSAGE: \"Erro ao criar mensagem no banco de dados.\",\n        ERR_CREATING_TICKET: \"Erro ao criar tíquete no banco de dados.\",\n        ERR_FETCH_WAPP_MSG:\n          \"Erro ao buscar a mensagem no WhtasApp, talvez ela seja muito antiga.\",\n        ERR_QUEUE_COLOR_ALREADY_EXISTS:\n          \"Esta cor já está em uso, escolha outra.\",\n        ERR_WAPP_GREETING_REQUIRED:\n          \"A mensagem de saudação é obrigatório quando há mais de uma fila.\",\n      },\n    },\n  },\n};\n\nexport { messages };\n","const messages = {\n  en: {\n    translations: {\n      signup: {\n        title: \"Sign up\",\n        toasts: {\n          success: \"User created successfully! Please login!\",\n          fail: \"Error creating user. Check the reported data.\",\n        },\n        form: {\n          name: \"Name\",\n          email: \"Email\",\n          password: \"Password\",\n        },\n        buttons: {\n          submit: \"Register\",\n          login: \"Already have an account? Log in!\",\n        },\n      },\n      login: {\n        title: \"Login\",\n        form: {\n          email: \"Email\",\n          password: \"Password\",\n        },\n        buttons: {\n          submit: \"Enter\",\n          register: \"Don't have an account? Register!\",\n        },\n      },\n      auth: {\n        toasts: {\n          success: \"Login successfully!\",\n        },\n      },\n      dashboard: {\n        charts: {\n          perDay: {\n            title: \"Tickets today: \",\n          },\n        },\n        messages: {\n          inAttendance: {\n            title: \"In Service\"\n          },\n          waiting: {\n            title: \"Waiting\"\n          },\n          closed: {\n            title: \"Closed\"\n          }\n        }\n      },\n      connections: {\n        title: \"Connections\",\n        toasts: {\n          deleted: \"WhatsApp connection deleted sucessfully!\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Delete\",\n          deleteMessage: \"Are you sure? It cannot be reverted.\",\n          disconnectTitle: \"Disconnect\",\n          disconnectMessage: \"Are you sure? You'll need to read QR Code again.\",\n        },\n        buttons: {\n          add: \"Add WhatsApp\",\n          disconnect: \"Disconnect\",\n          tryAgain: \"Try Again\",\n          qrcode: \"QR CODE\",\n          newQr: \"New QR CODE\",\n          connecting: \"Connectiing\",\n        },\n        toolTips: {\n          disconnected: {\n            title: \"Failed to start WhatsApp session\",\n            content:\n              \"Make sure your cell phone is connected to the internet and try again, or request a new QR Code\",\n          },\n          qrcode: {\n            title: \"Waiting for QR Code read\",\n            content:\n              \"Click on 'QR CODE' button and read the QR Code with your cell phone to start session\",\n          },\n          connected: {\n            title: \"Connection established\",\n          },\n          timeout: {\n            title: \"Connection with cell phone has been lost\",\n            content:\n              \"Make sure your cell phone is connected to the internet and WhatsApp is open, or click on 'Disconnect' button to get a new QRcode\",\n          },\n        },\n        table: {\n          name: \"Name\",\n          status: \"Status\",\n          lastUpdate: \"Last Update\",\n          default: \"Default\",\n          actions: \"Actions\",\n          session: \"Session\",\n        },\n      },\n      whatsappModal: {\n        title: {\n          add: \"Add WhatsApp\",\n          edit: \"Edit WhatsApp\",\n        },\n        form: {\n          name: \"Name\",\n          default: \"Default\",\n        },\n        buttons: {\n          okAdd: \"Add\",\n          okEdit: \"Save\",\n          cancel: \"Cancel\",\n        },\n        success: \"WhatsApp saved successfully.\",\n      },\n      qrCode: {\n        message: \"Read QrCode to start the session\",\n      },\n      contacts: {\n        title: \"Contacts\",\n        toasts: {\n          deleted: \"Contact deleted sucessfully!\",\n        },\n        searchPlaceholder: \"Search ...\",\n        confirmationModal: {\n          deleteTitle: \"Delete\",\n          importTitlte: \"Import contacts\",\n          deleteMessage:\n            \"Are you sure you want to delete this contact? All related tickets will be lost.\",\n          importMessage: \"Do you want to import all contacts from the phone?\",\n        },\n        buttons: {\n          import: \"Import Contacts\",\n          add: \"Add Contact\",\n        },\n        table: {\n          name: \"Name\",\n          whatsapp: \"WhatsApp\",\n          email: \"Email\",\n          actions: \"Actions\",\n        },\n      },\n      contactModal: {\n        title: {\n          add: \"Add contact\",\n          edit: \"Edit contact\",\n        },\n        form: {\n          mainInfo: \"Contact details\",\n          extraInfo: \"Additional information\",\n          name: \"Name\",\n          number: \"Whatsapp number\",\n          email: \"Email\",\n          extraName: \"Field name\",\n          extraValue: \"Value\",\n        },\n        buttons: {\n          addExtraInfo: \"Add information\",\n          okAdd: \"Add\",\n          okEdit: \"Save\",\n          cancel: \"Cancel\",\n        },\n        success: \"Contact saved successfully.\",\n      },\n      quickAnswersModal: {\n        title: {\n          add: \"Add Quick Reply\",\n          edit: \"Edit Quick Answer\",\n        },\n        form: {\n          shortcut: \"Shortcut\",\n          message: \"Quick Reply\",\n        },\n        buttons: {\n          okAdd: \"Add\",\n          okEdit: \"Save\",\n          cancel: \"Cancel\",\n        },\n        success: \"Quick Reply saved successfully.\",\n      },\n      queueModal: {\n        title: {\n          add: \"Add queue\",\n          edit: \"Edit queue\",\n        },\n        form: {\n          name: \"Name\",\n          color: \"Color\",\n          greetingMessage: \"Greeting Message\",\n        },\n        buttons: {\n          okAdd: \"Add\",\n          okEdit: \"Save\",\n          cancel: \"Cancel\",\n        },\n      },\n      userModal: {\n        title: {\n          add: \"Add user\",\n          edit: \"Edit user\",\n        },\n        form: {\n          name: \"Name\",\n          email: \"Email\",\n          password: \"Password\",\n          profile: \"Profile\",\n        },\n        buttons: {\n          okAdd: \"Add\",\n          okEdit: \"Save\",\n          cancel: \"Cancel\",\n        },\n        success: \"User saved successfully.\",\n      },\n      chat: {\n        noTicketMessage: \"Select a ticket to start chatting.\",\n      },\n      ticketsManager: {\n        buttons: {\n          newTicket: \"New\",\n        },\n      },\n      ticketsQueueSelect: {\n        placeholder: \"Queues\",\n      },\n      tickets: {\n        toasts: {\n          deleted: \"The ticket you were on has been deleted.\",\n        },\n        notification: {\n          message: \"Message from\",\n        },\n        tabs: {\n          open: { title: \"Inbox\" },\n          closed: { title: \"Resolved\" },\n          search: { title: \"Search\" },\n        },\n        search: {\n          placeholder: \"Search tickets and messages.\",\n        },\n        buttons: {\n          showAll: \"All\",\n        },\n      },\n      transferTicketModal: {\n        title: \"Transfer Ticket\",\n        fieldLabel: \"Type to search for users\",\n        fieldQueueLabel: \"Transfer to queue\",\n        fieldQueuePlaceholder: \"Please select a queue\",\n        noOptions: \"No user found with this name\",\n        buttons: {\n          ok: \"Transfer\",\n          cancel: \"Cancel\",\n        },\n      },\n      ticketsList: {\n        pendingHeader: \"Queue\",\n        assignedHeader: \"Working on\",\n        noTicketsTitle: \"Nothing here!\",\n        noTicketsMessage: \"No tickets found with this status or search term.\",\n        buttons: {\n          accept: \"Accept\",\n        },\n      },\n      newTicketModal: {\n        title: \"Create Ticket\",\n        fieldLabel: \"Type to search for a contact\",\n        add: \"Add\",\n        buttons: {\n          ok: \"Save\",\n          cancel: \"Cancel\",\n        },\n      },\n      mainDrawer: {\n        listItems: {\n          dashboard: \"Dashboard\",\n          connections: \"Connections\",\n          tickets: \"Tickets\",\n          contacts: \"Contacts\",\n          quickAnswers: \"Quick Answers\",\n          queues: \"Queues\",\n          administration: \"Administration\",\n          users: \"Users\",\n          settings: \"Settings\",\n        },\n        appBar: {\n          user: {\n            profile: \"Profile\",\n            logout: \"Logout\",\n          },\n        },\n      },\n      notifications: {\n        noTickets: \"No notifications.\",\n      },\n      queues: {\n        title: \"Queues\",\n        table: {\n          name: \"Name\",\n          color: \"Color\",\n          greeting: \"Greeting message\",\n          actions: \"Actions\",\n        },\n        buttons: {\n          add: \"Add queue\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Delete\",\n          deleteMessage:\n            \"Are you sure? It cannot be reverted! Tickets in this queue will still exist, but will not have any queues assigned.\",\n        },\n      },\n      queueSelect: {\n        inputLabel: \"Queues\",\n      },\n      quickAnswers: {\n        title: \"Quick Answers\",\n        table: {\n          shortcut: \"Shortcut\",\n          message: \"Quick Reply\",\n          actions: \"Actions\",\n        },\n        buttons: {\n          add: \"Add Quick Reply\",\n        },\n        toasts: {\n          deleted: \"Quick Reply deleted successfully.\",\n        },\n        searchPlaceholder: \"Search...\",\n        confirmationModal: {\n          deleteTitle: \"Are you sure you want to delete this Quick Reply: \",\n          deleteMessage: \"This action cannot be undone.\",\n        },\n      },\n      users: {\n        title: \"Users\",\n        table: {\n          name: \"Name\",\n          email: \"Email\",\n          profile: \"Profile\",\n          actions: \"Actions\",\n        },\n        buttons: {\n          add: \"Add user\",\n        },\n        toasts: {\n          deleted: \"User deleted sucessfully.\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Delete\",\n          deleteMessage:\n            \"All user data will be lost. Users' open tickets will be moved to queue.\",\n        },\n      },\n      settings: {\n        success: \"Settings saved successfully.\",\n        title: \"Settings\",\n        settings: {\n          userCreation: {\n            name: \"User creation\",\n            options: {\n              enabled: \"Enabled\",\n              disabled: \"Disabled\",\n            },\n          },\n        },\n      },\n      messagesList: {\n        header: {\n          assignedTo: \"Assigned to:\",\n          buttons: {\n            return: \"Return\",\n            resolve: \"Resolve\",\n            reopen: \"Reopen\",\n            accept: \"Accept\",\n          },\n        },\n      },\n      messagesInput: {\n        placeholderOpen: \"Type a message or press ''/'' to use the registered quick responses\",\n        placeholderClosed: \"Reopen or accept this ticket to send a message.\",\n        signMessage: \"Sign\",\n      },\n      contactDrawer: {\n        header: \"Contact details\",\n        buttons: {\n          edit: \"Edit contact\",\n        },\n        extraInfo: \"Other information\",\n      },\n      ticketOptionsMenu: {\n        delete: \"Delete\",\n        transfer: \"Transfer\",\n        confirmationModal: {\n          title: \"Delete ticket #\",\n          titleFrom: \"from contact \",\n          message: \"Attention! All ticket's related messages will be lost.\",\n        },\n        buttons: {\n          delete: \"Delete\",\n          cancel: \"Cancel\",\n        },\n      },\n      confirmationModal: {\n        buttons: {\n          confirm: \"Ok\",\n          cancel: \"Cancel\",\n        },\n      },\n      messageOptionsMenu: {\n        delete: \"Delete\",\n        reply: \"Reply\",\n        confirmationModal: {\n          title: \"Delete message?\",\n          message: \"This action cannot be reverted.\",\n        },\n      },\n      backendErrors: {\n        ERR_NO_OTHER_WHATSAPP:\n          \"There must be at lest one default WhatsApp connection.\",\n        ERR_NO_DEF_WAPP_FOUND:\n          \"No default WhatsApp found. Check connections page.\",\n        ERR_WAPP_NOT_INITIALIZED:\n          \"This WhatsApp session is not initialized. Check connections page.\",\n        ERR_WAPP_CHECK_CONTACT:\n          \"Could not check WhatsApp contact. Check connections page.\",\n        ERR_WAPP_INVALID_CONTACT: \"This is not a valid whatsapp number.\",\n        ERR_WAPP_DOWNLOAD_MEDIA:\n          \"Could not download media from WhatsApp. Check connections page.\",\n        ERR_INVALID_CREDENTIALS: \"Authentication error. Please try again.\",\n        ERR_SENDING_WAPP_MSG:\n          \"Error sending WhatsApp message. Check connections page.\",\n        ERR_DELETE_WAPP_MSG: \"Couldn't delete message from WhatsApp.\",\n        ERR_OTHER_OPEN_TICKET:\n          \"There's already an open ticket for this contact.\",\n        ERR_SESSION_EXPIRED: \"Session expired. Please login.\",\n        ERR_USER_CREATION_DISABLED:\n          \"User creation was disabled by administrator.\",\n        ERR_NO_PERMISSION: \"You don't have permission to access this resource.\",\n        ERR_DUPLICATED_CONTACT: \"A contact with this number already exists.\",\n        ERR_NO_SETTING_FOUND: \"No setting found with this ID.\",\n        ERR_NO_CONTACT_FOUND: \"No contact found with this ID.\",\n        ERR_NO_TICKET_FOUND: \"No ticket found with this ID.\",\n        ERR_NO_USER_FOUND: \"No user found with this ID.\",\n        ERR_NO_WAPP_FOUND: \"No WhatsApp found with this ID.\",\n        ERR_CREATING_MESSAGE: \"Error while creating message on database.\",\n        ERR_CREATING_TICKET: \"Error while creating ticket on database.\",\n        ERR_FETCH_WAPP_MSG:\n          \"Error fetching the message in WhtasApp, maybe it is too old.\",\n        ERR_QUEUE_COLOR_ALREADY_EXISTS:\n          \"This color is already in use, pick another one.\",\n        ERR_WAPP_GREETING_REQUIRED:\n          \"Greeting message is required if there is more than one queue.\",\n      },\n    },\n  },\n};\n\nexport { messages };\n","const messages = {\n  es: {\n    translations: {\n      signup: {\n        title: \"Registro\",\n        toasts: {\n          success:\n            \"¡El usuario ha sido creado satisfactoriamente! ¡Ahora inicia sesión!\",\n          fail: \"Error creando el usuario. Verifica la data reportada.\",\n        },\n        form: {\n          name: \"Nombre\",\n          email: \"Correo Electrónico\",\n          password: \"Contraseña\",\n        },\n        buttons: {\n          submit: \"Regístrate\",\n          login: \"¿Ya tienes una cuenta? ¡Inicia sesión!\",\n        },\n      },\n      login: {\n        title: \"Inicio de Sesión\",\n        form: {\n          email: \"Correo Electrónico\",\n          password: \"Contraseña\",\n        },\n        buttons: {\n          submit: \"Ingresa\",\n          register: \"¿No tienes cuenta? ¡Regístrate!\",\n        },\n      },\n      auth: {\n        toasts: {\n          success: \"¡Inicio de sesión exitoso!\",\n        },\n      },\n      dashboard: {\n        charts: {\n          perDay: {\n            title: \"Tickets hoy: \",\n          },\n        },\n        messages: {\n          inAttendance: {\n            title: \"En servicio\"\n          },\n          waiting: {\n            title: \"Esperando\"\n          },\n          closed: {\n            title: \"Finalizado\"\n          }\n        }\n      },\n      connections: {\n        title: \"Conexiones\",\n        toasts: {\n          deleted:\n            \"¡La conexión de WhatsApp ha sido borrada satisfactoriamente!\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Borrar\",\n          deleteMessage: \"¿Estás seguro? Este proceso no puede ser revertido.\",\n          disconnectTitle: \"Desconectar\",\n          disconnectMessage: \"Estás seguro? Deberá volver a leer el código QR\",\n        },\n        buttons: {\n          add: \"Agrega WhatsApp\",\n          disconnect: \"Desconectar\",\n          tryAgain: \"Inténtalo de nuevo\",\n          qrcode: \"QR CODE\",\n          newQr: \"Nuevo QR CODE\",\n          connecting: \"Conectando\",\n        },\n        toolTips: {\n          disconnected: {\n            title: \"No se pudo iniciar la sesión de WhatsApp\",\n            content:\n              \"Asegúrese de que su teléfono celular esté conectado a Internet y vuelva a intentarlo o solicite un nuevo código QR\",\n          },\n          qrcode: {\n            title: \"Esperando la lectura del código QR\",\n            content:\n              \"Haga clic en el botón 'CÓDIGO QR' y lea el Código QR con su teléfono celular para iniciar la sesión\",\n          },\n          connected: {\n            title: \"Conexión establecida\",\n          },\n          timeout: {\n            title: \"Se perdió la conexión con el teléfono celular\",\n            content:\n              \"Asegúrese de que su teléfono celular esté conectado a Internet y que WhatsApp esté abierto, o haga clic en el botón 'Desconectar' para obtener un nuevo código QR\",\n          },\n        },\n        table: {\n          name: \"Nombre\",\n          status: \"Estado\",\n          lastUpdate: \"Última Actualización\",\n          default: \"Por Defecto\",\n          actions: \"Acciones\",\n          session: \"Sesión\",\n        },\n      },\n      whatsappModal: {\n        title: {\n          add: \"Agrega WhatsApp\",\n          edit: \"Edita WhatsApp\",\n        },\n        form: {\n          name: \"Nombre\",\n          default: \"Por Defecto\",\n        },\n        buttons: {\n          okAdd: \"Agregar\",\n          okEdit: \"Guardar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"WhatsApp guardado satisfactoriamente.\",\n      },\n      qrCode: {\n        message: \"Lée el código QR para empezar la sesión.\",\n      },\n      contacts: {\n        title: \"Contactos\",\n        toasts: {\n          deleted: \"¡Contacto borrado satisfactoriamente!\",\n        },\n        searchPlaceholder: \"Buscar...\",\n        confirmationModal: {\n          deleteTitle: \"Borrar\",\n          importTitlte: \"Importar contactos\",\n          deleteMessage:\n            \"¿Estás seguro que deseas borrar este contacto? Todos los tickets relacionados se perderán.\",\n          importMessage:\n            \"¿Quieres importar todos los contactos desde tu teléfono?\",\n        },\n        buttons: {\n          import: \"Importar Contactos\",\n          add: \"Agregar Contacto\",\n        },\n        table: {\n          name: \"Nombre\",\n          whatsapp: \"WhatsApp\",\n          email: \"Correo Electrónico\",\n          actions: \"Acciones\",\n        },\n      },\n      contactModal: {\n        title: {\n          add: \"Agregar contacto\",\n          edit: \"Editar contacto\",\n        },\n        form: {\n          mainInfo: \"Detalles del contacto\",\n          extraInfo: \"Información adicional\",\n          name: \"Nombre\",\n          number: \"Número de Whatsapp\",\n          email: \"Correo Electrónico\",\n          extraName: \"Nombre del Campo\",\n          extraValue: \"Valor\",\n        },\n        buttons: {\n          addExtraInfo: \"Agregar información\",\n          okAdd: \"Agregar\",\n          okEdit: \"Guardar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"Contacto guardado satisfactoriamente.\",\n      },\n      quickAnswersModal: {\n        title: {\n          add: \"Agregar respuesta rápida\",\n          edit: \"Editar respuesta rápida\",\n        },\n        form: {\n          shortcut: \"Atajo\",\n          message: \"Respuesta rápida\",\n        },\n        buttons: {\n          okAdd: \"Agregar\",\n          okEdit: \"Guardar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"Respuesta rápida guardada correctamente.\",\n      },\n      queueModal: {\n        title: {\n          add: \"Agregar cola\",\n          edit: \"Editar cola\",\n        },\n        form: {\n          name: \"Nombre\",\n          color: \"Color\",\n          greetingMessage: \"Mensaje de saludo\",\n        },\n        buttons: {\n          okAdd: \"Añadir\",\n          okEdit: \"Ahorrar\",\n          cancel: \"Cancelar\",\n        },\n      },\n      userModal: {\n        title: {\n          add: \"Agregar usuario\",\n          edit: \"Editar usuario\",\n        },\n        form: {\n          name: \"Nombre\",\n          email: \"Correo Electrónico\",\n          password: \"Contraseña\",\n          profile: \"Perfil\",\n        },\n        buttons: {\n          okAdd: \"Agregar\",\n          okEdit: \"Guardar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"Usuario guardado satisfactoriamente.\",\n      },\n      chat: {\n        noTicketMessage: \"Selecciona un ticket para empezar a chatear.\",\n      },\n      ticketsManager: {\n        buttons: {\n          newTicket: \"Nuevo\",\n        },\n      },\n      ticketsQueueSelect: {\n        placeholder: \"Linhas\",\n      },\n      tickets: {\n        toasts: {\n          deleted: \"El ticket en el que estabas ha sido borrado.\",\n        },\n        notification: {\n          message: \"Mensaje de\",\n        },\n        tabs: {\n          open: { title: \"Bandeja\" },\n          closed: { title: \"Resueltos\" },\n          search: { title: \"Buscar\" },\n        },\n        search: {\n          placeholder: \"Buscar tickets y mensajes.\",\n        },\n        buttons: {\n          showAll: \"Todos\",\n        },\n      },\n      transferTicketModal: {\n        title: \"Transferir Ticket\",\n        fieldLabel: \"Escriba para buscar usuarios\",\n        fieldQueueLabel: \"Transferir a la cola\",\n        fieldQueuePlaceholder: \"Seleccione una cola\",\n        noOptions: \"No se encontraron usuarios con ese nombre\",\n        buttons: {\n          ok: \"Transferir\",\n          cancel: \"Cancelar\",\n        },\n      },\n      ticketsList: {\n        pendingHeader: \"Cola\",\n        assignedHeader: \"Trabajando en\",\n        noTicketsTitle: \"¡Nada acá!\",\n        noTicketsMessage:\n          \"No se encontraron tickets con este estado o término de búsqueda\",\n        buttons: {\n          accept: \"Acceptar\",\n        },\n      },\n      newTicketModal: {\n        title: \"Crear Ticket\",\n        fieldLabel: \"Escribe para buscar un contacto\",\n        add: \"Añadir\",\n        buttons: {\n          ok: \"Guardar\",\n          cancel: \"Cancelar\",\n        },\n      },\n      mainDrawer: {\n        listItems: {\n          dashboard: \"Dashboard\",\n          connections: \"Conexiones\",\n          tickets: \"Tickets\",\n          contacts: \"Contactos\",\n          quickAnswers: \"Respuestas rápidas\",\n          queues: \"Linhas\",\n          administration: \"Administración\",\n          users: \"Usuarios\",\n          settings: \"Configuración\",\n        },\n        appBar: {\n          user: {\n            profile: \"Perfil\",\n            logout: \"Cerrar Sesión\",\n          },\n        },\n      },\n      notifications: {\n        noTickets: \"Sin notificaciones.\",\n      },\n      queues: {\n        title: \"Linhas\",\n        table: {\n          name: \"Nombre\",\n          color: \"Color\",\n          greeting: \"Mensaje de saludo\",\n          actions: \"Comportamiento\",\n        },\n        buttons: {\n          add: \"Agregar cola\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Eliminar\",\n          deleteMessage:\n            \"¿Estás seguro? ¡Esta acción no se puede revertir! Los tickets en esa cola seguirán existiendo, pero ya no tendrán ninguna cola asignada.\",\n        },\n      },\n      queueSelect: {\n        inputLabel: \"Linhas\",\n      },\n      quickAnswers: {\n        title: \"Respuestas rápidas\",\n        table: {\n          shortcut: \"Atajo\",\n          message: \"Respuesta rápida\",\n          actions: \"Acciones\",\n        },\n        buttons: {\n          add: \"Agregar respuesta rápida\",\n        },\n        toasts: {\n          deleted: \"Respuesta rápida eliminada correctamente\",\n        },\n        searchPlaceholder: \"Buscar ...\",\n        confirmationModal: {\n          deleteTitle:\n            \"¿Está seguro de que desea eliminar esta respuesta rápida?\",\n          deleteMessage: \"Esta acción no se puede deshacer.\",\n        },\n      },\n      users: {\n        title: \"Usuarios\",\n        table: {\n          name: \"Nombre\",\n          email: \"Correo Electrónico\",\n          profile: \"Perfil\",\n          actions: \"Acciones\",\n        },\n        buttons: {\n          add: \"Agregar usuario\",\n        },\n        toasts: {\n          deleted: \"Usuario borrado satisfactoriamente.\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Borrar\",\n          deleteMessage:\n            \"Toda la información del usuario se perderá. Los tickets abiertos de los usuarios se moverán a la cola.\",\n        },\n      },\n      settings: {\n        success: \"Configuración guardada satisfactoriamente.\",\n        title: \"Configuración\",\n        settings: {\n          userCreation: {\n            name: \"Creación de usuarios\",\n            options: {\n              enabled: \"Habilitado\",\n              disabled: \"Deshabilitado\",\n            },\n          },\n        },\n      },\n      messagesList: {\n        header: {\n          assignedTo: \"Asignado a:\",\n          buttons: {\n            return: \"Devolver\",\n            resolve: \"Resolver\",\n            reopen: \"Reabrir\",\n            accept: \"Aceptar\",\n          },\n        },\n      },\n      messagesInput: {\n        placeholderOpen: \"Escriba un mensaje o presione '' / '' para usar las respuestas rápidas registradas\",\n        placeholderClosed:\n          \"Vuelva a abrir o acepte este ticket para enviar un mensaje.\",\n        signMessage: \"Firmar\",\n      },\n      contactDrawer: {\n        header: \"Detalles del contacto\",\n        buttons: {\n          edit: \"Editar contacto\",\n        },\n        extraInfo: \"Otra información\",\n      },\n      ticketOptionsMenu: {\n        delete: \"Borrar\",\n        transfer: \"Transferir\",\n        confirmationModal: {\n          title: \"¿Borrar ticket #\",\n          titleFrom: \"del contacto \",\n          message:\n            \"¡Atención! Todos los mensajes Todos los mensajes relacionados con el ticket se perderán.\",\n        },\n        buttons: {\n          delete: \"Borrar\",\n          cancel: \"Cancelar\",\n        },\n      },\n      confirmationModal: {\n        buttons: {\n          confirm: \"Ok\",\n          cancel: \"Cancelar\",\n        },\n      },\n      messageOptionsMenu: {\n        delete: \"Borrar\",\n        reply: \"Responder\",\n        confirmationModal: {\n          title: \"¿Borrar mensaje?\",\n          message: \"Esta acción no puede ser revertida.\",\n        },\n      },\n      backendErrors: {\n        ERR_NO_OTHER_WHATSAPP:\n          \"Debe haber al menos una conexión de WhatsApp predeterminada.\",\n        ERR_NO_DEF_WAPP_FOUND:\n          \"No se encontró WhatsApp predeterminado. Verifique la página de conexiones.\",\n        ERR_WAPP_NOT_INITIALIZED:\n          \"Esta sesión de WhatsApp no ​​está inicializada. Verifique la página de conexiones.\",\n        ERR_WAPP_CHECK_CONTACT:\n          \"No se pudo verificar el contacto de WhatsApp. Verifique la página de conexiones.\",\n        ERR_WAPP_INVALID_CONTACT: \"Este no es un número de whatsapp válido.\",\n        ERR_WAPP_DOWNLOAD_MEDIA:\n          \"No se pudieron descargar los medios de WhatsApp. Verifique la página de conexiones.\",\n        ERR_INVALID_CREDENTIALS: \"Error de autenticación. Vuelva a intentarlo.\",\n        ERR_SENDING_WAPP_MSG:\n          \"Error al enviar el mensaje de WhatsApp. Verifique la página de conexiones.\",\n        ERR_DELETE_WAPP_MSG: \"No se pudo borrar el mensaje de WhatsApp.\",\n        ERR_OTHER_OPEN_TICKET: \"Ya hay un ticket abierto para este contacto.\",\n        ERR_SESSION_EXPIRED: \"Sesión caducada. Inicie sesión.\",\n        ERR_USER_CREATION_DISABLED:\n          \"La creación de usuarios fue deshabilitada por el administrador.\",\n        ERR_NO_PERMISSION: \"No tienes permiso para acceder a este recurso.\",\n        ERR_DUPLICATED_CONTACT: \"Ya existe un contacto con este número.\",\n        ERR_NO_SETTING_FOUND:\n          \"No se encontró ninguna configuración con este ID.\",\n        ERR_NO_CONTACT_FOUND: \"No se encontró ningún contacto con este ID.\",\n        ERR_NO_TICKET_FOUND: \"No se encontró ningún ticket con este ID.\",\n        ERR_NO_USER_FOUND: \"No se encontró ningún usuario con este ID.\",\n        ERR_NO_WAPP_FOUND: \"No se encontró WhatsApp con este ID.\",\n        ERR_CREATING_MESSAGE: \"Error al crear el mensaje en la base de datos.\",\n        ERR_CREATING_TICKET: \"Error al crear el ticket en la base de datos.\",\n        ERR_FETCH_WAPP_MSG:\n          \"Error al obtener el mensaje en WhtasApp, tal vez sea demasiado antiguo.\",\n        ERR_QUEUE_COLOR_ALREADY_EXISTS:\n          \"Este color ya está en uso, elija otro.\",\n        ERR_WAPP_GREETING_REQUIRED:\n          \"El mensaje de saludo es obligatorio cuando hay más de una cola.\",\n      },\n    },\n  },\n};\n\nexport { messages };\n","import i18n from \"i18next\";\nimport LanguageDetector from \"i18next-browser-languagedetector\";\n\nimport { messages } from \"./languages\";\n\ni18n.use(LanguageDetector).init({\n\tdebug: false,\n\tdefaultNS: [\"translations\"],\n\tfallbackLng: \"en\",\n\tns: [\"translations\"],\n\tresources: messages,\n});\n\nexport { i18n };\n","module.exports = __webpack_public_path__ + \"static/media/sound.9fd5812c.mp3\";","import React, { useState, useEffect } from \"react\";\nimport { useParams, useHistory } from \"react-router-dom\";\n\nimport { toast } from \"react-toastify\";\nimport openSocket from \"socket.io-client\";\nimport clsx from \"clsx\";\n\nimport { Paper, makeStyles, Switch, FormGroup, FormControlLabel, Grid, Box } from \"@material-ui/core\";\n\nimport ContactDrawer from \"../ContactDrawer\";\nimport MessageInput from \"../MessageInput/\";\nimport TicketHeader from \"../TicketHeader\";\nimport TicketInfo from \"../TicketInfo\";\nimport TicketActionButtons from \"../TicketActionButtons\";\nimport MessagesList from \"../MessagesList\";\nimport api from \"../../services/api\";\nimport { ReplyMessageProvider } from \"../../context/ReplyingMessage/ReplyingMessageContext\";\nimport toastError from \"../../errors/toastError\";\n\nconst http = require('http');\n\nconst init = {\n  host: process.env.REACT_APP_BACKEND_URL.split(\"//\")[1],\n  path: '/zdgDialogFlowOn',\n  method: 'POST',\n  headers: {\n    'content-type': 'application/json; charset=utf-8'\n  }\n};\n\nconst init2 = {\n  host: process.env.REACT_APP_BACKEND_URL.split(\"//\")[1],\n  path: '/zdgDialogFlowOff',\n  method: 'POST',\n  headers: {\n    'content-type': 'application/json; charset=utf-8'\n  }\n};\n\nconst init3 = {\n  host: process.env.REACT_APP_BACKEND_URL.split(\"//\")[1],\n  path: '/zdgChatBotOn',\n  method: 'POST',\n  headers: {\n    'content-type': 'application/json; charset=utf-8'\n  }\n};\n\nconst init4 = {\n  host: process.env.REACT_APP_BACKEND_URL.split(\"//\")[1],\n  path: '/zdgChatBotOff',\n  method: 'POST',\n  headers: {\n    'content-type': 'application/json; charset=utf-8'\n  }\n};\n\nconst init5 = {\n  host: process.env.REACT_APP_BACKEND_URL.split(\"//\")[1],\n  path: '/zdgDialogFlowOnAudio',\n  method: 'POST',\n  headers: {\n    'content-type': 'application/json; charset=utf-8'\n  }\n};\n\nconst init6 = {\n  host: process.env.REACT_APP_BACKEND_URL.split(\"//\")[1],\n  path: '/zdgDialogFlowOffAudio',\n  method: 'POST',\n  headers: {\n    'content-type': 'application/json; charset=utf-8'\n  }\n};\n\nconst callback = function(response) {\n  let result = Buffer.alloc(0);\n  response.on('data', function(chunk) {\n    result = Buffer.concat([result, chunk]);\n  });\n  \n  response.on('end', function() {\n    console.log(result.toString());\n  });\n};\n\nconst drawerWidth = 320;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    height: \"100%\",\n    position: \"relative\",\n    overflow: \"hidden\",\n  },\n\n  ticketInfo: {\n    maxWidth: \"50%\",\n    flexBasis: \"50%\",\n    [theme.breakpoints.down(\"sm\")]: {\n      maxWidth: \"80%\",\n      flexBasis: \"80%\",\n    },\n  },\n  ticketActionButtons: {\n    maxWidth: \"50%\",\n    flexBasis: \"50%\",\n    display: \"flex\",\n    [theme.breakpoints.down(\"sm\")]: {\n      maxWidth: \"100%\",\n      flexBasis: \"100%\",\n      marginBottom: \"5px\",\n    },\n  },\n\n  mainWrapper: {\n    flex: 1,\n    height: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    overflow: \"hidden\",\n    borderTopLeftRadius: 0,\n    borderBottomLeftRadius: 0,\n    borderLeft: \"0\",\n    marginRight: -drawerWidth,\n    transition: theme.transitions.create(\"margin\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n\n  mainWrapperShift: {\n    borderTopRightRadius: 0,\n    borderBottomRightRadius: 0,\n    transition: theme.transitions.create(\"margin\", {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n    marginRight: 0,\n  },\n  button: {\n\t\tposition: \"relative\",\n\t\tbackgroundColor: \"green\",\n    fontSize: \"10px\",\n    margin: \"35px\",\n    marginLeft: \"2px\",\n    marginRight: \"2px\",\n    color: \"#FFF\",\n    width: \"5%\",\n    '&:hover': {\n      backgroundColor: \"red\",\n      color: \"#FFF\"\n    },    [theme.breakpoints.down(\"sm\")]: {\n      maxWidth: \"100%\",\n      flexBasis: \"100%\",\n      margin: \"5px\",\n      marginLeft: \"50px\",\n      marginRight: \"50px\",\n      marginBottom: \"5px\",\n    },\n\t},\n  box: {\n\t\tposition: \"relative\",\n    marginLeft: \"2px\",\n    marginRight: \"2px\",\n    [theme.breakpoints.down(\"sm\")]: {\n      display: \"none\"\n    },\n\t},\n}));\n\nconst Ticket = () => {\n\n  const [checked, setChecked] = React.useState(false);\n  const [checked2, setChecked2] = React.useState(false);\n  const [checked3, setChecked3] = React.useState(false);\n\n  const { ticketId } = useParams();\n  const history = useHistory();\n  const classes = useStyles();\n\n  const [drawerOpen, setDrawerOpen] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [contact, setContact] = useState({});\n  const [ticket, setTicket] = useState({});\n\n  async function DialogFlowOn() {\n    const req = http.request(init, callback);\n    const body = `{\"msgFrom\":\"${contact.number}\"}`;\n    await req.write(body);\n    alert(`DialogFlow ON: ${contact.name} - WPP: ${contact.number} Ticket: #${ticket.id}`);\n    req.end();\n  }\n\n  async function DialogFlowOff() {\n    const req = http.request(init2, callback);\n    const body = `{\"msgFrom\":\"${contact.number}\"}`;\n    await req.write(body);\n    alert(`DialogFlow Off: ${contact.name} - WPP: ${contact.number} Ticket: #${ticket.id}`);\n    req.end();\n  }\n\n  async function DialogFlowOnAudio() {\n    const req = http.request(init5, callback);\n    const body = `{\"msgFrom\":\"${contact.number}\"}`;\n    await req.write(body);\n    alert(`DialogFlow AUDIO ON: ${contact.name} - WPP: ${contact.number} Ticket: #${ticket.id}`);\n    req.end();\n  }\n\n  async function DialogFlowOffAudio() {\n    const req = http.request(init6, callback);\n    const body = `{\"msgFrom\":\"${contact.number}\"}`;\n    await req.write(body);\n    alert(`DialogFlow AUDIO Off: ${contact.name} - WPP: ${contact.number} Ticket: #${ticket.id}`);\n    req.end();\n  }\n\n  async function ChatBotOn() {\n    const req = http.request(init3, callback);\n    const body = `{\"msgFrom\":\"${contact.number}\"}`;\n    await req.write(body);\n    alert(`MYSQL On: ${contact.name} - WPP: ${contact.number} Ticket: #${ticket.id}`);\n    req.end();\n  }\n\n  async function ChatBotOff() {\n    const req = http.request(init4, callback);\n    const body = `{\"msgFrom\":\"${contact.number}\"}`;\n    await req.write(body);\n    alert(`MYSQL Off: ${contact.name} - WPP: ${contact.number} Ticket: #${ticket.id}`);\n    req.end();\n  }\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchTicket = async () => {\n        try {\n          const { data } = await api.get(\"/tickets/\" + ticketId);\n\n          setContact(data.contact);\n          setTicket(data);\n          setLoading(false);\n        } catch (err) {\n          setLoading(false);\n          toastError(err);\n        }\n      };\n      fetchTicket();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [ticketId, history]);\n\n  useEffect(() => {\n    const socket = openSocket(process.env.REACT_APP_BACKEND_URL);\n\n    socket.on(\"connect\", () => socket.emit(\"joinChatBox\", ticketId));\n\n    socket.on(\"ticket\", (data) => {\n      if (data.action === \"update\") {\n        setTicket(data.ticket);\n      }\n\n      if (data.action === \"delete\") {\n        toast.success(\"Ticket deleted sucessfully.\");\n        history.push(\"/tickets\");\n      }\n    });\n\n    socket.on(\"contact\", (data) => {\n      if (data.action === \"update\") {\n        setContact((prevState) => {\n          if (prevState.id === data.contact?.id) {\n            return { ...prevState, ...data.contact };\n          }\n          return prevState;\n        });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, [ticketId, history]);\n\n  const handleDrawerOpen = () => {\n    setDrawerOpen(true);\n  };\n\n  const handleDrawerClose = () => {\n    setDrawerOpen(false);\n  };\n\n  const handleChange = (event) => {\n    setChecked(event.target.checked);\n    if(checked === false)\n    {\n      DialogFlowOn();\n    }\n    else if (checked === true ){\n      DialogFlowOff();\n    }\n  };\n\n  const handleChange2 = (event) => {\n    setChecked2(event.target.checked);\n    if(checked2 === false)\n    {\n      ChatBotOn();\n    }\n    else if (checked2 === true ){\n      ChatBotOff();\n    }\n  };\n\n  const handleChange3 = (event) => {\n    setChecked3(event.target.checked);\n    if(checked3 === false)\n    {\n      DialogFlowOnAudio();\n    }\n    else if (checked3 === true ){\n      DialogFlowOffAudio();\n    }\n  };\n\n  return (\n    <div className={classes.root} id=\"drawer-container\">\n      <Paper\n        variant=\"outlined\"\n        elevation={0}\n        className={clsx(classes.mainWrapper, {\n          [classes.mainWrapperShift]: drawerOpen,\n        })}\n      >\n        <TicketHeader loading={loading}>\n          <div className={classes.ticketInfo}>\n            <TicketInfo\n              contact={contact}\n              ticket={ticket}\n              onClick={handleDrawerOpen}\n            />\n          </div>\n          <div className={classes.ticketActionButtons}>\n            <TicketActionButtons ticket={ticket} />\n          </div>\n\n\t  <FormControlLabel control={\n\t  <Switch\n\t     checked={checked2}\n             onChange={handleChange2}\n\t     inputProps={{ 'aria-label':'controlled' }}\t     \t\n\t  />} label=\"Habilita ChatBot\" />\n\n        </TicketHeader>\n\n        <ReplyMessageProvider>\n          <MessagesList\n            ticketId={ticketId}\n            isGroup={ticket.isGroup}\n          ></MessagesList>\n          <MessageInput ticketStatus={ticket.status} />\n        </ReplyMessageProvider>\n      </Paper>\n      <ContactDrawer\n        open={drawerOpen}\n        handleDrawerClose={handleDrawerClose}\n        contact={contact}\n        loading={loading}\n      />\n    </div>\n  );\n};\n\nexport default Ticket;\n","import React from \"react\";\n\nimport { Avatar, CardHeader } from \"@material-ui/core\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nconst TicketInfo = ({ contact, ticket, onClick }) => {\n\treturn (\n\t\t<CardHeader\n\t\t\tonClick={onClick}\n\t\t\tstyle={{ cursor: \"pointer\" }}\n\t\t\ttitleTypographyProps={{ noWrap: true }}\n\t\t\tsubheaderTypographyProps={{ noWrap: true }}\n\t\t\tavatar={<Avatar src={contact.profilePicUrl} alt=\"contact_image\" />}\n\t\t\ttitle={`${contact.name} #${ticket.id}`}\n\t\t\tsubheader={\n\t\t\t\tticket.user &&\n\t\t\t\t`${i18n.t(\"messagesList.header.assignedTo\")} ${ticket.user.name}`\n\t\t\t}\n\t\t/>\n\t);\n};\n\nexport default TicketInfo;\n","import React, { useContext, useState } from \"react\";\nimport { useHistory, useParams } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { IconButton } from \"@material-ui/core\";\nimport { MoreVert, Replay } from \"@material-ui/icons\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport TicketOptionsMenu from \"../TicketOptionsMenu\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst http = require('https');\n\nconst init = {\n\thost: process.env.REACT_APP_BACKEND_URL.split(\"//\")[1],\n\tpath: '/zdgProtocolo',\n  \tmethod: 'POST',\n  \theaders: {\n    'content-type': 'application/json; charset=utf-8'\n  }\n};\n\nconst init2 = {\n\thost: process.env.REACT_APP_BACKEND_URL.split(\"//\")[1],\n\tpath: '/zdgSendEmail',\n  \tmethod: 'POST',\n  \theaders: {\n    'content-type': 'application/json; charset=utf-8'\n  }\n};\n\nconst callback = function(response) {\n  let result = Buffer.alloc(0);\n  response.on('data', function(chunk) {\n    result = Buffer.concat([result, chunk]);\n  });\n  \n  response.on('end', function() {\n    console.log(result.toString());\n  });\n};\n\nasync function ZDGProtocolo(usuario, protocolo) {\n\tconst req = http.request(init, callback);\n\tconst body = `{\"usuario\":\"` + usuario + `\",\"protocolo\":\"`+ protocolo + `\"}`;\n\tawait req.write(body);\n\treq.end();\n}\n\nasync function ZDGEmail(zdgSubject, zdgText) {\n\tconst req = http.request(init2, callback);\n\tconst body = `{\"zdgSubject\":\"` + zdgSubject + `\",\"zdgText\":\"`+ zdgText.replace(/\\n/g, \"\\\\n\") + `\"}`;\n\tawait req.write(body);\n\treq.end();\n}\n\nconst useStyles = makeStyles(theme => ({\n\tactionButtons: {\n\t\tmarginRight: 6,\n\t\tflex: \"none\",\n\t\talignSelf: \"center\",\n\t\tmarginLeft: \"auto\",\n\t\t\"& > *\": {\n\t\t\tmargin: theme.spacing(1),\n\t\t},\n\t},\n}));\n\nconst TicketActionButtons = ({ ticket }) => {\n\tconst { ticketId } = useParams();\n\tconst classes = useStyles();\n\tconst history = useHistory();\n\tconst [anchorEl, setAnchorEl] = useState(null);\n\tconst [loading, setLoading] = useState(false);\n\tconst ticketOptionsMenuOpen = Boolean(anchorEl);\n\tconst { user } = useContext(AuthContext);\n\tconst date = new Date();\n\tconst minutes = date.getMinutes();\n\tconst hour = date.getHours();\n\n\tconst handleSendMessage = async (status, userId) => {\n\t\tconst message = {\n\t\t  read: 1,\n\t\t  fromMe: true,\n\t\t  mediaUrl: \"\",\n\t\t  body: \"Seu protocolo de atendimento é: *nº \" + Math.floor(Date.now()/1000) + '*',\n\t\t};\n\t\ttry {\n\t\t  const { data } = await api.get(\"/tickets/\" + ticketId);\n\t\t  ZDGProtocolo(data.contact.number, Math.floor(Date.now()/1000).toString());\n\t\t  await api.post(`/messages/${ticketId}`, message);\n\t\t  alert('Protocolo de atendimento:' + Math.floor(Date.now()/1000));\n\t\t  await api.put(`/tickets/${ticket.id}`, {\n\t\t\tstatus: status,\n\t\t\tuserId: userId || null,\n\t\t  });\n\t\t  ZDGEmail('Ticket '+ ticketId + ' acaba de ser finalizado.', 'O atendente acaba de fechar o ticket nº ' + ticketId + '\\nNúmero de contato: ' + data.contact.number + '\\nNome ' + data.contact.name + '\\nHorário ' + hour + ':' + minutes )\n\t\t} catch (err) {\n\t\t  toastError(err);\n\t\t}\n\t  };\n\n\tconst handleOpenTicketOptionsMenu = e => {\n\t\tsetAnchorEl(e.currentTarget);\n\t};\n\n\tconst handleCloseTicketOptionsMenu = e => {\n\t\tsetAnchorEl(null);\n\t};\n\n\tconst handleUpdateTicketStatus = async (e, status, userId, text) => {\n\t\tsetLoading(true);\n\t\ttry {\n\t\t\tif (status === \"closed\" && text === \"Protocolo\") {\n\t\t\t\thandleSendMessage(status, userId);\n\t\t\t}\n\t\t\telse if (status === \"closed\" || text === \"Protocolo\") {\n\t\t\t\ttry {\n\t\t\t\t\tconst { data } = await api.get(\"/tickets/\" + ticketId);\n\t\t\t\t\tZDGEmail('Ticket '+ ticketId + ' acaba de ser finalizado.', 'O atendente acaba de fechar o ticket nº ' + ticketId + '\\nNúmero de contato: ' + data.contact.number + '\\nNome ' + data.contact.name + '\\nHorário ' + hour + ':' + minutes );\n\t\t\t\t\tawait api.put(`/tickets/${ticket.id}`, {\n\t\t\t\t\t\tstatus: status,\n\t\t\t\t\t\tuserId: userId || null,\n\t\t\t\t\t});\n\t\t\t\t  } catch (err) {\n\t\t\t\t\ttoastError(err);\n\t\t\t\t  }\n\t\t\t\t// const { data } = await api.get(\"/tickets/\" + ticketId);\n\t\t\t\t// ZDGEmail('Ticket '+ ticketId + ' acaba de ser finalizado.', 'O atendente acaba de fechar o ticket' + ticketId + '\\nNúmero de contato: ' + data.contact.number + '\\nNome ' + data.contact.name + '\\nHorário ' + hour + ':' + minutes )\n\t\t\t} \n\t\t\telse {\n\t\t\t\tawait api.put(`/tickets/${ticket.id}`, {\n\t\t\t\t\tstatus: status,\n\t\t\t\t\tuserId: userId || null,\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tsetLoading(false);\n\t\t\tif (status === \"open\") {\n\t\t\t\thistory.push(`/tickets/${ticket.id}`);\n\t\t\t}\n\t\t\telse {\n\t\t\t\thistory.push(\"/tickets\");\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tsetLoading(false);\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className={classes.actionButtons}>\n\t\t\t{ticket.status === \"closed\" && (\n\t\t\t\t<ButtonWithSpinner\n\t\t\t\t\tloading={loading}\n\t\t\t\t\tstartIcon={<Replay />}\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tonClick={e => handleUpdateTicketStatus(e, \"open\", user?.id, \"\")}\n\t\t\t\t>\n\t\t\t\t\t{i18n.t(\"messagesList.header.buttons.reopen\")}\n\t\t\t\t</ButtonWithSpinner>\n\t\t\t)}\n\t\t\t{ticket.status === \"open\" && (\n\t\t\t\t<>\n\t\t\t\t\t<ButtonWithSpinner\n\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t\tstartIcon={<Replay />}\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tonClick={e => handleUpdateTicketStatus(e, \"pending\", null, \"\")}\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"messagesList.header.buttons.return\")}\n\t\t\t\t\t</ButtonWithSpinner>\n\t\t\t\t\t<ButtonWithSpinner\n\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tonClick={e => handleUpdateTicketStatus(e, \"closed\", user?.id, \"\")}\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"messagesList.header.buttons.resolve\")}\n\t\t\t\t\t</ButtonWithSpinner>\n\t\t\t\t\t<ButtonWithSpinner\n\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tonClick={e => handleUpdateTicketStatus(e, \"closed\", user?.id, \"Protocolo\")}\n\t\t\t\t\t>\n\t\t\t\t\t\t{\"Protocolo\"}\n\t\t\t\t\t</ButtonWithSpinner>\n\t\t\t\t\t<IconButton onClick={handleOpenTicketOptionsMenu}>\n\t\t\t\t\t\t<MoreVert />\n\t\t\t\t\t</IconButton>\n\t\t\t\t\t<TicketOptionsMenu\n\t\t\t\t\t\tticket={ticket}\n\t\t\t\t\t\tanchorEl={anchorEl}\n\t\t\t\t\t\tmenuOpen={ticketOptionsMenuOpen}\n\t\t\t\t\t\thandleClose={handleCloseTicketOptionsMenu}\n\t\t\t\t\t/>\n\t\t\t\t</>\n\t\t\t)}\n\t\t\t{ticket.status === \"pending\" && (\n\t\t\t\t<ButtonWithSpinner\n\t\t\t\t\tloading={loading}\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\tonClick={e => handleUpdateTicketStatus(e, \"open\", user?.id, )}\n\t\t\t\t>\n\t\t\t\t\t{i18n.t(\"messagesList.header.buttons.accept\")}\n\t\t\t\t</ButtonWithSpinner>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default TicketActionButtons;\n","import React, { useState, useEffect, useReducer, useRef } from \"react\";\r\n\r\nimport { isSameDay, parseISO, format } from \"date-fns\";\r\nimport openSocket from \"socket.io-client\";\r\nimport clsx from \"clsx\";\r\n\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport {\r\n  Button,\r\n  CircularProgress,\r\n  Divider,\r\n  IconButton,\r\n  makeStyles,\r\n} from \"@material-ui/core\";\r\nimport {\r\n  AccessTime,\r\n  Block,\r\n  Done,\r\n  DoneAll,\r\n  ExpandMore,\r\n  GetApp,\r\n} from \"@material-ui/icons\";\r\n\r\nimport MarkdownWrapper from \"../MarkdownWrapper\";\r\nimport VcardPreview from \"../VcardPreview\";\r\nimport LocationPreview from \"../LocationPreview\";\r\nimport ModalImageCors from \"../ModalImageCors\";\r\nimport MessageOptionsMenu from \"../MessageOptionsMenu\";\r\nimport whatsBackground from \"../../assets/wa-background.png\";\r\n\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\n\r\nimport {CSVLink} from 'react-csv';\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Box from \"@material-ui/core/Box\";\r\n\r\nconst http = require('https');\r\n\r\nconst init = {\r\n  host: process.env.REACT_APP_BACKEND_URL.split(\"//\")[1],\r\n  path: '/zdgSyncMessageUser',\r\n  method: 'POST',\r\n  headers: {\r\n    'content-type': 'application/json; charset=utf-8'\r\n  }\r\n};\r\n\r\nconst init2 = {\r\n  host: process.env.REACT_APP_BACKEND_URL.split(\"//\")[1],\r\n  path: '/zdgGetWppId',\r\n  method: 'POST',\r\n  headers: {\r\n    'content-type': 'application/json; charset=utf-8'\r\n  }\r\n};\r\n\r\nconst init3 = {\r\n\thost: process.env.REACT_APP_BACKEND_URL.split(\"//\")[1],\r\n\tpath: '/zdgSendEmailAttach',\r\n  \tmethod: 'POST',\r\n  \theaders: {\r\n    'content-type': 'application/json; charset=utf-8'\r\n  }\r\n};\r\n\r\nconst callback = function(response) {\r\n  let result = Buffer.alloc(0);\r\n  response.on('data', function(chunk) {\r\n    result = Buffer.concat([result, chunk]);\r\n  });\r\n  \r\n  response.on('end', function() {\r\n    console.log(result.toString());\r\n  });\r\n};\r\n\r\nconst callback2 = function(response) {\r\n  let result = Buffer.alloc(0);\r\n  response.on('data', function(chunk) {\r\n    result = Buffer.concat([result, chunk]);\r\n  });\r\n  \r\n  response.on('end', function() {\r\n    alert(\"ID WPP Ativo para esse Ticket: \" + result.toString().replace(/[^0-9.]/g,\"\"));\r\n  });\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  messagesListWrapper: {\r\n    overflow: \"hidden\",\r\n    position: \"relative\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    flexGrow: 1,\r\n  },\r\n\r\n  messagesList: {\r\n    backgroundImage: `url(${whatsBackground})`,\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    flexGrow: 1,\r\n    padding: \"20px 20px 20px 20px\",\r\n    overflowY: \"scroll\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      paddingBottom: \"90px\",\r\n    },\r\n    ...theme.scrollbarStyles,\r\n  },\r\n\r\n  circleLoading: {\r\n    color: green[500],\r\n    position: \"absolute\",\r\n    opacity: \"70%\",\r\n    top: 0,\r\n    left: \"50%\",\r\n    marginTop: 12,\r\n  },\r\n\r\n  messageLeft: {\r\n    marginRight: 20,\r\n    marginTop: 2,\r\n    minWidth: 100,\r\n    maxWidth: 600,\r\n    height: \"auto\",\r\n    display: \"block\",\r\n    position: \"relative\",\r\n    \"&:hover #messageActionsButton\": {\r\n      display: \"flex\",\r\n      position: \"absolute\",\r\n      top: 0,\r\n      right: 0,\r\n    },\r\n\r\n    whiteSpace: \"pre-wrap\",\r\n    backgroundColor: \"#ffffff\",\r\n    color: \"#303030\",\r\n    alignSelf: \"flex-start\",\r\n    borderTopLeftRadius: 0,\r\n    borderTopRightRadius: 8,\r\n    borderBottomLeftRadius: 8,\r\n    borderBottomRightRadius: 8,\r\n    paddingLeft: 5,\r\n    paddingRight: 5,\r\n    paddingTop: 5,\r\n    paddingBottom: 0,\r\n    boxShadow: \"0 1px 1px #b3b3b3\",\r\n  },\r\n\r\n  quotedContainerLeft: {\r\n    margin: \"-3px -80px 6px -6px\",\r\n    overflow: \"hidden\",\r\n    backgroundColor: \"#f0f0f0\",\r\n    borderRadius: \"7.5px\",\r\n    display: \"flex\",\r\n    position: \"relative\",\r\n  },\r\n\r\n  quotedMsg: {\r\n    padding: 10,\r\n    maxWidth: 300,\r\n    height: \"auto\",\r\n    display: \"block\",\r\n    whiteSpace: \"pre-wrap\",\r\n    overflow: \"hidden\",\r\n  },\r\n\r\n  quotedSideColorLeft: {\r\n    flex: \"none\",\r\n    width: \"4px\",\r\n    backgroundColor: \"#6bcbef\",\r\n  },\r\n\r\n  messageRight: {\r\n    marginLeft: 20,\r\n    marginTop: 2,\r\n    minWidth: 100,\r\n    maxWidth: 600,\r\n    height: \"auto\",\r\n    display: \"block\",\r\n    position: \"relative\",\r\n    \"&:hover #messageActionsButton\": {\r\n      display: \"flex\",\r\n      position: \"absolute\",\r\n      top: 0,\r\n      right: 0,\r\n    },\r\n\r\n    whiteSpace: \"pre-wrap\",\r\n    backgroundColor: \"#dcf8c6\",\r\n    color: \"#303030\",\r\n    alignSelf: \"flex-end\",\r\n    borderTopLeftRadius: 8,\r\n    borderTopRightRadius: 8,\r\n    borderBottomLeftRadius: 8,\r\n    borderBottomRightRadius: 0,\r\n    paddingLeft: 5,\r\n    paddingRight: 5,\r\n    paddingTop: 5,\r\n    paddingBottom: 0,\r\n    boxShadow: \"0 1px 1px #b3b3b3\",\r\n  },\r\n\r\n  quotedContainerRight: {\r\n    margin: \"-3px -80px 6px -6px\",\r\n    overflowY: \"hidden\",\r\n    backgroundColor: \"#cfe9ba\",\r\n    borderRadius: \"7.5px\",\r\n    display: \"flex\",\r\n    position: \"relative\",\r\n  },\r\n\r\n  quotedMsgRight: {\r\n    padding: 10,\r\n    maxWidth: 300,\r\n    height: \"auto\",\r\n    whiteSpace: \"pre-wrap\",\r\n  },\r\n\r\n  quotedSideColorRight: {\r\n    flex: \"none\",\r\n    width: \"4px\",\r\n    backgroundColor: \"#35cd96\",\r\n  },\r\n\r\n  messageActionsButton: {\r\n    display: \"none\",\r\n    position: \"relative\",\r\n    color: \"#999\",\r\n    zIndex: 1,\r\n    backgroundColor: \"inherit\",\r\n    opacity: \"90%\",\r\n    \"&:hover, &.Mui-focusVisible\": { backgroundColor: \"inherit\" },\r\n  },\r\n\r\n  messageContactName: {\r\n    display: \"flex\",\r\n    color: \"#6bcbef\",\r\n    fontWeight: 500,\r\n  },\r\n\r\n  textContentItem: {\r\n    overflowWrap: \"break-word\",\r\n    padding: \"3px 80px 6px 6px\",\r\n  },\r\n\r\n  textContentItemDeleted: {\r\n    fontStyle: \"italic\",\r\n    color: \"rgba(0, 0, 0, 0.36)\",\r\n    overflowWrap: \"break-word\",\r\n    padding: \"3px 80px 6px 6px\",\r\n  },\r\n\r\n  messageMedia: {\r\n    objectFit: \"cover\",\r\n    width: 250,\r\n    height: 200,\r\n    borderTopLeftRadius: 8,\r\n    borderTopRightRadius: 8,\r\n    borderBottomLeftRadius: 8,\r\n    borderBottomRightRadius: 8,\r\n  },\r\n\r\n  timestamp: {\r\n    fontSize: 11,\r\n    position: \"absolute\",\r\n    bottom: 0,\r\n    right: 5,\r\n    color: \"#999\",\r\n  },\r\n\r\n  dailyTimestamp: {\r\n    alignItems: \"center\",\r\n    textAlign: \"center\",\r\n    alignSelf: \"center\",\r\n    width: \"110px\",\r\n    backgroundColor: \"#e1f3fb\",\r\n    margin: \"10px\",\r\n    borderRadius: \"10px\",\r\n    boxShadow: \"0 1px 1px #b3b3b3\",\r\n  },\r\n\r\n  dailyTimestampText: {\r\n    color: \"#808888\",\r\n    padding: 8,\r\n    alignSelf: \"center\",\r\n    marginLeft: \"0px\",\r\n  },\r\n\r\n  ackIcons: {\r\n    fontSize: 18,\r\n    verticalAlign: \"middle\",\r\n    marginLeft: 4,\r\n  },\r\n\r\n  deletedIcon: {\r\n    fontSize: 18,\r\n    verticalAlign: \"middle\",\r\n    marginRight: 4,\r\n  },\r\n\r\n  ackDoneAllIcon: {\r\n    color: green[500],\r\n    fontSize: 18,\r\n    verticalAlign: \"middle\",\r\n    marginLeft: 4,\r\n  },\r\n\r\n  downloadMedia: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    backgroundColor: \"inherit\",\r\n    padding: 10,\r\n  },\r\n  box: {\r\n\t\tposition: \"relative\",\r\n    marginLeft: \"2px\",\r\n    marginRight: \"2px\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      display: \"none\"\r\n    },\r\n\t},\r\n}));\r\n\r\nconst reducer = (state, action) => {\r\n  if (action.type === \"LOAD_MESSAGES\") {\r\n    const messages = action.payload;\r\n    const newMessages = [];\r\n\r\n    messages.forEach((message) => {\r\n      const messageIndex = state.findIndex((m) => m.id === message.id);\r\n      if (messageIndex !== -1) {\r\n        state[messageIndex] = message;\r\n      } else {\r\n        newMessages.push(message);\r\n      }\r\n    });\r\n\r\n    return [...newMessages, ...state];\r\n  }\r\n\r\n  if (action.type === \"ADD_MESSAGE\") {\r\n    const newMessage = action.payload;\r\n    const messageIndex = state.findIndex((m) => m.id === newMessage.id);\r\n\r\n    if (messageIndex !== -1) {\r\n      state[messageIndex] = newMessage;\r\n    } else {\r\n      state.push(newMessage);\r\n    }\r\n\r\n    return [...state];\r\n  }\r\n\r\n  if (action.type === \"UPDATE_MESSAGE\") {\r\n    const messageToUpdate = action.payload;\r\n    const messageIndex = state.findIndex((m) => m.id === messageToUpdate.id);\r\n\r\n    if (messageIndex !== -1) {\r\n      state[messageIndex] = messageToUpdate;\r\n    }\r\n\r\n    return [...state];\r\n  }\r\n\r\n  if (action.type === \"RESET\") {\r\n    return [];\r\n  }\r\n};\r\n\r\nconst MessagesList = ({ ticketId, isGroup }) => {\r\n  const classes = useStyles();\r\n  const [inputs, setInputs] = useState({});\r\n\r\n  const [messagesList, dispatch] = useReducer(reducer, []);\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const [hasMore, setHasMore] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const lastMessageRef = useRef();\r\n\r\n  const [selectedMessage, setSelectedMessage] = useState({});\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n  const messageOptionsMenuOpen = Boolean(anchorEl);\r\n  const currentTicketId = useRef(ticketId);\r\n\r\n  const [contact, setContact] = useState({});\r\n\r\n  async function fetch() {\r\n    try {\r\n      const { data } = await api.get(\"/tickets/\" + ticketId);\r\n      setContact(data.contact);\r\n    } catch (err) {\r\n    }\r\n  }\r\n  \r\n  const handleChange = (event) => {\r\n\t\tconst name = event.target.name;\r\n\t\tconst value = event.target.value;\r\n\t\tsetInputs(values => ({...values, [name]: value}))\r\n\t}\r\n\r\n  async function ZDGGetWppId() {\r\n    await fetch();\r\n    const req = http.request(init2, callback2);\r\n    const body = '{\"ticketid\":' + ticketId + '}';\r\n    await req.write(body);\r\n    req.end();\r\n  }\r\n\r\n  async function ZDGSyncUser() {\r\n    const req = http.request(init, callback);\r\n    const number = `${contact.number}`;\r\n    const body = '{\"user\":\"'+ number + '\",\"limit\":' + inputs.limite + ',\"ticketwhatsappId\":' + inputs.id + '}';\r\n    alert(`Importando o histório de: ${contact.name} - WPP: ${contact.number} - Total de: ` + inputs.limite + ` mensagens.`);\r\n    await req.write(body);\r\n    req.end();\r\n  }\r\n  \r\n  const ZDGEmailAttach = async () => {\r\n    alert('Carregando mensagens...')\r\n    const zdgSubject = 'Ticket Fechado no Whaticket';\r\n    const zdgText = 'Conversa exportada do Whaticket';\r\n    const zdgFileName = 'ZDG.txt';\r\n    const req = http.request(init3, callback);\r\n    const promises = messagesList.map(async (message) => {\r\n      const body = message.body;\r\n      const ticketId = message.ticketId;\r\n      const fromMe = message.fromMe;\r\n      const created = message.createdAt;\r\n      return 'Ticket : ' + ticketId + '\\nMensagem: ' + body + '\\nFrom me: ' + fromMe + '\\nCriado em: ' + created + '\\n\\n ----- \\n\\n'\r\n    })\r\n    const allMessages = await Promise.all(promises)\r\n    alert(allMessages)\r\n    const body = `{\"zdgSubject\":\"` + zdgSubject + `\",\"zdgText\":\"`+ zdgText.replace(/\\n/g, \"\\\\n\") + `\",\"zdgFileName\":\"`+ zdgFileName+ `\",\"zdgContent\":\"` + allMessages.toString().replace(/\\n/g, \"\\\\n\").replace(/,/g, \"\") + `\"}`;\r\n    req.write(body);\r\n    req.end();\r\n    alert('E-mail enviado... caso não tenha recebido, verifique o log do seu backend.')\r\n  }\r\n\r\n  useEffect(() => {\r\n    dispatch({ type: \"RESET\" });\r\n    setPageNumber(1);\r\n\r\n    currentTicketId.current = ticketId;\r\n  }, [ticketId]);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const delayDebounceFn = setTimeout(() => {\r\n      const fetchMessages = async () => {\r\n        try {\r\n          const { data } = await api.get(\"/messages/\" + ticketId, {\r\n            params: { pageNumber },\r\n          });\r\n\r\n          if (currentTicketId.current === ticketId) {\r\n            dispatch({ type: \"LOAD_MESSAGES\", payload: data.messages });\r\n            setHasMore(data.hasMore);\r\n            setLoading(false);\r\n          }\r\n\r\n          if (pageNumber === 1 && data.messages.length > 1) {\r\n            scrollToBottom();\r\n          }\r\n        } catch (err) {\r\n          setLoading(false);\r\n          toastError(err);\r\n        }\r\n      };\r\n      fetchMessages();\r\n    }, 500);\r\n    return () => {\r\n      clearTimeout(delayDebounceFn);\r\n    };\r\n  }, [pageNumber, ticketId]);\r\n\r\n  useEffect(() => {\r\n    const socket = openSocket(process.env.REACT_APP_BACKEND_URL);\r\n\r\n    socket.on(\"connect\", () => socket.emit(\"joinChatBox\", ticketId));\r\n\r\n    socket.on(\"appMessage\", (data) => {\r\n      if (data.action === \"create\") {\r\n        dispatch({ type: \"ADD_MESSAGE\", payload: data.message });\r\n        scrollToBottom();\r\n      }\r\n\r\n      if (data.action === \"update\") {\r\n        dispatch({ type: \"UPDATE_MESSAGE\", payload: data.message });\r\n      }\r\n    });\r\n\r\n    return () => {\r\n      socket.disconnect();\r\n    };\r\n  }, [ticketId]);\r\n\r\n  const loadMore = () => {\r\n    setPageNumber((prevPageNumber) => prevPageNumber + 1);\r\n  };\r\n\r\n  const scrollToBottom = () => {\r\n    if (lastMessageRef.current) {\r\n      lastMessageRef.current.scrollIntoView({});\r\n    }\r\n  };\r\n\r\n  const handleScroll = (e) => {\r\n    if (!hasMore) return;\r\n    const { scrollTop } = e.currentTarget;\r\n\r\n    if (scrollTop === 0) {\r\n      document.getElementById(\"messagesList\").scrollTop = 1;\r\n    }\r\n\r\n    if (loading) {\r\n      return;\r\n    }\r\n\r\n    if (scrollTop < 50) {\r\n      loadMore();\r\n    }\r\n  };\r\n\r\n  const handleOpenMessageOptionsMenu = (e, message) => {\r\n    setAnchorEl(e.currentTarget);\r\n    setSelectedMessage(message);\r\n  };\r\n\r\n  const handleCloseMessageOptionsMenu = (e) => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const checkMessageMedia = (message) => {\r\n    if(message.mediaType === \"location\" && message.body.split('|').length >= 2) {\r\n      let locationParts = message.body.split('|')\r\n      let imageLocation = locationParts[0]\t\t\r\n      let linkLocation = locationParts[1]\r\n      \r\n      let descriptionLocation = null\r\n      \r\n      if(locationParts.length > 2)\r\n        descriptionLocation = message.body.split('|')[2]\r\n      \r\n      return <LocationPreview image={imageLocation} link={linkLocation} description={descriptionLocation} />\r\n    }\r\n\t  else if (message.mediaType === \"vcard\") {\r\n\t\t//console.log(\"vcard\")\r\n\t\t//console.log(message)\r\n\t\tlet array = message.body.split(\"\\n\");\r\n\t\tlet obj = [];\r\n\t\tlet contact = \"\";\r\n\t\tfor (let index = 0; index < array.length; index++) {\r\n\t\t\tconst v = array[index];\r\n\t\t\tlet values = v.split(\":\");\r\n\t\t\tfor (let ind = 0; ind < values.length; ind++) {\r\n\t\t\t\tif (values[ind].indexOf(\"+\") !== -1) {\r\n\t\t\t\t\tobj.push({ number: values[ind] });\r\n\t\t\t\t}\r\n\t\t\t\tif (values[ind].indexOf(\"FN\") !== -1) {\r\n\t\t\t\t\tcontact = values[ind + 1];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn <VcardPreview contact={contact} numbers={obj[0].number} />\r\n\t} \r\n  /*else if (message.mediaType === \"multi_vcard\") {\r\n\t\tconsole.log(\"multi_vcard\")\r\n\t\tconsole.log(message)\r\n\t\t\r\n\t\tif(message.body !== null && message.body !== \"\") {\r\n\t\t\tlet newBody = JSON.parse(message.body)\r\n\t\t\treturn (\r\n\t\t\t\t<>\r\n\t\t\t\t  {\r\n\t\t\t\t\tnewBody.map(v => (\r\n\t\t\t\t\t  <VcardPreview contact={v.name} numbers={v.number} />\r\n\t\t\t\t\t))\r\n\t\t\t\t  }\r\n\t\t\t\t</>\r\n\t\t\t)\r\n\t\t} else return (<></>)\r\n\t}*/\r\n  else if (message.mediaType === \"image\") {\r\n      return <ModalImageCors imageUrl={message.mediaUrl} />;\r\n    } else if (message.mediaType === \"audio\") {\r\n      return (\r\n        <audio controls>\r\n          <source src={message.mediaUrl} type=\"audio/ogg\"></source>\r\n        </audio>\r\n      );\r\n    } else if (message.mediaType === \"video\") {\r\n      return (\r\n        <video\r\n          className={classes.messageMedia}\r\n          src={message.mediaUrl}\r\n          controls\r\n        />\r\n      );\r\n    } else {\r\n      return (\r\n        <>\r\n          <div className={classes.downloadMedia}>\r\n            <Button\r\n              startIcon={<GetApp />}\r\n              color=\"primary\"\r\n              variant=\"outlined\"\r\n              target=\"_blank\"\r\n              href={message.mediaUrl}\r\n            >\r\n              Download\r\n            </Button>\r\n          </div>\r\n          <Divider />\r\n        </>\r\n      );\r\n    }\r\n  };\r\n\r\n  const renderMessageAck = (message) => {\r\n    if (message.ack === 0) {\r\n      return <AccessTime fontSize=\"small\" className={classes.ackIcons} />;\r\n    }\r\n    if (message.ack === 1) {\r\n      return <Done fontSize=\"small\" className={classes.ackIcons} />;\r\n    }\r\n    if (message.ack === 2) {\r\n      return <DoneAll fontSize=\"small\" className={classes.ackIcons} />;\r\n    }\r\n    if (message.ack === 3 || message.ack === 4) {\r\n      return <DoneAll fontSize=\"small\" className={classes.ackDoneAllIcon} />;\r\n    }\r\n  };\r\n\r\n  const renderDailyTimestamps = (message, index) => {\r\n    if (index === 0) {\r\n      return (\r\n        <span\r\n          className={classes.dailyTimestamp}\r\n          key={`timestamp-${message.id}`}\r\n        >\r\n          <div className={classes.dailyTimestampText}>\r\n            {format(parseISO(messagesList[index].createdAt), \"dd/MM/yyyy\")}\r\n          </div>\r\n        </span>\r\n      );\r\n    }\r\n    if (index < messagesList.length - 1) {\r\n      let messageDay = parseISO(messagesList[index].createdAt);\r\n      let previousMessageDay = parseISO(messagesList[index - 1].createdAt);\r\n\r\n      if (!isSameDay(messageDay, previousMessageDay)) {\r\n        return (\r\n          <span\r\n            className={classes.dailyTimestamp}\r\n            key={`timestamp-${message.id}`}\r\n          >\r\n            <div className={classes.dailyTimestampText}>\r\n              {format(parseISO(messagesList[index].createdAt), \"dd/MM/yyyy\")}\r\n            </div>\r\n          </span>\r\n        );\r\n      }\r\n    }\r\n    if (index === messagesList.length - 1) {\r\n      return (\r\n        <div\r\n          key={`ref-${message.createdAt}`}\r\n          ref={lastMessageRef}\r\n          style={{ float: \"left\", clear: \"both\" }}\r\n        />\r\n      );\r\n    }\r\n  };\r\n\r\n  const renderMessageDivider = (message, index) => {\r\n    if (index < messagesList.length && index > 0) {\r\n      let messageUser = messagesList[index].fromMe;\r\n      let previousMessageUser = messagesList[index - 1].fromMe;\r\n\r\n      if (messageUser !== previousMessageUser) {\r\n        return (\r\n          <span style={{ marginTop: 16 }} key={`divider-${message.id}`}></span>\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  const renderQuotedMessage = (message) => {\r\n    return (\r\n      <div\r\n        className={clsx(classes.quotedContainerLeft, {\r\n          [classes.quotedContainerRight]: message.fromMe,\r\n        })}\r\n      >\r\n        <span\r\n          className={clsx(classes.quotedSideColorLeft, {\r\n            [classes.quotedSideColorRight]: message.quotedMsg?.fromMe,\r\n          })}\r\n        ></span>\r\n        <div className={classes.quotedMsg}>\r\n          {!message.quotedMsg?.fromMe && (\r\n            <span className={classes.messageContactName}>\r\n              {message.quotedMsg?.contact?.name}\r\n            </span>\r\n          )}\r\n          {message.quotedMsg?.body}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderMessages = () => {\r\n    if (messagesList.length > 0) {\r\n      const viewMessagesList = messagesList.map((message, index) => {\r\n        if (!message.fromMe) {\r\n          return (\r\n            <React.Fragment key={message.id}>\r\n              {renderDailyTimestamps(message, index)}\r\n              {renderMessageDivider(message, index)}\r\n              <div className={classes.messageLeft}>\r\n                <IconButton\r\n                  variant=\"contained\"\r\n                  size=\"small\"\r\n                  id=\"messageActionsButton\"\r\n                  disabled={message.isDeleted}\r\n                  className={classes.messageActionsButton}\r\n                  onClick={(e) => handleOpenMessageOptionsMenu(e, message)}\r\n                >\r\n                  <ExpandMore />\r\n                </IconButton>\r\n                {isGroup && (\r\n                  <span className={classes.messageContactName}>\r\n                    {message.contact?.name}\r\n                  </span>\r\n                )}\r\n                {(message.mediaUrl || message.mediaType === \"vcard\" \r\n                //|| message.mediaType === \"multi_vcard\" \r\n                ) && checkMessageMedia(message)}\r\n                <div className={classes.textContentItem}>\r\n                  {message.quotedMsg && renderQuotedMessage(message)}\r\n                  <MarkdownWrapper>{message.body}</MarkdownWrapper>\r\n                  <span className={classes.timestamp}>\r\n                    {format(parseISO(message.createdAt), \"HH:mm\")}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </React.Fragment>\r\n          );\r\n        } else {\r\n          return (\r\n            <React.Fragment key={message.id}>\r\n              {renderDailyTimestamps(message, index)}\r\n              {renderMessageDivider(message, index)}\r\n              <div className={classes.messageRight}>\r\n                <IconButton\r\n                  variant=\"contained\"\r\n                  size=\"small\"\r\n                  id=\"messageActionsButton\"\r\n                  disabled={message.isDeleted}\r\n                  className={classes.messageActionsButton}\r\n                  onClick={(e) => handleOpenMessageOptionsMenu(e, message)}\r\n                >\r\n                  <ExpandMore />\r\n                </IconButton>\r\n                {(message.mediaUrl || message.mediaType === \"vcard\" \r\n                //|| message.mediaType === \"multi_vcard\" \r\n                ) && checkMessageMedia(message)}\r\n                <div\r\n                  className={clsx(classes.textContentItem, {\r\n                    [classes.textContentItemDeleted]: message.isDeleted,\r\n                  })}\r\n                >\r\n                  {message.isDeleted && (\r\n                    <Block\r\n                      color=\"disabled\"\r\n                      fontSize=\"small\"\r\n                      className={classes.deletedIcon}\r\n                    />\r\n                  )}\r\n                  {message.quotedMsg && renderQuotedMessage(message)}\r\n                  <MarkdownWrapper>{message.body}</MarkdownWrapper>\r\n                  <span className={classes.timestamp}>\r\n                    {format(parseISO(message.createdAt), \"HH:mm\")}\r\n                    {renderMessageAck(message)}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </React.Fragment>\r\n          );\r\n        }\r\n      });\r\n      return viewMessagesList;\r\n    } else {\r\n      return <div>Say hello to your new contact!</div>;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={classes.messagesListWrapper}>\r\n      <MessageOptionsMenu\r\n        message={selectedMessage}\r\n        anchorEl={anchorEl}\r\n        menuOpen={messageOptionsMenuOpen}\r\n        handleClose={handleCloseMessageOptionsMenu}\r\n      />\r\n      <div\r\n        id=\"messagesList\"\r\n        className={classes.messagesList}\r\n        onScroll={handleScroll}\r\n      >\r\n        {messagesList.length > 0 ? renderMessages() : []}\r\n      </div>\r\n      {loading && (\r\n        <div>\r\n          <CircularProgress className={classes.circleLoading} />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MessagesList;\r\n","import React, { useEffect, useState, useContext } from 'react';\nimport { useHistory } from \"react-router-dom\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\n\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Grid from \"@material-ui/core/Grid\";\n\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nimport { Button, Divider, } from \"@material-ui/core\";\n\nconst VcardPreview = ({ contact, numbers }) => {\n    const history = useHistory();\n    const { user } = useContext(AuthContext);\n\n    const [selectedContact, setContact] = useState({\n        name: \"\",\n        number: 0,\n        profilePicUrl: \"\"\n    });\n\n    useEffect(() => {\n        const delayDebounceFn = setTimeout(() => {\n            const fetchContacts = async() => {\n                try {\n                    let contactObj = {\n                        name: contact,\n                        number: numbers.replace(/\\D/g, \"\"),\n                        email: \"\"\n                    }\n                    const { data } = await api.post(\"/contact\", contactObj);\n                    setContact(data)\n\n                } catch (err) {\n                    console.log(err)\n                    toastError(err);\n                }\n            };\n            fetchContacts();\n        }, 500);\n        return () => clearTimeout(delayDebounceFn);\n    }, [contact, numbers]);\n\n    const handleNewChat = async() => {\n        try {\n            const { data: ticket } = await api.post(\"/tickets\", {\n                contactId: selectedContact.id,\n                userId: user.id,\n                status: \"open\",\n            });\n            history.push(`/tickets/${ticket.id}`);\n        } catch (err) {\n            toastError(err);\n        }\n    }\n\n    return (\n\t\t<>\n\t\t\t<div style={{\n\t\t\t\tminWidth: \"250px\",\n\t\t\t}}>\n\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t<Grid item xs={2}>\n\t\t\t\t\t\t<Avatar src={selectedContact.profilePicUrl} />\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={9}>\n\t\t\t\t\t\t<Typography style={{ marginTop: \"12px\", marginLeft: \"10px\" }} variant=\"subtitle1\" color=\"primary\" gutterBottom>\n\t\t\t\t\t\t\t{selectedContact.name}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tonClick={handleNewChat}\n\t\t\t\t\t\t\tdisabled={!selectedContact.number}\n\t\t\t\t\t\t>Conversar</Button>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t</>\n\t);\n\n};\n\nexport default VcardPreview;","import React, { useEffect } from 'react';\r\nimport toastError from \"../../errors/toastError\";\r\n\r\nimport Typography from \"@material-ui/core/Typography\";\r\n//import Grid from \"@material-ui/core/Grid\";\r\n\r\nimport { Button, Divider, } from \"@material-ui/core\";\r\n\r\nconst LocationPreview = ({ image, link, description }) => {\r\n    useEffect(() => {}, [image, link, description]);\r\n\r\n    const handleLocation = async() => {\r\n        try {\r\n            window.open(link);\r\n        } catch (err) {\r\n            toastError(err);\r\n        }\r\n    }\r\n\r\n    return (\r\n\t\t<>\r\n\t\t\t<div style={{\r\n\t\t\t\tminWidth: \"250px\",\r\n\t\t\t}}>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div style={{ float: \"left\" }}>\r\n\t\t\t\t\t\t<img alt=\"\" src={image} onClick={handleLocation} style={{ width: \"100px\" }} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{ description && (\r\n\t\t\t\t\t<div style={{ display: \"flex\", flexWrap: \"wrap\" }}>\r\n\t\t\t\t\t\t<Typography style={{ marginTop: \"12px\", marginLeft: \"15px\", marginRight: \"15px\", float: \"left\" }} variant=\"subtitle1\" color=\"primary\" gutterBottom>\r\n\t\t\t\t\t\t\t<div dangerouslySetInnerHTML={{ __html: description.replace('\\\\n', '<br />') }}></div>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<div style={{ display: \"block\", content: \"\", clear: \"both\" }}></div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\tonClick={handleLocation}\r\n\t\t\t\t\t\t\tdisabled={!link}\r\n\t\t\t\t\t\t>Visualizar</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n\r\n};\r\n\r\nexport default LocationPreview;","import React, { useState, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport ModalImage from \"react-modal-image\";\nimport api from \"../../services/api\";\n\nconst useStyles = makeStyles(theme => ({\n\tmessageMedia: {\n\t\tobjectFit: \"cover\",\n\t\twidth: 250,\n\t\theight: 200,\n\t\tborderTopLeftRadius: 8,\n\t\tborderTopRightRadius: 8,\n\t\tborderBottomLeftRadius: 8,\n\t\tborderBottomRightRadius: 8,\n\t},\n}));\n\nconst ModalImageCors = ({ imageUrl }) => {\n\tconst classes = useStyles();\n\tconst [fetching, setFetching] = useState(true);\n\tconst [blobUrl, setBlobUrl] = useState(\"\");\n\n\tuseEffect(() => {\n\t\tif (!imageUrl) return;\n\t\tconst fetchImage = async () => {\n\t\t\tconst { data, headers } = await api.get(imageUrl, {\n\t\t\t\tresponseType: \"blob\",\n\t\t\t});\n\t\t\tconst url = window.URL.createObjectURL(\n\t\t\t\tnew Blob([data], { type: headers[\"content-type\"] })\n\t\t\t);\n\t\t\tsetBlobUrl(url);\n\t\t\tsetFetching(false);\n\t\t};\n\t\tfetchImage();\n\t}, [imageUrl]);\n\n\treturn (\n\t\t<ModalImage\n\t\t\tclassName={classes.messageMedia}\n\t\t\tsmallSrcSet={fetching ? imageUrl : blobUrl}\n\t\t\tmedium={fetching ? imageUrl : blobUrl}\n\t\t\tlarge={fetching ? imageUrl : blobUrl}\n\t\t\talt=\"image\"\n\t\t/>\n\t);\n};\n\nexport default ModalImageCors;\n","import React, { useState, useContext } from \"react\";\n\nimport MenuItem from \"@material-ui/core/MenuItem\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport ConfirmationModal from \"../ConfirmationModal\";\nimport { Menu } from \"@material-ui/core\";\nimport { ReplyMessageContext } from \"../../context/ReplyingMessage/ReplyingMessageContext\";\nimport toastError from \"../../errors/toastError\";\n\nconst MessageOptionsMenu = ({ message, menuOpen, handleClose, anchorEl }) => {\n  const { setReplyingMessage } = useContext(ReplyMessageContext);\n  const [confirmationOpen, setConfirmationOpen] = useState(false);\n\n  const handleDeleteMessage = async () => {\n    try {\n      await api.delete(`/messages/${message.id}`);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const hanldeReplyMessage = () => {\n    setReplyingMessage(message);\n    handleClose();\n  };\n\n  const handleOpenConfirmationModal = (e) => {\n    setConfirmationOpen(true);\n    handleClose();\n  };\n\n  return (\n    <>\n      <ConfirmationModal\n        title={i18n.t(\"messageOptionsMenu.confirmationModal.title\")}\n        open={confirmationOpen}\n        onClose={setConfirmationOpen}\n        onConfirm={handleDeleteMessage}\n      >\n        {i18n.t(\"messageOptionsMenu.confirmationModal.message\")}\n      </ConfirmationModal>\n      <Menu\n        anchorEl={anchorEl}\n        getContentAnchorEl={null}\n        anchorOrigin={{\n          vertical: \"bottom\",\n          horizontal: \"right\",\n        }}\n        transformOrigin={{\n          vertical: \"top\",\n          horizontal: \"right\",\n        }}\n        open={menuOpen}\n        onClose={handleClose}\n      >\n        {message.fromMe && (\n          <MenuItem onClick={handleOpenConfirmationModal}>\n            {i18n.t(\"messageOptionsMenu.delete\")}\n          </MenuItem>\n        )}\n        <MenuItem onClick={hanldeReplyMessage}>\n          {i18n.t(\"messageOptionsMenu.reply\")}\n        </MenuItem>\n      </Menu>\n    </>\n  );\n};\n\nexport default MessageOptionsMenu;\n","module.exports = __webpack_public_path__ + \"static/media/wa-background.adbccee0.png\";","import React, { useEffect, useState } from \"react\";\r\nimport openSocket from \"socket.io-client\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Button from '@material-ui/core/Button';\r\n\r\nconst http = require('https');\r\n\r\nconst init = {\r\n  host: process.env.REACT_APP_BACKEND_URL.split(\"//\")[1],\r\n  path: '/zdg',\r\n  method: 'POST',\r\n  headers: {\r\n    'content-type': 'application/json; charset=utf-8'\r\n  }\r\n};\r\n\r\nconst callback = function(response) {\r\n  let result = Buffer.alloc(0);\r\n  response.on('data', function(chunk) {\r\n    result = Buffer.concat([result, chunk]);\r\n  });\r\n  \r\n  response.on('end', function() {\r\n    console.log(result.toString());\r\n  });\r\n};\r\n\r\nasync function ZDGSender(number, message, iD, token) {\r\n\tconst req = http.request(init, callback);\r\n\tconst body = '{\"number\":\"'+ number + '@c.us\",\"message\":\"' + message.replace(/\\n/g, \"\\\\n\") + '\",\"token\":\"' + token + '\",\"ticketwhatsappId\":' + iD + '}';\r\n\tawait req.write(body);\r\n\treq.end();\r\n}\r\n\r\nconst init2 = {\r\n\thost: process.env.REACT_APP_BACKEND_URL.split(\"//\")[1],\r\n\tpath: '/whatsappzdg'\r\n  };\r\n  \r\nasync function GETSender() {\r\n\thttp.get(init2, function(res) {\r\n\t\tres.on(\"data\", function(wppID) {\r\n\t\t  alert(\"ID instância ativa: \" + wppID) ;\r\n\t\t});\r\n\t  }).on('error', function(e) {\r\n\t\talert(\"Erro: \" + e.message);\r\n\t  });\r\n}\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\tdisplay: \"flex\",\r\n\t\talignItems: \"center\",\r\n\t\tpadding: theme.spacing(8, 8, 3),\r\n\t},\r\n\r\n\tpaper: {\r\n\t\tpadding: theme.spacing(2),\r\n\t\tdisplay: \"flex\",\r\n\t\tjustifyContent: \"center\",\r\n\t\talignItems: \"center\",\r\n\t\ttextAlign: \"center\",\r\n\t\tverticalAlign: \"middle\",\r\n\t\tmarginBottom: 12,\r\n\t},\r\n\r\n\tbutton: {\r\n\t\tpadding: theme.spacing(2),\r\n\t\tdisplay: \"inline-flex\",\r\n\t\tjustifyContent: \"center\",\r\n\t\talignItems: \"center\",\r\n\t\ttextAlign: \"center\",\r\n\t\tverticalAlign: \"middle\",\r\n\t\tmarginBottom: 12,\r\n\t\tmarginRight: 12,\r\n\t},\r\n\r\n\tsettingOption: {\r\n\t\tmarginLeft: \"auto\",\r\n\t},\r\n\tmargin: {\r\n\t\tmargin: theme.spacing(1),\r\n\t},\r\n}));\r\n\r\nconst ZDG = () => {\r\n\tconst classes = useStyles();\r\n\tconst [inputs, setInputs] = useState({});\r\n\tconst [settings, setSettings] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst fetchSession = async () => {\r\n\t\t\ttry {\r\n\t\t\t\tconst { data } = await api.get(\"/settings\");\r\n\t\t\t\tsetSettings(data);\r\n\t\t\t} catch (err) {\r\n\t\t\t\ttoastError(err);\r\n\t\t\t}\r\n\t\t};\r\n\t\tfetchSession();\r\n\t}, []);\r\n\r\n\tconst getSettingValue = key => {\r\n\t\tconst { value } = settings.find(s => s.key === key);\r\n\t\treturn value;\r\n\t};\r\n\r\n\tconst handleChange = (event) => {\r\n\t\tconst name = event.target.name;\r\n\t\tconst value = event.target.value;\r\n\t\tsetInputs(values => ({...values, [name]: value}))\r\n\t  }\r\n\t\r\n\tconst handleSubmit = (event) => {\r\n\t\tevent.preventDefault();\r\n\t\talert('As mensagens estão sendo carregadas! Aguarde...');\r\n\t\tconst usersTextArea = inputs.user.split('\\n');\r\n\t\tconst token = settings && settings.length > 0 && getSettingValue(\"userApiToken\");\r\n\t\tusersTextArea.forEach((user) => {\r\n\t\t\tconst numberDDI = user.substring(0, 2);\r\n\t\t\tconst numberDDD = user.substring(2, 4);\t\t\t\r\n\t\t\t//setTimeout(function() {\r\n\t\t\t\tif (numberDDI !== \"55\") {\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\tZDGSender(user, inputs.message, inputs.id, token);\r\n\t\t\t\talert('Mensagem enviada para o número DDI: ' + user);\r\n\t\t\t\t},5000 + Math.floor(Math.random() * 3000))\r\n\t\t\t\t}\r\n\t\t\t\telse if (numberDDI === \"55\" && parseInt(numberDDD) <= 30) {\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\tconst numberUser = user.substr(-8,8);\r\n\t\t\t\tZDGSender(numberDDI.toString() + numberDDD.toString() + \"9\" + numberUser.toString(), inputs.message, inputs.id, token);\r\n\t\t\t\talert('Mensagem enviada para o número com 9: ' + numberDDI.toString() + numberDDD.toString() + \"9\" + numberUser.toString());\r\n\t\t\t\t},5000 + Math.floor(Math.random() * 3000))  \r\n\t\t\t\t}\r\n\t\t\t\telse if (numberDDI === \"55\" && parseInt(numberDDD) > 30) {\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\tconst numberUser = user.substr(-8,8);\r\n\t\t\t\tZDGSender(numberDDI.toString() + numberDDD.toString() + numberUser.toString(), inputs.message, inputs.id, token);\r\n\t\t\t\talert('Mensagem enviada para o número sem 9: ' + numberDDI.toString() + numberDDD.toString() + numberUser.toString());\r\n\t\t\t\t},5000 + Math.floor(Math.random() * 3000)) \r\n\t\t\t\t}\r\n\t\t\t//},5000 + Math.floor(Math.random() * 10000))            \r\n\t\t  });\r\n\t}\r\n\t\r\n\tuseEffect(() => {\r\n\t\tconst socket = openSocket(process.env.REACT_APP_BACKEND_URL);\r\n\t\treturn () => {\r\n\t\t\tsocket.disconnect();\r\n\t\t};\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className={classes.root}>  \r\n\t\t\t<Container className={classes.container} maxWidth=\"sm\">\r\n\t\t\t<Paper className={classes.paper}>\r\n\t\t\t<h1> Disparo automátio de mensagens</h1>\r\n\t\t\t</Paper>\r\n\t\t\t<Paper className={classes.paper}>\r\n\t\t\t<h3><span role=\"img\" aria-label=\"warning\">⚠️</span> Por segurança envie suas mensagens em blocos de 30 contatos.</h3>\r\n\t\t\t</Paper>\r\n\t\t\t{/* <Paper className={classes.paper}>\r\n\t\t\t<h3><span role=\"img\" aria-label=\"rule\">📜</span> REGRA do DDD para o BRASIL <br></br> DDD menor ou igual a 30, usa o 9 | ex.: 55119012345678 <br></br> DDD maior que 30 não usa o 9 | ex.: 553512345678</h3>\r\n\t\t\t</Paper> */}\r\n\t\t\t<form onSubmit={handleSubmit}>\r\n\t\t\t\t<Paper className={classes.paper}>\r\n\t\t\t\t<TextField \r\n\t\t\t\t\tid=\"outlined-basic\" \r\n\t\t\t\t\tlabel=\"Números\" \r\n\t\t\t\t\tvariant=\"outlined\" \r\n\t\t\t\t\tname=\"user\" \r\n\t\t\t\t\tvalue={inputs.user || \"\"} \r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\trequired=\"required\"\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tmultiline\r\n\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\tplaceholder=\"553588754197&#13;&#10;553588754197&#13;&#10;553588754197&#13;&#10;553588754197\"\r\n\t\t\t\t/>\r\n\t\t\t\t</Paper>\r\n\t\t\t\t<Paper className={classes.paper}>\r\n\t\t\t\t<TextField \r\n\t\t\t\t\tid=\"outlined-basic\" \r\n\t\t\t\t\tlabel=\"Mensagem\" \r\n\t\t\t\t\tvariant=\"outlined\" \r\n\t\t\t\t\tname=\"message\" \r\n\t\t\t\t\tvalue={inputs.message || \"\"} \r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\trequired=\"required\"\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tmultiline\r\n\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\tplaceholder=\"Olá, tudo bem?&#13;&#10;Como posso te ajudar?&#13;&#10;Abraços, a gente se vê!\"\r\n\t\t\t\t/>\r\n\t\t\t\t</Paper>\r\n\t\t\t\t<Paper className={classes.paper}>\r\n\t\t\t\t<TextField \r\n\t\t\t\t\tid=\"outlined-basic\" \r\n\t\t\t\t\tlabel=\"ID de Disparo\" \r\n\t\t\t\t\tvariant=\"outlined\" \r\n\t\t\t\t\tname=\"id\" \r\n\t\t\t\t\tvalue={inputs.id || \"\"} \r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\trequired=\"required\"\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t/>\r\n\t\t\t\t</Paper>\r\n\t\t\t\t<Button variant=\"contained\" color=\"primary\" className={classes.button} onClick={GETSender}>\r\n\t\t\t\tMostrar ID de Disparo\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button variant=\"contained\" color=\"secondary\" className={classes.button} type=\"submit\">\r\n\t\t\t\tDISPARAR\r\n\t\t\t\t</Button>\r\n\t\t\t</form>\r\n\t\t\t</Container>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ZDG;","import React, { useEffect, useState } from \"react\";\r\nimport openSocket from \"socket.io-client\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Button from '@material-ui/core/Button';\r\n\r\nconst http = require('https');\r\n\r\nconst init = {\r\n  host: process.env.REACT_APP_BACKEND_URL.split(\"//\")[1],\r\n  path: '/sendMedia',\r\n  method: 'POST',\r\n  headers: {\r\n    'content-type': 'application/json; charset=utf-8'\r\n  }\r\n};\r\n\r\nconst callback = function(response) {\r\n  let result = Buffer.alloc(0);\r\n  response.on('data', function(chunk) {\r\n    result = Buffer.concat([result, chunk]);\r\n  });\r\n  \r\n  response.on('end', function() {\r\n    console.log(result.toString());\r\n  });\r\n};\r\n\r\nasync function ZDGSender(number, url, title, iD, token) {\r\n\tconst req = http.request(init, callback);\r\n\tconst body = '{\"number\":\"'+ number + '@c.us\",\"url\":\"' + url + '\",\"title\":\"' + title + '\",\"token\":\"' + token + '\",\"ticketwhatsappId\":' + iD + '}';\r\n\tawait req.write(body);\r\n\treq.end();\r\n}\r\n\r\nconst init2 = {\r\n\thost: process.env.REACT_APP_BACKEND_URL.split(\"//\")[1],\r\n\tpath: '/whatsappzdg'\r\n  };\r\n  \r\nasync function GETSender() {\r\n\thttp.get(init2, function(res) {\r\n\t\tres.on(\"data\", function(wppID) {\r\n\t\t  alert(\"ID instância ativa: \" + wppID) ;\r\n\t\t});\r\n\t  }).on('error', function(e) {\r\n\t\talert(\"Erro: \" + e.message);\r\n\t  });\r\n}\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\tdisplay: \"flex\",\r\n\t\talignItems: \"center\",\r\n\t\tpadding: theme.spacing(4)\r\n\t},\r\n\r\n\tpaper: {\r\n\t\tpadding: theme.spacing(2),\r\n\t\tdisplay: \"flex\",\r\n\t\tjustifyContent: \"center\",\r\n\t\talignItems: \"center\",\r\n\t\ttextAlign: \"center\",\r\n\t\tverticalAlign: \"middle\",\r\n\t\tmarginBottom: 12,\r\n\t},\r\n\r\n\tbutton: {\r\n\t\tpadding: theme.spacing(2),\r\n\t\tdisplay: \"inline-flex\",\r\n\t\tjustifyContent: \"center\",\r\n\t\talignItems: \"center\",\r\n\t\ttextAlign: \"center\",\r\n\t\tverticalAlign: \"middle\",\r\n\t\tmarginBottom: 12,\r\n\t\tmarginRight: 12,\r\n\t},\r\n\r\n\tsettingOption: {\r\n\t\tmarginLeft: \"auto\",\r\n\t},\r\n\tmargin: {\r\n\t\tmargin: theme.spacing(1),\r\n\t},\r\n}));\r\n\r\nconst ZDGMedia = () => {\r\n\tconst classes = useStyles();\r\n\tconst [inputs, setInputs] = useState({});\r\n\tconst [settings, setSettings] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst fetchSession = async () => {\r\n\t\t\ttry {\r\n\t\t\t\tconst { data } = await api.get(\"/settings\");\r\n\t\t\t\tsetSettings(data);\r\n\t\t\t} catch (err) {\r\n\t\t\t\ttoastError(err);\r\n\t\t\t}\r\n\t\t};\r\n\t\tfetchSession();\r\n\t}, []);\r\n\r\n\tconst getSettingValue = key => {\r\n\t\tconst { value } = settings.find(s => s.key === key);\r\n\t\treturn value;\r\n\t};\r\n\r\n\tconst handleChange = (event) => {\r\n\t\tconst name = event.target.name;\r\n\t\tconst value = event.target.value;\r\n\t\tsetInputs(values => ({...values, [name]: value}))\r\n\t  }\r\n\t\r\n\tconst handleSubmit = (event) => {\r\n\t\tevent.preventDefault();\r\n\t\talert('As mensagens estão sendo carregadas! Aguarde...');\r\n\t\tconst usersTextArea = inputs.user.split('\\n');\r\n\t\tconst token = settings && settings.length > 0 && getSettingValue(\"userApiToken\");\r\n\t\tusersTextArea.forEach((user) => {\r\n\t\t\tconst numberDDI = user.substring(0, 2);\r\n\t\t\tconst numberDDD = user.substring(2, 4);\t\t\t\r\n\t\t\t//setTimeout(function() {\r\n\t\t\tif (numberDDI !== \"55\") {\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\tZDGSender(user, inputs.url, inputs.title, inputs.id, token);\r\n\t\t\t\talert('Mensagem enviada para o número DDI: ' + user);\r\n\t\t\t\t},5000 + Math.floor(Math.random() * 3000))\r\n\t\t\t}\r\n\t\t\telse if (numberDDI === \"55\" && parseInt(numberDDD) <= 30) {\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\tconst numberUser = user.substr(-8,8);\r\n\t\t\t\tZDGSender(numberDDI.toString() + numberDDD.toString() + \"9\" + numberUser.toString(), inputs.url, inputs.title, inputs.id, token);\r\n\t\t\t\talert('Mensagem enviada para o número com 9: ' + numberDDI.toString() + numberDDD.toString() + \"9\" + numberUser.toString());\r\n\t\t\t\t},5000 + Math.floor(Math.random() * 3000))  \r\n\t\t\t}\r\n\t\t\telse if (numberDDI === \"55\" && parseInt(numberDDD) > 30) {\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\tconst numberUser = user.substr(-8,8);\r\n\t\t\t\tZDGSender(numberDDI.toString() + numberDDD.toString() + numberUser.toString(), inputs.url, inputs.title, inputs.id, token);\r\n\t\t\t\talert('Mensagem enviada para o número sem 9: ' + numberDDI.toString() + numberDDD.toString() + numberUser.toString());\r\n\t\t\t\t},5000 + Math.floor(Math.random() * 3000)) \r\n\t\t\t}\r\n\t\t\t\t//},5000 + Math.floor(Math.random() * 10000))              \r\n\t\t  });\r\n\t}\r\n\t\r\n\tuseEffect(() => {\r\n\t\tconst socket = openSocket(process.env.REACT_APP_BACKEND_URL);\r\n\t\treturn () => {\r\n\t\t\tsocket.disconnect();\r\n\t\t};\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className={classes.root}>  \r\n\t\t\t<Container className={classes.container} maxWidth=\"sm\">\r\n\t\t\t<Paper className={classes.paper}>\r\n\t\t\t<h1> Disparo automátio de arquivos</h1>\r\n\t\t\t</Paper>\r\n\t\t\t<Paper className={classes.paper}>\r\n\t\t\t<h3><span role=\"img\" aria-label=\"warning\">⚠️</span> Por segurança envie seus arquivos em blocos de 30 contatos.</h3>\r\n\t\t\t</Paper>\r\n\t\t\t{/* <Paper className={classes.paper}>\r\n\t\t\t<h3><span role=\"img\" aria-label=\"rule\">📜</span> REGRA do DDD para o BRASIL <br></br> DDD menor ou igual a 30, usa o 9 | ex.: 55119012345678 <br></br> DDD maior que 30 não usa o 9 | ex.: 553512345678</h3>\r\n\t\t\t</Paper> */}\r\n\t\t\t<form onSubmit={handleSubmit}>\r\n\t\t\t\t<Paper className={classes.paper}>\r\n\t\t\t\t<TextField \r\n\t\t\t\t\tid=\"outlined-basic\" \r\n\t\t\t\t\tlabel=\"Números\" \r\n\t\t\t\t\tvariant=\"outlined\" \r\n\t\t\t\t\tname=\"user\" \r\n\t\t\t\t\tvalue={inputs.user || \"\"} \r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\trequired=\"required\"\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tmultiline\r\n\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\tplaceholder=\"553588754197&#13;&#10;553588754197&#13;&#10;553588754197&#13;&#10;553588754197\"\r\n\t\t\t\t/>\r\n\t\t\t\t</Paper>\r\n\t\t\t\t<Paper className={classes.paper}>\r\n\t\t\t\t<TextField \r\n\t\t\t\t\tid=\"outlined-basic\" \r\n\t\t\t\t\tlabel=\"URL\" \r\n\t\t\t\t\tvariant=\"outlined\" \r\n\t\t\t\t\tname=\"url\" \r\n\t\t\t\t\tvalue={inputs.url || \"\"} \r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\trequired=\"required\"\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\tplaceholder=\"URL do Arquivo\"\r\n\t\t\t\t/>\r\n\t\t\t\t</Paper>\r\n\t\t\t\t<Paper className={classes.paper}>\r\n\t\t\t\t<TextField \r\n\t\t\t\t\tid=\"outlined-basic\" \r\n\t\t\t\t\tlabel=\"Título\" \r\n\t\t\t\t\tvariant=\"outlined\" \r\n\t\t\t\t\tname=\"title\" \r\n\t\t\t\t\tvalue={inputs.title || \"\"} \r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\trequired=\"required\"\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\tplaceholder=\"URL do Arquivo\"\r\n\t\t\t\t/>\r\n\t\t\t\t</Paper>\r\n\t\t\t\t<Paper className={classes.paper}>\r\n\t\t\t\t<TextField \r\n\t\t\t\t\tid=\"outlined-basic\" \r\n\t\t\t\t\tlabel=\"ID de Disparo\" \r\n\t\t\t\t\tvariant=\"outlined\" \r\n\t\t\t\t\tname=\"id\" \r\n\t\t\t\t\tvalue={inputs.id || \"\"} \r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\trequired=\"required\"\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t/>\r\n\t\t\t\t</Paper>\r\n\t\t\t\t<Button variant=\"contained\" color=\"primary\" className={classes.button} onClick={GETSender}>\r\n\t\t\t\tMostrar ID de Disparo\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button variant=\"contained\" color=\"secondary\" className={classes.button} type=\"submit\">\r\n\t\t\t\tDISPARAR\r\n\t\t\t\t</Button>\r\n\t\t\t</form>\r\n\t\t\t</Container>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ZDGMedia;","import React, { useEffect, useState } from \"react\";\r\nimport openSocket from \"socket.io-client\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport PropTypes from 'prop-types';\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Box from '@material-ui/core/Box';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Button from '@material-ui/core/Button';\r\nimport Container from \"@material-ui/core/Container\";\r\nimport SystemUpdateIcon from '@material-ui/icons/SystemUpdate';\r\nimport AddBoxIcon from '@material-ui/icons/AddBox';\r\nimport LockOpenIcon from '@material-ui/icons/LockOpen';\r\nimport LockIcon from '@material-ui/icons/Lock';\r\nimport SendIcon from '@material-ui/icons/Send';\r\nimport StarsIcon from '@material-ui/icons/Stars';\r\n\r\nconst http = require('https');\r\n\r\nconst init = {\r\n  host: process.env.REACT_APP_BACKEND_URL.split(\"//\")[1],\r\n  path: '/zdgGroups',\r\n  method: 'POST',\r\n  headers: {\r\n    'content-type': 'application/json; charset=utf-8'\r\n  }\r\n};\r\n\r\nconst init2 = {\r\n\thost: process.env.REACT_APP_BACKEND_URL.split(\"//\")[1],\r\n\tpath: '/zdgGroupsDescription',\r\n\tmethod: 'POST',\r\n\theaders: {\r\n\t  'content-type': 'application/json; charset=utf-8'\r\n\t}\r\n  };\r\n\r\nconst init3 = {\r\n\thost: process.env.REACT_APP_BACKEND_URL.split(\"//\")[1],\r\n\tpath: '/zdgGroupsCreate',\r\n\tmethod: 'POST',\r\n\theaders: {\r\n\t  'content-type': 'application/json; charset=utf-8'\r\n\t}\r\n  };\r\n\r\nconst init4 = {\r\n\thost: process.env.REACT_APP_BACKEND_URL.split(\"//\")[1],\r\n\tpath: '/zdgGroupsMessage',\r\n\tmethod: 'POST',\r\n\theaders: {\r\n\t  'content-type': 'application/json; charset=utf-8'\r\n\t}\r\n  };\r\n\r\nconst init5 = {\r\n\thost: process.env.REACT_APP_BACKEND_URL.split(\"//\")[1],\r\n\tpath: '/zdgOpenGroup',\r\n\tmethod: 'POST',\r\n\theaders: {\r\n\t  'content-type': 'application/json; charset=utf-8'\r\n\t}\r\n  };\r\n\r\nconst init6 = {\r\n\thost: process.env.REACT_APP_BACKEND_URL.split(\"//\")[1],\r\n\tpath: '/zdgCloseGroup',\r\n\tmethod: 'POST',\r\n\theaders: {\r\n\t  'content-type': 'application/json; charset=utf-8'\r\n\t}\r\n  };\r\n\r\nconst init7 = {\r\n\thost: process.env.REACT_APP_BACKEND_URL.split(\"//\")[1],\r\n\tpath: '/zdgNASA',\r\n\tmethod: 'POST',\r\n\theaders: {\r\n\t  'content-type': 'application/json; charset=utf-8'\r\n\t}\r\n  };\r\n\r\nconst callback = function(response) {\r\n  let result = Buffer.alloc(0);\r\n  response.on('data', function(chunk) {\r\n    result = Buffer.concat([result, chunk]);\r\n  });\r\n  \r\n  response.on('end', function() {\r\n    console.log(result.toString());\r\n  });\r\n};\r\n\r\nasync function ZDGSetGroups (subject, iD, token) {\r\n\tconst req = http.request(init, callback);\r\n\tconst body = '{\"subject\":\"'+ subject + '\",\"token\":\"' + token + '\",\"ticketwhatsappId\":' + iD + '}';\r\n\tawait req.write(body);\r\n\treq.end();\r\n}\r\n\r\nasync function ZDGSetGroupsDescription (description, iD, token) {\r\n\tconst req = http.request(init2, callback);\r\n\tconst body = '{\"description\":\"'+ description + '\",\"token\":\"' + token + '\",\"ticketwhatsappId\":' + iD + '}';\r\n\tawait req.write(body);\r\n\treq.end();\r\n}\r\n\r\nasync function zdgGroupsCreate (title, contact, iD, token) {\r\n\tconst req = http.request(init3, callback);\r\n\tconst contactWPP = contact + \"@c.us\";\r\n\tconst body = '{\"title\":\"' + title + '\",\"contact\":\"' + contactWPP + '\",\"token\":\"' + token + '\",\"ticketwhatsappId\":' + iD + '}';\r\n\tawait req.write(body);\r\n\treq.end();\r\n}\r\n\r\nasync function zdgSendGroupMessage (newMessageGroup, iD, token) {\r\n\tconst req = http.request(init4, callback);\r\n\tconst body = '{\"newMessageGroup\":\"' + newMessageGroup.replace(/\\n/g, \"\\\\n\") + '\",\"token\":\"' + token + '\",\"ticketwhatsappId\":' + iD + '}';\r\n\tawait req.write(body);\r\n\treq.end();\r\n}\r\n\r\nasync function zdgCloseGroup (iD, token) {\r\n\tconst req = http.request(init6, callback);\r\n\tconst body = '{\"token\":\"' + token + '\",\"ticketwhatsappId\":' + iD + '}';\r\n\tawait req.write(body);\r\n\treq.end();\r\n}\r\n\r\nasync function zdgOpenGroup (iD, token) {\r\n\tconst req = http.request(init5, callback);\r\n\tconst body = '{\"token\":\"' + token + '\",\"ticketwhatsappId\":' + iD + '}';\r\n\tawait req.write(body);\r\n\treq.end();\r\n}\r\n\r\nasync function zdgNASA (newMessAgeGroupNasa, iD, token) {\r\n\tconst req = http.request(init7, callback);\r\n\tconst body = '{\"newMessAgeGroupNasa\":\"' + newMessAgeGroupNasa.replace(/\\n/g, \"\\\\n\") + '\",\"token\":\"' + token + '\",\"ticketwhatsappId\":' + iD + '}';\r\n\tawait req.write(body);\r\n\treq.end();\r\n}\r\n\r\nconst initGet = {\r\n\thost: process.env.REACT_APP_BACKEND_URL.split(\"//\")[1],\r\n\tpath: '/whatsappzdg'\r\n  };\r\n  \r\nasync function GETSender() {\r\n\thttp.get(initGet, function(res) {\r\n\t\tres.on(\"data\", function(wppID) {\r\n\t\t  alert(\"ID instância ativa: \" + wppID) ;\r\n\t\t});\r\n\t  }).on('error', function(e) {\r\n\t\talert(\"Erro: \" + e.message);\r\n\t  });\r\n}\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\tflexGrow: 1,\r\n\t\twidth: '100%',\r\n\t\talignItems: \"center\",\r\n\t},\r\n\r\n\tcontainer: {\r\n\t\tpadding: theme.spacing(2),\r\n\t\tjustifyContent: \"center\",\r\n\t\talignItems: \"center\",\r\n\t\ttextAlign: \"center\",\r\n\t\tverticalAlign: \"middle\",\r\n\t\tmarginBottom: 12,\r\n\t},\r\n\r\n\tpaper2: {\r\n\t\tpadding: theme.spacing(2),\r\n\t\tdisplay: \"flex\",\r\n\t\tjustifyContent: \"center\",\r\n\t\talignItems: \"center\",\r\n\t\ttextAlign: \"center\",\r\n\t\tverticalAlign: \"middle\",\r\n\t\tmarginBottom: 12,\r\n\t},\r\n\r\n\tpaper: {\r\n\t\tpadding: theme.spacing(2),\r\n\t\tdisplay: \"flex\",\r\n\t\tjustifyContent: \"center\",\r\n\t\talignItems: \"center\",\r\n\t\ttextAlign: \"center\",\r\n\t\tverticalAlign: \"middle\",\r\n\t\tmarginBottom: 12,\r\n\t\tmarginRight: 100,\r\n\t\tmarginLeft: 100,\r\n\t},\r\n\r\n\tbutton: {\r\n\t\tpadding: theme.spacing(2),\r\n\t\tdisplay: \"inline-flex\",\r\n\t\tjustifyContent: \"center\",\r\n\t\talignItems: \"center\",\r\n\t\ttextAlign: \"center\",\r\n\t\tverticalAlign: \"middle\",\r\n\t\tmarginBottom: 12,\r\n\t\tmarginRight: 12,\r\n\t},\r\n\r\n\tbuttonReset: {\r\n\t\tpadding: theme.spacing(2),\r\n\t\tdisplay: \"inline-flex\",\r\n\t\tjustifyContent: \"center\",\r\n\t\talignItems: \"center\",\r\n\t\ttextAlign: \"center\",\r\n\t\tverticalAlign: \"middle\",\r\n\t\tmarginBottom: 12,\r\n\t\tmarginLeft: 12,\r\n\t\tfontSize: 10,\r\n\t},\r\n\r\n\tsettingOption: {\r\n\t\tmarginLeft: \"auto\",\r\n\t},\r\n\tmargin: {\r\n\t\tmargin: theme.spacing(1),\r\n\t},\r\n}));\r\n\r\nfunction TabPanel(props) {\r\n\tconst { children, value, index, ...other } = props;\r\n  \r\n\treturn (\r\n\t  <div\r\n\t\trole=\"tabpanel\"\r\n\t\thidden={value !== index}\r\n\t\tid={`scrollable-force-tabpanel-${index}`}\r\n\t\taria-labelledby={`scrollable-force-tab-${index}`}\r\n\t\t{...other}\r\n\t  >\r\n\t\t{value === index && (\r\n\t\t  <Box p={3}>\r\n\t\t\t<Typography>{children}</Typography>\r\n\t\t  </Box>\r\n\t\t)}\r\n\t  </div>\r\n\t);\r\n  }\r\n\r\n  TabPanel.propTypes = {\r\n\tchildren: PropTypes.node,\r\n\tindex: PropTypes.any.isRequired,\r\n\tvalue: PropTypes.any.isRequired,\r\n  };\r\n\r\n  function a11yProps(index) {\r\n\treturn {\r\n\t  id: `scrollable-force-tab-${index}`,\r\n\t  'aria-controls': `scrollable-force-tabpanel-${index}`,\r\n\t};\r\n  }\r\n\r\n\r\nconst ZDGGroups = () => {\r\n\tconst classes = useStyles();\r\n\tconst [inputs, setInputs] = useState({});\r\n\tconst [settings, setSettings] = useState([]);\r\n\tconst [value, setValue] = React.useState(0);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst fetchSession = async () => {\r\n\t\t\ttry {\r\n\t\t\t\tconst { data } = await api.get(\"/settings\");\r\n\t\t\t\tsetSettings(data);\r\n\t\t\t} catch (err) {\r\n\t\t\t\ttoastError(err);\r\n\t\t\t}\r\n\t\t};\r\n\t\tfetchSession();\r\n\t}, []);\r\n\t\r\n\tconst getSettingValue = key => {\r\n\t\tconst { value } = settings.find(s => s.key === key);\r\n\t\treturn value;\r\n\t};\r\n\r\n\tconst handleChange = (event) => {\r\n\t\tconst name = event.target.name;\r\n\t\tconst value = event.target.value;\r\n\t\tsetInputs(values => ({...values, [name]: value}))\r\n\t}\r\n\r\n\tconst handleChange2 = (event, newValue) => {\r\n\t\tsetValue(newValue);\r\n\t  };\r\n\r\n\tconst resetInputField = () => {\r\n\t\tsetInputs(\"\");\r\n\t\talert('Campos resetados.');\r\n\t  };\r\n\t\r\n\tconst handleSubmit = (event) => {\r\n\t\tevent.preventDefault();\r\n\t\tconst token = settings && settings.length > 0 && getSettingValue(\"userApiToken\");\r\n\t\talert('Os dados estão sendo atualizados! Clique ok para continuar...');\r\n\t\tif (inputs.mensagemGrupoNASA === undefined && inputs.abrirGrupo === undefined && inputs.mensagemGrupo === undefined && inputs.titulo !== undefined && inputs.descricao === undefined && inputs.tituloNovo === undefined && inputs.contatoGrupo === undefined) {\r\n\t\t\talert('Todos os títulos dos grupos que você é admin estão sendo atualizados! Aguarde...');\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tZDGSetGroups(inputs.titulo, inputs.id, token);\r\n\t\t\t\t},5000 + Math.floor(Math.random() * 10000))\r\n\t\t}\r\n\t\telse if (inputs.mensagemGrupoNASA === undefined && inputs.abrirGrupo === undefined &&inputs.mensagemGrupo === undefined && inputs.titulo === undefined && inputs.descricao !== undefined && inputs.tituloNovo === undefined && inputs.contatoGrupo === undefined) {\r\n\t\t\talert('Todos as descrições dos grupos que você é admin estão sendo atualizados! Aguarde...');\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tZDGSetGroupsDescription(inputs.descricao, inputs.id, token);\r\n\t\t\t\t},5000 + Math.floor(Math.random() * 10000))\r\n\t\t}\r\n\t\telse if (inputs.mensagemGrupoNASA === undefined && inputs.abrirGrupo === undefined &&inputs.mensagemGrupo === undefined && inputs.titulo !== undefined && inputs.descricao !== undefined && inputs.tituloNovo === undefined && inputs.contatoGrupo === undefined) {\r\n\t\t\talert('Todos as descrições e títulos dos grupos que você é admin estão sendo atualizados! Aguarde...');\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tZDGSetGroupsDescription(inputs.descricao, inputs.id, token);\r\n\t\t\t\t},5000 + Math.floor(Math.random() * 10000))\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tZDGSetGroups(inputs.titulo, inputs.id, token);\r\n\t\t\t\t},5000 + Math.floor(Math.random() * 10000))\r\n\t\t}\r\n\t\telse if (inputs.mensagemGrupoNASA === undefined && inputs.abrirGrupo === undefined &&inputs.mensagemGrupo === undefined && inputs.titulo === undefined && inputs.descricao === undefined && inputs.tituloNovo !== undefined && inputs.contatoGrupo !== undefined) {\r\n\t\t\talert('Os grupos estão sendo criados! Aguarde...');\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tzdgGroupsCreate(inputs.tituloNovo, inputs.contatoGrupo, inputs.id, token);\r\n\t\t\t\t},5000 + Math.floor(Math.random() * 10000))\r\n\t\t}\r\n\t\telse if (inputs.mensagemGrupoNASA === undefined && inputs.abrirGrupo === undefined && inputs.fecharGrupo === undefined && inputs.mensagemGrupo !== undefined && inputs.titulo === undefined && inputs.descricao === undefined && inputs.tituloNovo === undefined && inputs.contatoGrupo === undefined) {\r\n\t\t\talert('As mensagens estao sendo enviadas para os grupos! Aguarde...');\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tzdgSendGroupMessage(inputs.mensagemGrupo, inputs.id, token);\r\n\t\t\t\t},5000 + Math.floor(Math.random() * 10000))\r\n\t\t}\r\n\t\telse if (inputs.mensagemGrupoNASA === undefined && inputs.abrirGrupo !== undefined && inputs.fecharGrupo === undefined && inputs.mensagemGrupo === undefined && inputs.titulo === undefined && inputs.descricao === undefined && inputs.tituloNovo === undefined && inputs.contatoGrupo === undefined) {\r\n\t\t\talert('Os grupos onde você é admin serão abertos! Aguarde...');\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tzdgOpenGroup(inputs.id, token);\r\n\t\t\t\t},5000 + Math.floor(Math.random() * 10000))\r\n\t\t}\r\n\t\telse if (inputs.mensagemGrupoNASA === undefined && inputs.fecharGrupo !== undefined && inputs.abrirGrupo === undefined && inputs.mensagemGrupo === undefined && inputs.titulo === undefined && inputs.descricao === undefined && inputs.tituloNovo === undefined && inputs.contatoGrupo === undefined) {\r\n\t\t\talert('Os grupos onde você é admin serão fechados! Aguarde...');\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tzdgCloseGroup(inputs.id, token);\r\n\t\t\t\t},5000 + Math.floor(Math.random() * 10000))\r\n\t\t}\r\n\t\telse if (inputs.mensagemGrupoNASA !== undefined && inputs.fecharGrupo === undefined && inputs.abrirGrupo === undefined && inputs.mensagemGrupo === undefined && inputs.titulo === undefined && inputs.descricao === undefined && inputs.tituloNovo === undefined && inputs.contatoGrupo === undefined) {\r\n\t\t\talert('Todos os participantes dos grupos onde você e admin recebrão uma mensagem no privado! Aguarde...');\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tzdgNASA(inputs.mensagemGrupoNASA, inputs.id, token);\r\n\t\t\t\t},5000 + Math.floor(Math.random() * 10000))\r\n\t\t}\r\n\t\telse if (inputs.mensagemGrupoNASA === undefined && inputs.fecharGrupo === undefined && inputs.abrirGrupo === undefined && inputs.mensagemGrupo === undefined && inputs.titulo === undefined && inputs.descricao === undefined && inputs.tituloNovo === undefined && inputs.contatoGrupo === undefined) {\r\n\t\t\talert('Preencha os campos corretamente, nenhuma ação foi executada.');\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\t\r\n\tuseEffect(() => {\r\n\t\tconst socket = openSocket(process.env.REACT_APP_BACKEND_URL);\r\n\t\treturn () => {\r\n\t\t\tsocket.disconnect();\r\n\t\t};\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className={classes.root}>\r\n\t\t<Container className={classes.container} maxWidth=\"sm\">\r\n\t\t\t<Paper className={classes.paper2}>\r\n\t\t\t<h1> Gestão de Grupos em MASSA</h1>\r\n\t\t\t</Paper>\r\n\t\t\t<Paper className={classes.paper2}>\r\n\t\t\t<h2><span role=\"img\" aria-label=\"warning\">⚠️</span> Gerencie todos os grupos onde você é o admin.</h2>\r\n\t\t\t</Paper>\r\n\t\t\t<Paper className={classes.paper2}>\r\n\t\t\t<h3> Resete os campos antes de cada nova ação</h3>\r\n\t\t\t<Button variant=\"contained\" color=\"primary\" className={classes.buttonReset} onClick={resetInputField}>\r\n\t\t\tResetar campos\r\n\t\t\t</Button>\r\n\t\t\t</Paper>\r\n\t\t</Container>\r\n\t\t<AppBar position=\"static\" color=\"default\">\r\n\t\t<Tabs\r\n\t\t\tvalue={value}\r\n\t\t\tonChange={handleChange2}\r\n\t\t\tvariant=\"scrollable\"\r\n\t\t\tscrollButtons=\"on\"\r\n\t\t\tindicatorColor=\"primary\"\r\n\t\t\ttextColor=\"primary\"\r\n\t\t\taria-label=\"scrollable force tabs example\"\r\n\t\t  \t>\r\n\t\t\t<Tab label=\"Atualizar Grupo\" icon={<SystemUpdateIcon />} {...a11yProps(0)} />\r\n\t\t\t<Tab label=\"Criar  Grupo\" icon={<AddBoxIcon />} {...a11yProps(1)} />\r\n\t\t\t<Tab label=\"Abrir Grupo\" icon={<LockOpenIcon />} {...a11yProps(2)} />\r\n\t\t\t<Tab label=\"Fechar Grupo\" icon={<LockIcon/>} {...a11yProps(3)} />\r\n\t\t\t<Tab label=\"Mensagem no Grupo\" icon={<SendIcon />} {...a11yProps(4)} />\r\n\t\t\t<Tab label=\"Mensagem da NASA\" icon={<StarsIcon />} {...a11yProps(5)} />\r\n\t\t</Tabs>\r\n\t\t</AppBar>\r\n\t\t<TabPanel value={value} index={0}>\r\n\t\t\t<Paper className={classes.paper}>\r\n\t\t\t<h2> Atualização dos Grupos</h2>\r\n\t\t\t</Paper>\r\n\t\t\t<form onSubmit={handleSubmit}>\r\n\t\t\t\t<Paper className={classes.paper}>\r\n\t\t\t\t<TextField \r\n\t\t\t\t\tid=\"outlined-basic\" \r\n\t\t\t\t\tlabel=\"Título\" \r\n\t\t\t\t\tvariant=\"outlined\" \r\n\t\t\t\t\tname=\"titulo\" \r\n\t\t\t\t\tvalue={inputs.titulo || \"\"} \r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\trequired=\"required\"\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\tplaceholder=\"Novo título para os grupos\"\r\n\t\t\t\t/>\r\n\t\t\t\t</Paper>\r\n\t\t\t\t<Paper className={classes.paper}>\r\n\t\t\t\t<TextField \r\n\t\t\t\t\tid=\"outlined-basic\" \r\n\t\t\t\t\tlabel=\"Descrição\" \r\n\t\t\t\t\tvariant=\"outlined\" \r\n\t\t\t\t\tname=\"descricao\" \r\n\t\t\t\t\tvalue={inputs.descricao || \"\"} \r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\trequired=\"required\"\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\tplaceholder=\"Nova descrição para os grupos\"\r\n\t\t\t\t/>\r\n\t\t\t\t</Paper>\r\n\t\t\t\t<Paper className={classes.paper}>\r\n\t\t\t\t<TextField \r\n\t\t\t\t\tid=\"outlined-basic\" \r\n\t\t\t\t\tlabel=\"ID de Disparo\" \r\n\t\t\t\t\tvariant=\"outlined\" \r\n\t\t\t\t\tname=\"id\" \r\n\t\t\t\t\tvalue={inputs.id || \"\"} \r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\trequired=\"required\"\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t/>\r\n\t\t\t\t</Paper>\r\n\t\t\t\t<Button variant=\"contained\" color=\"primary\" className={classes.button} onClick={GETSender}>\r\n\t\t\t\tMostrar ID de Disparo\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button variant=\"contained\" color=\"secondary\" className={classes.button} type=\"submit\">\r\n\t\t\t\tATUALIZAR GRUPOS\r\n\t\t\t\t</Button>\r\n\t\t\t</form>\r\n\t\t</TabPanel>\r\n\t\t<TabPanel value={value} index={1}>\r\n\t\t\t<Paper className={classes.paper}>\r\n\t\t\t<h2> Criação de Grupos</h2>\r\n\t\t\t</Paper>\r\n\t\t\t<form onSubmit={handleSubmit}>\r\n\t\t\t\t<Paper className={classes.paper}>\r\n\t\t\t\t<TextField \r\n\t\t\t\t\tid=\"outlined-basic\" \r\n\t\t\t\t\tlabel=\"Título do Novo Grupo\" \r\n\t\t\t\t\tvariant=\"outlined\" \r\n\t\t\t\t\tname=\"tituloNovo\" \r\n\t\t\t\t\tvalue={inputs.tituloNovo || \"\"} \r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\trequired=\"required\"\r\n\t\t\t\t\tfullWidth\t\t\t\t\t\r\n\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\tplaceholder=\"Título para o novo grupo\"\r\n\t\t\t\t/>\r\n\t\t\t\t</Paper>\r\n\t\t\t\t<Paper className={classes.paper}>\r\n\t\t\t\t<TextField \r\n\t\t\t\t\tid=\"outlined-basic\" \r\n\t\t\t\t\tlabel=\"Contato da agenda a ser adicionado\" \r\n\t\t\t\t\tvariant=\"outlined\" \r\n\t\t\t\t\tname=\"contatoGrupo\" \r\n\t\t\t\t\tvalue={inputs.contatoGrupo || \"\"} \r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\trequired=\"required\"\r\n\t\t\t\t\tfullWidth\t\t\t\t\t\r\n\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\tplaceholder=\"Título para o novo grupo\"\r\n\t\t\t\t/>\r\n\t\t\t\t</Paper>\r\n\t\t\t\t<Paper className={classes.paper}>\r\n\t\t\t\t<TextField \r\n\t\t\t\t\tid=\"outlined-basic\" \r\n\t\t\t\t\tlabel=\"ID de Disparo\" \r\n\t\t\t\t\tvariant=\"outlined\" \r\n\t\t\t\t\tname=\"id\" \r\n\t\t\t\t\tvalue={inputs.id || \"\"} \r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\trequired=\"required\"\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t/>\r\n\t\t\t\t</Paper>\r\n\t\t\t\t<Button variant=\"contained\" color=\"primary\" className={classes.button} onClick={GETSender}>\r\n\t\t\t\tMostrar ID de Disparo\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button variant=\"contained\" color=\"secondary\" className={classes.button} type=\"submit\">\r\n\t\t\t\tATUALIZAR GRUPOS\r\n\t\t\t\t</Button>\r\n\t\t\t</form>\r\n\t\t</TabPanel>\r\n\t\t<TabPanel value={value} index={2}>\r\n\t\t\t<Paper className={classes.paper}>\r\n\t\t\t<h2> Abrir Grupos</h2>\r\n\t\t\t</Paper>\r\n\t\t\t<form onSubmit={handleSubmit}>\r\n\t\t\t\t<Paper className={classes.paper}>\r\n\t\t\t\t<TextField \r\n\t\t\t\t\tid=\"outlined-basic\" \r\n\t\t\t\t\tlabel=\"Abrir os grupos\" \r\n\t\t\t\t\tvariant=\"outlined\" \r\n\t\t\t\t\tname=\"abrirGrupo\" \r\n\t\t\t\t\tvalue={inputs.abrirGrupo || \"\"} \r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\trequired=\"required\"\r\n\t\t\t\t\tfullWidth\t\t\t\t\t\r\n\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\tplaceholder=\"Escreva ABRIR para abrir seus GRUPOS\"\r\n\t\t\t\t/>\r\n\t\t\t\t</Paper>\r\n\t\t\t\t<Paper className={classes.paper}>\r\n\t\t\t\t<TextField \r\n\t\t\t\t\tid=\"outlined-basic\" \r\n\t\t\t\t\tlabel=\"ID de Disparo\" \r\n\t\t\t\t\tvariant=\"outlined\" \r\n\t\t\t\t\tname=\"id\" \r\n\t\t\t\t\tvalue={inputs.id || \"\"} \r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\trequired=\"required\"\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t/>\r\n\t\t\t\t</Paper>\r\n\t\t\t\t<Button variant=\"contained\" color=\"primary\" className={classes.button} onClick={GETSender}>\r\n\t\t\t\tMostrar ID de Disparo\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button variant=\"contained\" color=\"secondary\" className={classes.button} type=\"submit\">\r\n\t\t\t\tABRIR GRUPOS\r\n\t\t\t\t</Button>\r\n\t\t\t</form>\r\n\t\t</TabPanel>\r\n\t\t<TabPanel value={value} index={3}>\r\n\t\t\t<Paper className={classes.paper}>\r\n\t\t\t<h2> Fechar Grupos</h2>\r\n\t\t\t</Paper>\r\n\t\t\t<form onSubmit={handleSubmit}>\r\n\t\t\t<Paper className={classes.paper}>\r\n\t\t\t\t<TextField \r\n\t\t\t\t\tid=\"outlined-basic\" \r\n\t\t\t\t\tlabel=\"Fechar os grupos\" \r\n\t\t\t\t\tvariant=\"outlined\" \r\n\t\t\t\t\tname=\"fecharGrupo\" \r\n\t\t\t\t\tvalue={inputs.fecharGrupo || \"\"} \r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\trequired=\"required\"\r\n\t\t\t\t\tfullWidth\t\t\t\t\t\r\n\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\tplaceholder=\"Escreva FECHAR para abrir seus GRUPOS\"\r\n\t\t\t\t/>\r\n\t\t\t\t</Paper>\r\n\t\t\t\t<Paper className={classes.paper}>\r\n\t\t\t\t<TextField \r\n\t\t\t\t\tid=\"outlined-basic\" \r\n\t\t\t\t\tlabel=\"ID de Disparo\" \r\n\t\t\t\t\tvariant=\"outlined\" \r\n\t\t\t\t\tname=\"id\" \r\n\t\t\t\t\tvalue={inputs.id || \"\"} \r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\trequired=\"required\"\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t/>\r\n\t\t\t\t</Paper>\r\n\t\t\t\t<Button variant=\"contained\" color=\"primary\" className={classes.button} onClick={GETSender}>\r\n\t\t\t\tMostrar ID de Disparo\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button variant=\"contained\" color=\"secondary\" className={classes.button} type=\"submit\">\r\n\t\t\t\tFECHAR GRUPOS\r\n\t\t\t\t</Button>\r\n\t\t\t</form>\r\n\t\t</TabPanel>\r\n\t\t<TabPanel value={value} index={4}>\r\n\t\t\t<Paper className={classes.paper}>\r\n\t\t\t<h2> Enviar Mensagem nos Grupos</h2>\r\n\t\t\t</Paper>\r\n\t\t\t<form onSubmit={handleSubmit}>\r\n\t\t\t\t<Paper className={classes.paper}>\r\n\t\t\t\t<TextField \r\n\t\t\t\t\tid=\"outlined-basic\" \r\n\t\t\t\t\tlabel=\"Mensagem para os Grupos\" \r\n\t\t\t\t\tvariant=\"outlined\" \r\n\t\t\t\t\tname=\"mensagemGrupo\" \r\n\t\t\t\t\tvalue={inputs.mensagemGrupo || \"\"} \r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\trequired=\"required\"\r\n\t\t\t\t\tfullWidth\t\r\n\t\t\t\t\tmultiline\t\t\t\t\r\n\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\tplaceholder=\"Oi tudo bem?&#13;&#10;Como vai você!?&#13;&#10;Aqui é o Pedrinho da NASA.&#13;&#10;Já conhece a Comunidade ZDG?\"\r\n\t\t\t\t/>\r\n\t\t\t\t</Paper>\r\n\t\t\t\t<Paper className={classes.paper}>\r\n\t\t\t\t<TextField \r\n\t\t\t\t\tid=\"outlined-basic\" \r\n\t\t\t\t\tlabel=\"ID de Disparo\" \r\n\t\t\t\t\tvariant=\"outlined\" \r\n\t\t\t\t\tname=\"id\" \r\n\t\t\t\t\tvalue={inputs.id || \"\"} \r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\trequired=\"required\"\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t/>\r\n\t\t\t\t</Paper>\r\n\t\t\t\t<Button variant=\"contained\" color=\"primary\" className={classes.button} onClick={GETSender}>\r\n\t\t\t\tMostrar ID de Disparo\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button variant=\"contained\" color=\"secondary\" className={classes.button} type=\"submit\">\r\n\t\t\t\tENVIAR MENSAGENS NOS GRUPOS\r\n\t\t\t\t</Button>\r\n\t\t\t</form>\r\n\t\t</TabPanel>\r\n\t\t<TabPanel value={value} index={5}>\r\n\t\t\t<Paper className={classes.paper}>\r\n\t\t\t<h2> Enviar Mensagem no Privado</h2>\r\n\t\t\t</Paper>\r\n\t\t\t<Paper className={classes.paper}>\r\n\t\t\t<h3><span role=\"img\" aria-label=\"warning\">⚠️</span> Enviar mensagem individual para cada participante dos grupos onde você é ADMIN</h3>\r\n\t\t\t</Paper>\r\n\t\t\t<form onSubmit={handleSubmit}>\r\n\t\t\t<Paper className={classes.paper}>\r\n\t\t\t\t<TextField \r\n\t\t\t\t\tid=\"outlined-basic\" \r\n\t\t\t\t\tlabel=\"Mensagem individual para os participante dos grupos\" \r\n\t\t\t\t\tvariant=\"outlined\" \r\n\t\t\t\t\tname=\"mensagemGrupoNASA\" \r\n\t\t\t\t\tvalue={inputs.mensagemGrupoNASA || \"\"} \r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\trequired=\"required\"\r\n\t\t\t\t\tfullWidth\t\r\n\t\t\t\t\tmultiline\t\t\t\t\r\n\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\tplaceholder=\"Oi tudo bem?&#13;&#10;Como vai você!?&#13;&#10;Aqui é o Pedrinho da NASA.&#13;&#10;Já conhece a Comunidade ZDG?\"\r\n\t\t\t\t/>\r\n\t\t\t\t</Paper>\r\n\t\t\t\t<Paper className={classes.paper}>\r\n\t\t\t\t<TextField \r\n\t\t\t\t\tid=\"outlined-basic\" \r\n\t\t\t\t\tlabel=\"ID de Disparo\" \r\n\t\t\t\t\tvariant=\"outlined\" \r\n\t\t\t\t\tname=\"id\" \r\n\t\t\t\t\tvalue={inputs.id || \"\"} \r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\trequired=\"required\"\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t/>\r\n\t\t\t\t</Paper>\r\n\t\t\t\t<Button variant=\"contained\" color=\"primary\" className={classes.button} onClick={GETSender}>\r\n\t\t\t\tMostrar ID de Disparo\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button variant=\"contained\" color=\"secondary\" className={classes.button} type=\"submit\">\r\n\t\t\t\tDISPARAR MENSAGEM DA NASA\r\n\t\t\t\t</Button>\r\n\t\t\t</form>\r\n\t\t</TabPanel>\r\n\t  </div>\r\n\t);\r\n};\r\n\r\nexport default ZDGGroups;","import React, { useEffect, useState } from \"react\";\r\nimport openSocket from \"socket.io-client\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Button from '@material-ui/core/Button';\r\n\r\nconst http = require('https');\r\n\r\nconst init = {\r\n  host: process.env.REACT_APP_BACKEND_URL.split(\"//\")[1],\r\n  path: '/sendDirect',\r\n  method: 'POST',\r\n  headers: {\r\n    'content-type': 'application/json; charset=utf-8'\r\n  }\r\n};\r\n\r\nconst callback = function(response) {\r\n  let result = Buffer.alloc(0);\r\n  response.on('data', function(chunk) {\r\n    result = Buffer.concat([result, chunk]);\r\n  });\r\n  \r\n  response.on('end', function() {\r\n    console.log(result.toString());\r\n  });\r\n};\r\n\r\nasync function ZDGSender(userIg, message, token) {\r\n\tconst req = http.request(init, callback);\r\n\tconst body = '{\"userIg\":\"' + userIg + '\",\"token\":\"' + token + '\",\"message\":\"' + message + '\"}';\r\n\tawait req.write(body);\r\n\treq.end();\r\n}\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\tdisplay: \"flex\",\r\n\t\talignItems: \"center\",\r\n\t\tpadding: theme.spacing(4)\r\n\t},\r\n\r\n\tpaper: {\r\n\t\tpadding: theme.spacing(2),\r\n\t\tdisplay: \"flex\",\r\n\t\tjustifyContent: \"center\",\r\n\t\talignItems: \"center\",\r\n\t\ttextAlign: \"center\",\r\n\t\tverticalAlign: \"middle\",\r\n\t\tmarginBottom: 12,\r\n\t},\r\n\r\n\tbutton: {\r\n\t\tpadding: theme.spacing(2),\r\n\t\tdisplay: \"inline-flex\",\r\n\t\tjustifyContent: \"center\",\r\n\t\talignItems: \"center\",\r\n\t\ttextAlign: \"center\",\r\n\t\tverticalAlign: \"middle\",\r\n\t\tmarginBottom: 12,\r\n\t\tmarginRight: 12,\r\n\t},\r\n\r\n\tsettingOption: {\r\n\t\tmarginLeft: \"auto\",\r\n\t},\r\n\tmargin: {\r\n\t\tmargin: theme.spacing(1),\r\n\t},\r\n}));\r\n\r\nconst DirectInsta = () => {\r\n\tconst classes = useStyles();\r\n\tconst [inputs, setInputs] = useState({});\r\n\tconst [settings, setSettings] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst fetchSession = async () => {\r\n\t\t\ttry {\r\n\t\t\t\tconst { data } = await api.get(\"/settings\");\r\n\t\t\t\tsetSettings(data);\r\n\t\t\t} catch (err) {\r\n\t\t\t\ttoastError(err);\r\n\t\t\t}\r\n\t\t};\r\n\t\tfetchSession();\r\n\t}, []);\r\n\tconst getSettingValue = key => {\r\n\t\tconst { value } = settings.find(s => s.key === key);\r\n\t\treturn value;\r\n\t};\r\n\r\n\tconst handleChange = (event) => {\r\n\t\tconst name = event.target.name;\r\n\t\tconst value = event.target.value;\r\n\t\tsetInputs(values => ({...values, [name]: value}))\r\n\t  }\r\n\t\r\n\tconst handleSubmit = (event) => {\r\n\t\tevent.preventDefault();\r\n\t\tconst token = settings && settings.length > 0 && getSettingValue(\"userApiToken\");\r\n\t\talert('As mensagens estão sendo carregadas! Aguarde...');\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tZDGSender(inputs.userIg, inputs.message, token);\r\n\t\t\t\talert('Mensagem enviada para o instagram de: ' + inputs.userIg);\r\n\t\t\t\t},5000 + Math.floor(Math.random() * 10000))            \r\n\t}\r\n\t\r\n\tuseEffect(() => {\r\n\t\tconst socket = openSocket(process.env.REACT_APP_BACKEND_URL);\r\n\t\treturn () => {\r\n\t\t\tsocket.disconnect();\r\n\t\t};\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className={classes.root}>  \r\n\t\t\t<Container className={classes.container} maxWidth=\"sm\">\r\n\t\t\t<Paper className={classes.paper}>\r\n\t\t\t<h1> Disparo automátio de DIRECTS</h1>\r\n\t\t\t</Paper>\r\n\t\t\t<Paper className={classes.paper}>\r\n\t\t\t<h3><span role=\"img\" aria-label=\"warning\">⚠️</span> API limitada pelo mecanismo anti-spam do IG. Sujeito a banimentos ou quedas inesperadas.</h3>\r\n\t\t\t</Paper>\r\n\t\t\t<form onSubmit={handleSubmit}>\r\n\t\t\t\t<Paper className={classes.paper}>\r\n\t\t\t\t<TextField \r\n\t\t\t\t\tid=\"outlined-basic\" \r\n\t\t\t\t\tlabel=\"Destinatários IG\" \r\n\t\t\t\t\tvariant=\"outlined\" \r\n\t\t\t\t\tname=\"userIg\" \r\n\t\t\t\t\tvalue={inputs.userIg || \"\"} \r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\trequired=\"required\"\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tmultiline\r\n\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\tplaceholder=\"usuário IG&#13;&#10;usuário IG&#13;&#10;usuário IG&#13;&#10;usuário IG\"\r\n\t\t\t\t/>\r\n\t\t\t\t</Paper>\r\n\t\t\t\t<Paper className={classes.paper}>\r\n\t\t\t\t<TextField \r\n\t\t\t\t\tid=\"outlined-basic\" \r\n\t\t\t\t\tlabel=\"Mensagem\" \r\n\t\t\t\t\tvariant=\"outlined\" \r\n\t\t\t\t\tname=\"message\" \r\n\t\t\t\t\tvalue={inputs.message || \"\"} \r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\trequired=\"required\"\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tmultiline\r\n\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\tplaceholder=\"Olá, tudo bem?&#13;&#10;Como posso te ajudar?&#13;&#10;Abraços, a gente se vê!\"\r\n\t\t\t\t/>\r\n\t\t\t\t</Paper>\r\n\t\t\t\t<Button variant=\"contained\" color=\"secondary\" className={classes.button} type=\"submit\">\r\n\t\t\t\tDISPARAR\r\n\t\t\t\t</Button>\r\n\t\t\t</form>\r\n\t\t\t</Container>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default DirectInsta;","import React, { useEffect, useState } from \"react\";\r\nimport openSocket from \"socket.io-client\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Button from '@material-ui/core/Button';\r\n\r\nconst http = require('https');\r\n\r\nconst init = {\r\n  host: process.env.REACT_APP_BACKEND_URL.split(\"//\")[1],\r\n  path: '/sendSms',\r\n  method: 'POST',\r\n  headers: {\r\n    'content-type': 'application/json; charset=utf-8'\r\n  }\r\n};\r\n\r\nconst callback = function(response) {\r\n  let result = Buffer.alloc(0);\r\n  response.on('data', function(chunk) {\r\n    result = Buffer.concat([result, chunk]);\r\n  });\r\n  \r\n  response.on('end', function() {\r\n    console.log(result.toString());\r\n  });\r\n};\r\n\r\nasync function ZDGSms(from, to, text, token) {\r\n\tconst req = http.request(init, callback);\r\n\tconst body = '{\"from\":\"'+ from + '\",\"to\":\"' + to + '\",\"token\":\"' + token + '\",\"text\":\"' + text + '\"}';\r\n\tawait req.write(body);\r\n\treq.end();\r\n}\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\tdisplay: \"flex\",\r\n\t\talignItems: \"center\",\r\n\t\tpadding: theme.spacing(4)\r\n\t},\r\n\r\n\tpaper: {\r\n\t\tpadding: theme.spacing(2),\r\n\t\tdisplay: \"flex\",\r\n\t\tjustifyContent: \"center\",\r\n\t\talignItems: \"center\",\r\n\t\ttextAlign: \"center\",\r\n\t\tverticalAlign: \"middle\",\r\n\t\tmarginBottom: 12,\r\n\t},\r\n\r\n\tbutton: {\r\n\t\tpadding: theme.spacing(2),\r\n\t\tdisplay: \"inline-flex\",\r\n\t\tjustifyContent: \"center\",\r\n\t\talignItems: \"center\",\r\n\t\ttextAlign: \"center\",\r\n\t\tverticalAlign: \"middle\",\r\n\t\tmarginBottom: 12,\r\n\t\tmarginRight: 12,\r\n\t},\r\n\r\n\tsettingOption: {\r\n\t\tmarginLeft: \"auto\",\r\n\t},\r\n\tmargin: {\r\n\t\tmargin: theme.spacing(1),\r\n\t},\r\n}));\r\n\r\nconst SMS = () => {\r\n\tconst classes = useStyles();\r\n\tconst [inputs, setInputs] = useState({});\r\n\tconst [settings, setSettings] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst fetchSession = async () => {\r\n\t\t\ttry {\r\n\t\t\t\tconst { data } = await api.get(\"/settings\");\r\n\t\t\t\tsetSettings(data);\r\n\t\t\t} catch (err) {\r\n\t\t\t\ttoastError(err);\r\n\t\t\t}\r\n\t\t};\r\n\t\tfetchSession();\r\n\t}, []);\r\n\t\r\n\tconst getSettingValue = key => {\r\n\t\tconst { value } = settings.find(s => s.key === key);\r\n\t\treturn value;\r\n\t};\r\n\r\n\tconst handleChange = (event) => {\r\n\t\tconst name = event.target.name;\r\n\t\tconst value = event.target.value;\r\n\t\tsetInputs(values => ({...values, [name]: value}))\r\n\t  }\r\n\t\r\n\tconst handleSubmit = (event) => {\r\n\t\tevent.preventDefault();\r\n\t\talert('As mensagens estão sendo carregadas! Aguarde...');\r\n\t\tconst usersTextArea = inputs.user.split('\\n');\r\n\t\tconst token = settings && settings.length > 0 && getSettingValue(\"userApiToken\");\r\n\t\tusersTextArea.forEach((user) => {\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tZDGSms(inputs.from, user, inputs.message, token);\r\n\t\t\t\talert('Mensagem enviada para o número: ' + user);\r\n\t\t\t\t},5000 + Math.floor(Math.random() * 10))            \r\n\t\t  });\r\n\t}\r\n\t\r\n\tuseEffect(() => {\r\n\t\tconst socket = openSocket(process.env.REACT_APP_BACKEND_URL);\r\n\t\treturn () => {\r\n\t\t\tsocket.disconnect();\r\n\t\t};\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className={classes.root}>  \r\n\t\t\t<Container className={classes.container} maxWidth=\"sm\">\r\n\t\t\t<Paper className={classes.paper}>\r\n\t\t\t<h1> Disparo de SMS</h1>\r\n\t\t\t</Paper>\r\n\t\t\t<Paper className={classes.paper}>\r\n\t\t\t<h3><span role=\"img\" aria-label=\"warning\">⚠️</span> Envio de SMS via VONAGE API.</h3>\r\n\t\t\t</Paper>\r\n\t\t\t<Paper className={classes.paper}>\r\n\t\t\t<h3><span role=\"img\" aria-label=\"phone\">📱</span> Essa funcionalidade depende da configuração e compra de créditos direto com a VONAGE API.</h3>\r\n\t\t\t</Paper>\r\n\t\t\t<form onSubmit={handleSubmit}>\r\n\t\t\t\t<Paper className={classes.paper}>\r\n\t\t\t\t<TextField \r\n\t\t\t\t\tid=\"outlined-basic\" \r\n\t\t\t\t\tlabel=\"Números\" \r\n\t\t\t\t\tvariant=\"outlined\" \r\n\t\t\t\t\tname=\"user\" \r\n\t\t\t\t\tvalue={inputs.user || \"\"} \r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\trequired=\"required\"\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tmultiline\r\n\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\tplaceholder=\"553588754197&#13;&#10;553588754197&#13;&#10;553588754197&#13;&#10;553588754197\"\r\n\t\t\t\t/>\r\n\t\t\t\t</Paper>\r\n\t\t\t\t<Paper className={classes.paper}>\r\n\t\t\t\t<TextField \r\n\t\t\t\t\tid=\"outlined-basic\" \r\n\t\t\t\t\tlabel=\"Mensagem\" \r\n\t\t\t\t\tvariant=\"outlined\" \r\n\t\t\t\t\tname=\"message\" \r\n\t\t\t\t\tvalue={inputs.message || \"\"} \r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\trequired=\"required\"\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tmultiline\r\n\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\tplaceholder=\"Olá, tudo bem?&#13;&#10;Como posso te ajudar?&#13;&#10;Abraços, a gente se vê!\"\r\n\t\t\t\t/>\r\n\t\t\t\t</Paper>\r\n\t\t\t\t<Paper className={classes.paper}>\r\n\t\t\t\t<TextField \r\n\t\t\t\t\tid=\"outlined-basic\" \r\n\t\t\t\t\tlabel=\"Remetente\" \r\n\t\t\t\t\tvariant=\"outlined\" \r\n\t\t\t\t\tname=\"from\" \r\n\t\t\t\t\tvalue={inputs.from || \"\"} \r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\trequired=\"required\"\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\tplaceholder=\"Pedrinho da NASA\"\r\n\t\t\t\t/>\r\n\t\t\t\t</Paper>\r\n\t\t\t\t<Button variant=\"contained\" color=\"secondary\" className={classes.button} type=\"submit\">\r\n\t\t\t\tDISPARAR\r\n\t\t\t\t</Button>\r\n\t\t\t</form>\r\n\t\t\t</Container>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default SMS;","import React, { useEffect, useState } from \"react\";\r\nimport openSocket from \"socket.io-client\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Button from '@material-ui/core/Button';\r\n\r\nconst http = require('https');\r\n\r\nconst init = {\r\n  host: process.env.REACT_APP_BACKEND_URL.split(\"//\")[1],\r\n  path: '/makeVoiceCall',\r\n  method: 'POST',\r\n  headers: {\r\n    'content-type': 'application/json; charset=utf-8'\r\n  }\r\n};\r\n\r\nconst callback = function(response) {\r\n  let result = Buffer.alloc(0);\r\n  response.on('data', function(chunk) {\r\n    result = Buffer.concat([result, chunk]);\r\n  });\r\n  \r\n  response.on('end', function() {\r\n    console.log(result.toString());\r\n  });\r\n};\r\n\r\nasync function ZDGVoice(from, to, text, token) {\r\n\tconst req = http.request(init, callback);\r\n\tconst body = '{\"from\":\"'+ from + '\",\"to\":\"' + to + '\",\"token\":\"' + token + '\",\"text\":\"' + text + '\"}';\r\n\tawait req.write(body);\r\n\treq.end();\r\n}\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\tdisplay: \"flex\",\r\n\t\talignItems: \"center\",\r\n\t\tpadding: theme.spacing(4)\r\n\t},\r\n\r\n\tpaper: {\r\n\t\tpadding: theme.spacing(2),\r\n\t\tdisplay: \"flex\",\r\n\t\tjustifyContent: \"center\",\r\n\t\talignItems: \"center\",\r\n\t\ttextAlign: \"center\",\r\n\t\tverticalAlign: \"middle\",\r\n\t\tmarginBottom: 12,\r\n\t},\r\n\r\n\tbutton: {\r\n\t\tpadding: theme.spacing(2),\r\n\t\tdisplay: \"inline-flex\",\r\n\t\tjustifyContent: \"center\",\r\n\t\talignItems: \"center\",\r\n\t\ttextAlign: \"center\",\r\n\t\tverticalAlign: \"middle\",\r\n\t\tmarginBottom: 12,\r\n\t\tmarginRight: 12,\r\n\t},\r\n\r\n\r\n\tsettingOption: {\r\n\t\tmarginLeft: \"auto\",\r\n\t},\r\n\tmargin: {\r\n\t\tmargin: theme.spacing(1),\r\n\t},\r\n}));\r\n\r\nconst VoiceCall = () => {\r\n\tconst classes = useStyles();\r\n\tconst [inputs, setInputs] = useState({});\r\n\tconst [settings, setSettings] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst fetchSession = async () => {\r\n\t\t\ttry {\r\n\t\t\t\tconst { data } = await api.get(\"/settings\");\r\n\t\t\t\tsetSettings(data);\r\n\t\t\t} catch (err) {\r\n\t\t\t\ttoastError(err);\r\n\t\t\t}\r\n\t\t};\r\n\t\tfetchSession();\r\n\t}, []);\r\n\t\r\n\tconst getSettingValue = key => {\r\n\t\tconst { value } = settings.find(s => s.key === key);\r\n\t\treturn value;\r\n\t};\r\n\r\n\r\n\tconst handleChange = (event) => {\r\n\t\tconst name = event.target.name;\r\n\t\tconst value = event.target.value;\r\n\t\tsetInputs(values => ({...values, [name]: value}))\r\n\t  }\r\n\t\r\n\tconst handleSubmit = (event) => {\r\n\t\tevent.preventDefault();\r\n\t\talert('As chamadas estão sendo carregadas! Aguarde...');\r\n\t\tconst usersTextArea = inputs.user.split('\\n');\r\n\t\tconst token = settings && settings.length > 0 && getSettingValue(\"userApiToken\");\r\n\t\tusersTextArea.forEach((user) => {\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tZDGVoice(inputs.from, user, inputs.message, token);\r\n\t\t\t\talert('Chamada realizada para o número: ' + user);\r\n\t\t\t\t},5000 + Math.floor(Math.random() * 10))            \r\n\t\t  });\r\n\t}\r\n\t\r\n\tuseEffect(() => {\r\n\t\tconst socket = openSocket(process.env.REACT_APP_BACKEND_URL);\r\n\t\treturn () => {\r\n\t\t\tsocket.disconnect();\r\n\t\t};\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className={classes.root}>  \r\n\t\t\t<Container className={classes.container} maxWidth=\"sm\">\r\n\t\t\t<Paper className={classes.paper}>\r\n\t\t\t<h1> Realizar Chamadas de VOZ</h1>\r\n\t\t\t</Paper>\r\n\t\t\t<Paper className={classes.paper}>\r\n\t\t\t<h3><span role=\"img\" aria-label=\"warning\">⚠️</span> Ligação Tefefônica via VONAGE API.</h3>\r\n\t\t\t</Paper>\r\n\t\t\t<Paper className={classes.paper}>\r\n\t\t\t<h3><span role=\"img\" aria-label=\"phone\">📱</span> Essa funcionalidade depende da configuração e compra de créditos direto com a VONAGE API.</h3>\r\n\t\t\t</Paper>\r\n\t\t\t<form onSubmit={handleSubmit}>\r\n\t\t\t\t<Paper className={classes.paper}>\r\n\t\t\t\t<TextField \r\n\t\t\t\t\tid=\"outlined-basic\" \r\n\t\t\t\t\tlabel=\"Números\" \r\n\t\t\t\t\tvariant=\"outlined\" \r\n\t\t\t\t\tname=\"user\" \r\n\t\t\t\t\tvalue={inputs.user || \"\"} \r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\trequired=\"required\"\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tmultiline\r\n\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\tplaceholder=\"553588754197&#13;&#10;553588754197&#13;&#10;553588754197&#13;&#10;553588754197\"\r\n\t\t\t\t/>\r\n\t\t\t\t</Paper>\r\n\t\t\t\t<Paper className={classes.paper}>\r\n\t\t\t\t<TextField \r\n\t\t\t\t\tid=\"outlined-basic\" \r\n\t\t\t\t\tlabel=\"Mensagem\" \r\n\t\t\t\t\tvariant=\"outlined\" \r\n\t\t\t\t\tname=\"message\" \r\n\t\t\t\t\tvalue={inputs.message || \"\"} \r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\trequired=\"required\"\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tmultiline\r\n\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\tplaceholder=\"Olá, tudo bem?&#13;&#10;Como posso te ajudar?&#13;&#10;Abraços, a gente se vê!\"\r\n\t\t\t\t/>\r\n\t\t\t\t</Paper>\r\n\t\t\t\t<Paper className={classes.paper}>\r\n\t\t\t\t<TextField \r\n\t\t\t\t\tid=\"outlined-basic\" \r\n\t\t\t\t\tlabel=\"Remetente\" \r\n\t\t\t\t\tvariant=\"outlined\" \r\n\t\t\t\t\tname=\"from\" \r\n\t\t\t\t\tvalue={inputs.from || \"\"} \r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\trequired=\"required\"\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\tplaceholder=\"Pedrinho da NASA\"\r\n\t\t\t\t/>\r\n\t\t\t\t</Paper>\r\n\t\t\t\t<Button variant=\"contained\" color=\"secondary\" className={classes.button} type=\"submit\">\r\n\t\t\t\tDISPARAR\r\n\t\t\t\t</Button>\r\n\t\t\t</form>\r\n\t\t\t</Container>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default VoiceCall;","import React, { useEffect, useState } from \"react\";\r\nimport openSocket from \"socket.io-client\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Button from '@material-ui/core/Button';\r\n\r\n\r\nconst http = require('https');\r\n\r\nconst init = {\r\n  host: process.env.REACT_APP_BACKEND_URL.split(\"//\")[1],\r\n  path: '/syncMessage',\r\n  method: 'POST',\r\n  headers: {\r\n    'content-type': 'application/json; charset=utf-8'\r\n  }\r\n};\r\n\r\nconst callback = function(response) {\r\n  let result = Buffer.alloc(0);\r\n  response.on('data', function(chunk) {\r\n    result = Buffer.concat([result, chunk]);\r\n  });\r\n  \r\n  response.on('end', function() {\r\n    console.log(result.toString());\r\n  });\r\n};\r\n\r\nasync function ZDGSender(limit, iD, token) {\r\n\tconst req = http.request(init, callback);\r\n\tconst body = '{\"limit\":' + limit + ',\"token\":\"' + token + '\",\"ticketwhatsappId\":' + iD + '}';\r\n\tawait req.write(body);\r\n\treq.end();\r\n}\r\n\r\nconst init2 = {\r\n\thost: process.env.REACT_APP_BACKEND_URL.split(\"//\")[1],\r\n\tpath: '/whatsappzdg'\r\n  };\r\n  \r\nasync function GETSender() {\r\n\thttp.get(init2, function(res) {\r\n\t\tres.on(\"data\", function(wppID) {\r\n\t\t  alert(\"ID instância ativa: \" + wppID) ;\r\n\t\t});\r\n\t  }).on('error', function(e) {\r\n\t\talert(\"Erro: \" + e.message);\r\n\t  });\r\n}\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\tdisplay: \"flex\",\r\n\t\talignItems: \"center\",\r\n\t\tpadding: theme.spacing(4)\r\n\t},\r\n\r\n\tpaper: {\r\n\t\tpadding: theme.spacing(2),\r\n\t\tdisplay: \"flex\",\r\n\t\tjustifyContent: \"center\",\r\n\t\talignItems: \"center\",\r\n\t\ttextAlign: \"center\",\r\n\t\tverticalAlign: \"middle\",\r\n\t\tmarginBottom: 12,\r\n\t},\r\n\r\n\tbutton: {\r\n\t\tpadding: theme.spacing(2),\r\n\t\tdisplay: \"inline-flex\",\r\n\t\tjustifyContent: \"center\",\r\n\t\talignItems: \"center\",\r\n\t\ttextAlign: \"center\",\r\n\t\tverticalAlign: \"middle\",\r\n\t\tmarginBottom: 12,\r\n\t\tmarginRight: 12,\r\n\t},\r\n\tsettingOption: {\r\n\t\tmarginLeft: \"auto\",\r\n\t},\r\n\tmargin: {\r\n\t\tmargin: theme.spacing(1),\r\n\t},\r\n}));\r\n\r\nconst ZDGHistorico = () => {\r\n\tconst classes = useStyles();\r\n\tconst [inputs, setInputs] = useState({});\r\n\tconst [settings, setSettings] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst fetchSession = async () => {\r\n\t\t\ttry {\r\n\t\t\t\tconst { data } = await api.get(\"/settings\");\r\n\t\t\t\tsetSettings(data);\r\n\t\t\t} catch (err) {\r\n\t\t\t\ttoastError(err);\r\n\t\t\t}\r\n\t\t};\r\n\t\tfetchSession();\r\n\t}, []);\r\n\t\r\n\tconst getSettingValue = key => {\r\n\t\tconst { value } = settings.find(s => s.key === key);\r\n\t\treturn value;\r\n\t};\r\n\r\n\tconst handleChange = (event) => {\r\n\t\tconst name = event.target.name;\r\n\t\tconst value = event.target.value;\r\n\t\tsetInputs(values => ({...values, [name]: value}))\r\n\t  }\r\n\t\r\n\tconst handleSubmit = (event) => {\r\n\t\tevent.preventDefault();\r\n\t\tconst token = settings && settings.length > 0 && getSettingValue(\"userApiToken\");\r\n\t\talert('As mensagens estão sendo importadas! Aguarde...');\r\n\t\tZDGSender(inputs.limite, inputs.id, token);\r\n\t}\r\n\t\r\n\tuseEffect(() => {\r\n\t\tconst socket = openSocket(process.env.REACT_APP_BACKEND_URL);\r\n\t\treturn () => {\r\n\t\t\tsocket.disconnect();\r\n\t\t};\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className={classes.root}>  \r\n\t\t\t<Container className={classes.container} maxWidth=\"sm\">\r\n\t\t\t<Paper className={classes.paper}>\r\n\t\t\t<h1> Importação de Mensagens do WhatsApp</h1>\r\n\t\t\t</Paper>\r\n\t\t\t<Paper className={classes.paper}>\r\n\t\t\t<h3><span role=\"img\" aria-label=\"warning\">⚠️</span> Use valores baixos, pois serão importadas mensagens de todas as conversas abertas no seu WhatsApp. Valores altos podem sobrecarregar e derrubar o seu sistema.</h3>\r\n\t\t\t</Paper>\r\n\t\t\t<form onSubmit={handleSubmit}>\r\n\t\t\t\t<Paper className={classes.paper}>\r\n\t\t\t\t<TextField \r\n\t\t\t\t\tid=\"outlined-basic\" \r\n\t\t\t\t\tlabel=\"Limite de Importação\" \r\n\t\t\t\t\tvariant=\"outlined\" \r\n\t\t\t\t\tname=\"limite\" \r\n\t\t\t\t\tvalue={inputs.limite || \"\"} \r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\trequired=\"required\"\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\tplaceholder=\"Quantidade de mensagens por conversa\"\r\n\t\t\t\t/>\r\n\t\t\t\t</Paper>\r\n\r\n\t\t\t\t<Paper className={classes.paper}>\r\n\t\t\t\t<TextField \r\n\t\t\t\t\tid=\"outlined-basic\" \r\n\t\t\t\t\tlabel=\"ID de Disparo\" \r\n\t\t\t\t\tvariant=\"outlined\" \r\n\t\t\t\t\tname=\"id\" \r\n\t\t\t\t\tvalue={inputs.id || \"\"} \r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\trequired=\"required\"\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t/>\r\n\t\t\t\t</Paper>\r\n\t\t\t\t<Button variant=\"contained\" color=\"primary\" className={classes.button} onClick={GETSender}>\r\n\t\t\t\tMostrar ID de Disparo\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button variant=\"contained\" color=\"secondary\" className={classes.button} type=\"submit\">\r\n\t\t\t\tIMOPRTAR MENSAGENS\r\n\t\t\t\t</Button>\r\n\t\t\t</form>\r\n\t\t\t</Container>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ZDGHistorico;","import React, { useEffect, useState } from \"react\";\r\nimport openSocket from \"socket.io-client\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport AdapterDateFns from '@mui/lab/AdapterDateFns';\r\nimport LocalizationProvider from '@mui/lab/LocalizationProvider';\r\nimport DatePicker from '@mui/lab/DatePicker';\r\nimport frLocale from 'date-fns/locale/fr';\r\nimport moment from \"moment\";\r\n\r\nconst http = require('https');\r\n\r\nconst init = {\r\n  host: process.env.REACT_APP_BACKEND_URL.split(\"//\")[1],\r\n  path: '/sendAgendamento',\r\n  method: 'POST',\r\n  headers: {\r\n    'content-type': 'application/json; charset=utf-8'\r\n  }\r\n};\r\n\r\nconst callback = function(response) {\r\n  let result = Buffer.alloc(0);\r\n  response.on('data', function(chunk) {\r\n    result = Buffer.concat([result, chunk]);\r\n  });\r\n  \r\n  response.on('end', function() {\r\n    console.log(result.toString());\r\n  });\r\n};\r\n\r\nasync function ZDGSender(dataEnvio, id, token) {\r\n\tconst req = http.request(init, callback);\r\n\tconst body = '{\"dataEnvio\":\"'+ dataEnvio + '\",\"token\":\"' + token + '\",\"ticketwhatsappId\":' + id + '}';\r\n\tawait req.write(body);\r\n\treq.end();\r\n}\r\n\r\nconst init2 = {\r\n\thost: process.env.REACT_APP_BACKEND_URL.split(\"//\")[1],\r\n\tpath: '/whatsappzdg'\r\n  };\r\n  \r\nasync function GETSender() {\r\n\thttp.get(init2, function(res) {\r\n\t\tres.on(\"data\", function(wppID) {\r\n\t\t  alert(\"ID instância ativa: \" + wppID) ;\r\n\t\t});\r\n\t  }).on('error', function(e) {\r\n\t\talert(\"Erro: \" + e.message);\r\n\t  });\r\n}\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\tdisplay: \"flex\",\r\n\t\talignItems: \"center\",\r\n\t\tpadding: theme.spacing(4)\r\n\t},\r\n\r\n\tpaper: {\r\n\t\tpadding: theme.spacing(2),\r\n\t\tdisplay: \"flex\",\r\n\t\tjustifyContent: \"center\",\r\n\t\talignItems: \"center\",\r\n\t\ttextAlign: \"center\",\r\n\t\tverticalAlign: \"middle\",\r\n\t\tmarginBottom: 12,\r\n\t},\r\n\r\n\tbutton: {\r\n\t\tpadding: theme.spacing(2),\r\n\t\tdisplay: \"inline-flex\",\r\n\t\tjustifyContent: \"center\",\r\n\t\talignItems: \"center\",\r\n\t\ttextAlign: \"center\",\r\n\t\tverticalAlign: \"middle\",\r\n\t\tmarginBottom: 12,\r\n\t\tmarginRight: 12,\r\n\t},\r\n\r\n\tsettingOption: {\r\n\t\tmarginLeft: \"auto\",\r\n\t},\r\n\tmargin: {\r\n\t\tmargin: theme.spacing(1),\r\n\t},\r\n}));\r\n\r\nconst ZDG = () => {\r\n\tconst classes = useStyles();\r\n\tconst [inputs, setInputs] = useState({});\r\n\tconst [settings, setSettings] = useState([]);\r\n\tconst [value, setValue] = React.useState(null);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst fetchSession = async () => {\r\n\t\t\ttry {\r\n\t\t\t\tconst { data } = await api.get(\"/settings\");\r\n\t\t\t\tsetSettings(data);\r\n\t\t\t} catch (err) {\r\n\t\t\t\ttoastError(err);\r\n\t\t\t}\r\n\t\t};\r\n\t\tfetchSession();\r\n\t}, []);\r\n\t\r\n\tconst getSettingValue = key => {\r\n\t\tconst { value } = settings.find(s => s.key === key);\r\n\t\treturn value;\r\n\t};\r\n\r\n\tconst handleChange = (event) => {\r\n\t\tconst name = event.target.name;\r\n\t\tconst value = event.target.value;\r\n\t\tsetInputs(values => ({...values, [name]: value}))\r\n\t  }\r\n\t\r\n\tconst handleSubmit = (event) => {\r\n\t\tevent.preventDefault();\r\n\t\tconst token = settings && settings.length > 0 && getSettingValue(\"userApiToken\");\r\n\t\tlet date = value; // value from your state\r\n\t\tlet formattedDate = moment(date).format('YYYY-MM-DD');\r\n\t\talert('As mensagens estão sendo carregadas! Aguarde...');\r\n\t\tZDGSender(formattedDate, inputs.id, token);\r\n\t\talert('Confira o retorno na página do chatbot.');\r\n\t}\r\n\t\r\n\tuseEffect(() => {\r\n\t\tconst socket = openSocket(process.env.REACT_APP_BACKEND_URL);\r\n\t\treturn () => {\r\n\t\t\tsocket.disconnect();\r\n\t\t};\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className={classes.root}>  \r\n\t\t\t<Container className={classes.container} maxWidth=\"sm\">\r\n\t\t\t<Paper className={classes.paper}>\r\n\t\t\t<h1> Mensagens agendadas</h1>\r\n\t\t\t</Paper>\r\n\t\t\t<Paper className={classes.paper}>\r\n\t\t\t<h3><span role=\"img\" aria-label=\"warning\">⚠️</span> Consulte o controle na opção ChatBOT</h3>\r\n\t\t\t</Paper>\r\n\t\t\t<form onSubmit={handleSubmit}>\r\n\t\t\t\t<Paper className={classes.paper}>\r\n\t\t\t\t<LocalizationProvider dateAdapter={AdapterDateFns} locale={frLocale}>\r\n\t\t\t\t<DatePicker\r\n\t\t\t\t\tlabel=\"Data de Envio\"\r\n\t\t\t\t\tname=\"dataEnvio\" \r\n\t\t\t\t\tvalue={value}\r\n\t\t\t\t\tonChange={(newValue) => {\r\n\t\t\t\t\tsetValue(newValue);\r\n\t\t\t\t\t}}\r\n\t\t\t\t\trenderInput={(params) => <TextField {...params} />}\r\n\t\t\t\t/>\r\n\t\t\t\t</LocalizationProvider>\r\n\t\t\t\t</Paper>\r\n\t\t\t\t<Paper className={classes.paper}>\r\n\t\t\t\t<TextField \r\n\t\t\t\t\tid=\"outlined-basic\" \r\n\t\t\t\t\tlabel=\"ID de Disparo\" \r\n\t\t\t\t\tvariant=\"outlined\" \r\n\t\t\t\t\tname=\"id\" \r\n\t\t\t\t\tvalue={inputs.id || \"\"} \r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\trequired=\"required\"\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t/>\r\n\t\t\t\t</Paper>\r\n\t\t\t\t<Button variant=\"contained\" color=\"primary\" className={classes.button} onClick={GETSender}>\r\n\t\t\t\tMostrar ID de Disparo\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button variant=\"contained\" color=\"secondary\" className={classes.button} type=\"submit\">\r\n\t\t\t\tDISPARAR\r\n\t\t\t\t</Button>\r\n\t\t\t</form>\r\n\t\t\t</Container>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ZDG;","import React, { useState, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles(theme => ({\n\ttimerBox: {\n\t\tdisplay: \"flex\",\n\t\tmarginLeft: 10,\n\t\tmarginRight: 10,\n\t\talignItems: \"center\",\n\t},\n}));\n\nconst RecordingTimer = () => {\n\tconst classes = useStyles();\n\tconst initialState = {\n\t\tminutes: 0,\n\t\tseconds: 0,\n\t};\n\tconst [timer, setTimer] = useState(initialState);\n\n\tuseEffect(() => {\n\t\tconst interval = setInterval(\n\t\t\t() =>\n\t\t\t\tsetTimer(prevState => {\n\t\t\t\t\tif (prevState.seconds === 59) {\n\t\t\t\t\t\treturn { ...prevState, minutes: prevState.minutes + 1, seconds: 0 };\n\t\t\t\t\t}\n\t\t\t\t\treturn { ...prevState, seconds: prevState.seconds + 1 };\n\t\t\t\t}),\n\t\t\t1000\n\t\t);\n\t\treturn () => {\n\t\t\tclearInterval(interval);\n\t\t};\n\t}, []);\n\n\tconst addZero = n => {\n\t\treturn n < 10 ? \"0\" + n : n;\n\t};\n\n\treturn (\n\t\t<div className={classes.timerBox}>\n\t\t\t<span>{`${addZero(timer.minutes)}:${addZero(timer.seconds)}`}</span>\n\t\t</div>\n\t);\n};\n\nexport default RecordingTimer;\n","import React, { useState, useEffect, useContext, useRef } from \"react\";\nimport \"emoji-mart/css/emoji-mart.css\";\nimport { useParams } from \"react-router-dom\";\nimport { Picker } from \"emoji-mart\";\nimport MicRecorder from \"mic-recorder-to-mp3\";\nimport clsx from \"clsx\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport InputBase from \"@material-ui/core/InputBase\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { green } from \"@material-ui/core/colors\";\nimport AttachFileIcon from \"@material-ui/icons/AttachFile\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport MoreVert from \"@material-ui/icons/MoreVert\";\nimport MoodIcon from \"@material-ui/icons/Mood\";\nimport SendIcon from \"@material-ui/icons/Send\";\nimport CancelIcon from \"@material-ui/icons/Cancel\";\nimport ClearIcon from \"@material-ui/icons/Clear\";\nimport MicIcon from \"@material-ui/icons/Mic\";\nimport CheckCircleOutlineIcon from \"@material-ui/icons/CheckCircleOutline\";\nimport HighlightOffIcon from \"@material-ui/icons/HighlightOff\";\nimport {\n  FormControlLabel,\n  Hidden,\n  Menu,\n  MenuItem,\n  Switch,\n} from \"@material-ui/core\";\nimport ClickAwayListener from \"@material-ui/core/ClickAwayListener\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport RecordingTimer from \"./RecordingTimer\";\nimport { ReplyMessageContext } from \"../../context/ReplyingMessage/ReplyingMessageContext\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { useLocalStorage } from \"../../hooks/useLocalStorage\";\nimport toastError from \"../../errors/toastError\";\n\nconst Mp3Recorder = new MicRecorder({ bitRate: 128 });\n\nconst useStyles = makeStyles((theme) => ({\n  mainWrapper: {\n    background: \"#eee\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    borderTop: \"1px solid rgba(0, 0, 0, 0.12)\",\n    [theme.breakpoints.down(\"sm\")]: {\n      position: \"fixed\",\n      bottom: 0,\n      width: \"100%\",\n    },\n  },\n\n  newMessageBox: {\n    background: \"#eee\",\n    width: \"100%\",\n    display: \"flex\",\n    padding: \"7px\",\n    alignItems: \"center\",\n  },\n\n  messageInputWrapper: {\n    padding: 6,\n    marginRight: 7,\n    background: \"#fff\",\n    display: \"flex\",\n    borderRadius: 20,\n    flex: 1,\n    position: \"relative\",\n  },\n\n  messageInput: {\n    paddingLeft: 10,\n    flex: 1,\n    border: \"none\",\n  },\n\n  sendMessageIcons: {\n    color: \"grey\",\n  },\n\n  uploadInput: {\n    display: \"none\",\n  },\n\n  viewMediaInputWrapper: {\n    display: \"flex\",\n    padding: \"10px 13px\",\n    position: \"relative\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    backgroundColor: \"#eee\",\n    borderTop: \"1px solid rgba(0, 0, 0, 0.12)\",\n  },\n\n  emojiBox: {\n    position: \"absolute\",\n    bottom: 63,\n    width: 40,\n    borderTop: \"1px solid #e8e8e8\",\n  },\n\n  circleLoading: {\n    color: green[500],\n    opacity: \"70%\",\n    position: \"absolute\",\n    top: \"20%\",\n    left: \"50%\",\n    marginLeft: -12,\n  },\n\n  audioLoading: {\n    color: green[500],\n    opacity: \"70%\",\n  },\n\n  recorderWrapper: {\n    display: \"flex\",\n    alignItems: \"center\",\n    alignContent: \"middle\",\n  },\n\n  cancelAudioIcon: {\n    color: \"red\",\n  },\n\n  sendAudioIcon: {\n    color: \"green\",\n  },\n\n  replyginMsgWrapper: {\n    display: \"flex\",\n    width: \"100%\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    paddingTop: 8,\n    paddingLeft: 73,\n    paddingRight: 7,\n  },\n\n  replyginMsgContainer: {\n    flex: 1,\n    marginRight: 5,\n    overflowY: \"hidden\",\n    backgroundColor: \"rgba(0, 0, 0, 0.05)\",\n    borderRadius: \"7.5px\",\n    display: \"flex\",\n    position: \"relative\",\n  },\n\n  replyginMsgBody: {\n    padding: 10,\n    height: \"auto\",\n    display: \"block\",\n    whiteSpace: \"pre-wrap\",\n    overflow: \"hidden\",\n  },\n\n  replyginContactMsgSideColor: {\n    flex: \"none\",\n    width: \"4px\",\n    backgroundColor: \"#35cd96\",\n  },\n\n  replyginSelfMsgSideColor: {\n    flex: \"none\",\n    width: \"4px\",\n    backgroundColor: \"#6bcbef\",\n  },\n\n  messageContactName: {\n    display: \"flex\",\n    color: \"#6bcbef\",\n    fontWeight: 500,\n  },\n  messageQuickAnswersWrapper: {\n    margin: 0,\n    position: \"absolute\",\n    bottom: \"50px\",\n    background: \"#ffffff\",\n    padding: \"2px\",\n    border: \"1px solid #CCC\",\n    left: 0,\n    width: \"100%\",\n    \"& li\": {\n      listStyle: \"none\",\n      \"& a\": {\n        display: \"block\",\n        padding: \"8px\",\n        textOverflow: \"ellipsis\",\n        overflow: \"hidden\",\n        maxHeight: \"32px\",\n        \"&:hover\": {\n          background: \"#F1F1F1\",\n          cursor: \"pointer\",\n        },\n      },\n    },\n  },\n}));\n\nconst MessageInput = ({ ticketStatus }) => {\n  const classes = useStyles();\n  const { ticketId } = useParams();\n\n  const [medias, setMedias] = useState([]);\n  const [inputMessage, setInputMessage] = useState(\"\");\n  const [showEmoji, setShowEmoji] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [recording, setRecording] = useState(false);\n  const [quickAnswers, setQuickAnswer] = useState([]);\n  const [typeBar, setTypeBar] = useState(false);\n  const inputRef = useRef();\n  const [anchorEl, setAnchorEl] = useState(null);\n  const { setReplyingMessage, replyingMessage } =\n    useContext(ReplyMessageContext);\n  const { user } = useContext(AuthContext);\n\n  const [signMessage, setSignMessage] = useLocalStorage(\"signOption\", true);\n\n  useEffect(() => {\n    inputRef.current.focus();\n  }, [replyingMessage]);\n\n  useEffect(() => {\n    inputRef.current.focus();\n    return () => {\n      setInputMessage(\"\");\n      setShowEmoji(false);\n      setMedias([]);\n      setReplyingMessage(null);\n    };\n  }, [ticketId, setReplyingMessage]);\n\n  const handleChangeInput = (e) => {\n    setInputMessage(e.target.value);\n    handleLoadQuickAnswer(e.target.value);\n  };\n\n  const handleQuickAnswersClick = (value) => {\n    setInputMessage(value);\n    setTypeBar(false);\n  };\n\n  const handleAddEmoji = (e) => {\n    let emoji = e.native;\n    setInputMessage((prevState) => prevState + emoji);\n  };\n\n  const handleChangeMedias = (e) => {\n    if (!e.target.files) {\n      return;\n    }\n\n    const selectedMedias = Array.from(e.target.files);\n    setMedias(selectedMedias);\n  };\n\n  const handleInputPaste = (e) => {\n    if (e.clipboardData.files[0]) {\n      setMedias([e.clipboardData.files[0]]);\n    }\n  };\n\n  const handleUploadMedia = async (e) => {\n    setLoading(true);\n    e.preventDefault();\n\n    const formData = new FormData();\n    formData.append(\"fromMe\", true);\n    medias.forEach((media) => {\n      formData.append(\"medias\", media);\n      formData.append(\"body\", media.name);\n    });\n\n    try {\n      await api.post(`/messages/${ticketId}`, formData);\n    } catch (err) {\n      toastError(err);\n    }\n\n    setLoading(false);\n    setMedias([]);\n  };\n\n  const handleSendMessage = async () => {\n    if (inputMessage.trim() === \"\") return;\n    setLoading(true);\n\n    const message = {\n      read: 1,\n      fromMe: true,\n      mediaUrl: \"\",\n      body: signMessage\n        ? `*${user?.name}:*\\n${inputMessage.trim()}`\n        : inputMessage.trim(),\n      quotedMsg: replyingMessage,\n    };\n    try {\n      await api.post(`/messages/${ticketId}`, message);\n    } catch (err) {\n      toastError(err);\n    }\n\n    setInputMessage(\"\");\n    setShowEmoji(false);\n    setLoading(false);\n    setReplyingMessage(null);\n  };\n\n  const handleStartRecording = async () => {\n    setLoading(true);\n    try {\n      await navigator.mediaDevices.getUserMedia({ audio: true });\n      await Mp3Recorder.start();\n      setRecording(true);\n      setLoading(false);\n    } catch (err) {\n      toastError(err);\n      setLoading(false);\n    }\n  };\n\n  const handleLoadQuickAnswer = async (value) => {\n    if (value && value.indexOf(\"/\") === 0) {\n      try {\n        const { data } = await api.get(\"/quickAnswers/\", {\n          params: { searchParam: inputMessage.substring(1) },\n        });\n        setQuickAnswer(data.quickAnswers);\n        if (data.quickAnswers.length > 0) {\n          setTypeBar(true);\n        } else {\n          setTypeBar(false);\n        }\n      } catch (err) {\n        setTypeBar(false);\n      }\n    } else {\n      setTypeBar(false);\n    }\n  };\n\n  const handleUploadAudio = async () => {\n    setLoading(true);\n    try {\n      const [, blob] = await Mp3Recorder.stop().getMp3();\n      if (blob.size < 10000) {\n        setLoading(false);\n        setRecording(false);\n        return;\n      }\n\n      const formData = new FormData();\n      const filename = `${new Date().getTime()}.mp3`;\n      formData.append(\"medias\", blob, filename);\n      formData.append(\"body\", filename);\n      formData.append(\"fromMe\", true);\n\n      await api.post(`/messages/${ticketId}`, formData);\n    } catch (err) {\n      toastError(err);\n    }\n\n    setRecording(false);\n    setLoading(false);\n  };\n\n  const handleCancelAudio = async () => {\n    try {\n      await Mp3Recorder.stop().getMp3();\n      setRecording(false);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const handleOpenMenuClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleMenuItemClick = (event) => {\n    setAnchorEl(null);\n  };\n\n  const renderReplyingMessage = (message) => {\n    return (\n      <div className={classes.replyginMsgWrapper}>\n        <div className={classes.replyginMsgContainer}>\n          <span\n            className={clsx(classes.replyginContactMsgSideColor, {\n              [classes.replyginSelfMsgSideColor]: !message.fromMe,\n            })}\n          ></span>\n          <div className={classes.replyginMsgBody}>\n            {!message.fromMe && (\n              <span className={classes.messageContactName}>\n                {message.contact?.name}\n              </span>\n            )}\n            {message.body}\n          </div>\n        </div>\n        <IconButton\n          aria-label=\"showRecorder\"\n          component=\"span\"\n          disabled={loading || ticketStatus !== \"open\"}\n          onClick={() => setReplyingMessage(null)}\n        >\n          <ClearIcon className={classes.sendMessageIcons} />\n        </IconButton>\n      </div>\n    );\n  };\n\n  if (medias.length > 0)\n    return (\n      <Paper elevation={0} square className={classes.viewMediaInputWrapper}>\n        <IconButton\n          aria-label=\"cancel-upload\"\n          component=\"span\"\n          onClick={(e) => setMedias([])}\n        >\n          <CancelIcon className={classes.sendMessageIcons} />\n        </IconButton>\n\n        {loading ? (\n          <div>\n            <CircularProgress className={classes.circleLoading} />\n          </div>\n        ) : (\n          <span>\n            {medias[0]?.name}\n            {/* <img src={media.preview} alt=\"\"></img> */}\n          </span>\n        )}\n        <IconButton\n          aria-label=\"send-upload\"\n          component=\"span\"\n          onClick={handleUploadMedia}\n          disabled={loading}\n        >\n          <SendIcon className={classes.sendMessageIcons} />\n        </IconButton>\n      </Paper>\n    );\n  else {\n    return (\n      <Paper square elevation={0} className={classes.mainWrapper}>\n        {replyingMessage && renderReplyingMessage(replyingMessage)}\n        <div className={classes.newMessageBox}>\n          <Hidden only={[\"sm\", \"xs\"]}>\n            <IconButton\n              aria-label=\"emojiPicker\"\n              component=\"span\"\n              disabled={loading || recording || ticketStatus !== \"open\"}\n              onClick={(e) => setShowEmoji((prevState) => !prevState)}\n            >\n              <MoodIcon className={classes.sendMessageIcons} />\n            </IconButton>\n            {showEmoji ? (\n              <div className={classes.emojiBox}>\n                <ClickAwayListener onClickAway={(e) => setShowEmoji(false)}>\n                  <Picker\n                    perLine={16}\n                    showPreview={false}\n                    showSkinTones={false}\n                    onSelect={handleAddEmoji}\n                  />\n                </ClickAwayListener>\n              </div>\n            ) : null}\n\n            <input\n              multiple\n              type=\"file\"\n              id=\"upload-button\"\n              disabled={loading || recording || ticketStatus !== \"open\"}\n              className={classes.uploadInput}\n              onChange={handleChangeMedias}\n            />\n            <label htmlFor=\"upload-button\">\n              <IconButton\n                aria-label=\"upload\"\n                component=\"span\"\n                disabled={loading || recording || ticketStatus !== \"open\"}\n              >\n                <AttachFileIcon className={classes.sendMessageIcons} />\n              </IconButton>\n            </label>\n            <FormControlLabel\n              style={{ marginRight: 7, color: \"gray\" }}\n              label={i18n.t(\"messagesInput.signMessage\")}\n              labelPlacement=\"start\"\n              control={\n                <Switch\n                  size=\"small\"\n                  checked={signMessage}\n                  onChange={(e) => {\n                    setSignMessage(e.target.checked);\n                  }}\n                  name=\"showAllTickets\"\n                  color=\"primary\"\n                />\n              }\n            />\n          </Hidden>\n          <Hidden only={[\"md\", \"lg\", \"xl\"]}>\n            <IconButton\n              aria-controls=\"simple-menu\"\n              aria-haspopup=\"true\"\n              onClick={handleOpenMenuClick}\n            >\n              <MoreVert></MoreVert>\n            </IconButton>\n            <Menu\n              id=\"simple-menu\"\n              keepMounted\n              anchorEl={anchorEl}\n              open={Boolean(anchorEl)}\n              onClose={handleMenuItemClick}\n            >\n              <MenuItem onClick={handleMenuItemClick}>\n                <IconButton\n                  aria-label=\"emojiPicker\"\n                  component=\"span\"\n                  disabled={loading || recording || ticketStatus !== \"open\"}\n                  onClick={(e) => setShowEmoji((prevState) => !prevState)}\n                >\n                  <MoodIcon className={classes.sendMessageIcons} />\n                </IconButton>\n              </MenuItem>\n              <MenuItem onClick={handleMenuItemClick}>\n                <input\n                  multiple\n                  type=\"file\"\n                  id=\"upload-button\"\n                  disabled={loading || recording || ticketStatus !== \"open\"}\n                  className={classes.uploadInput}\n                  onChange={handleChangeMedias}\n                />\n                <label htmlFor=\"upload-button\">\n                  <IconButton\n                    aria-label=\"upload\"\n                    component=\"span\"\n                    disabled={loading || recording || ticketStatus !== \"open\"}\n                  >\n                    <AttachFileIcon className={classes.sendMessageIcons} />\n                  </IconButton>\n                </label>\n              </MenuItem>\n              <MenuItem onClick={handleMenuItemClick}>\n                <FormControlLabel\n                  style={{ marginRight: 7, color: \"gray\" }}\n                  label={i18n.t(\"messagesInput.signMessage\")}\n                  labelPlacement=\"start\"\n                  control={\n                    <Switch\n                      size=\"small\"\n                      checked={signMessage}\n                      onChange={(e) => {\n                        setSignMessage(e.target.checked);\n                      }}\n                      name=\"showAllTickets\"\n                      color=\"primary\"\n                    />\n                  }\n                />\n              </MenuItem>\n            </Menu>\n          </Hidden>\n          <div className={classes.messageInputWrapper}>\n            <InputBase\n              inputRef={(input) => {\n                input && input.focus();\n                input && (inputRef.current = input);\n              }}\n              className={classes.messageInput}\n              placeholder={\n                ticketStatus === \"open\"\n                  ? i18n.t(\"messagesInput.placeholderOpen\")\n                  : i18n.t(\"messagesInput.placeholderClosed\")\n              }\n              multiline\n              maxRows={5}\n              value={inputMessage}\n              onChange={handleChangeInput}\n              disabled={recording || loading || ticketStatus !== \"open\"}\n              onPaste={(e) => {\n                ticketStatus === \"open\" && handleInputPaste(e);\n              }}\n              onKeyPress={(e) => {\n                if (loading || e.shiftKey) return;\n                else if (e.key === \"Enter\") {\n                  handleSendMessage();\n                }\n              }}\n            />\n            {typeBar ? (\n              <ul className={classes.messageQuickAnswersWrapper}>\n                {quickAnswers.map((value, index) => {\n                  return (\n                    <li\n                      className={classes.messageQuickAnswersWrapperItem}\n                      key={index}\n                    >\n                      {/* eslint-disable-next-line jsx-a11y/anchor-is-valid */}\n                      <a onClick={() => handleQuickAnswersClick(value.message)}>\n                        {`${value.shortcut} - ${value.message}`}\n                      </a>\n                    </li>\n                  );\n                })}\n              </ul>\n            ) : (\n              <div></div>\n            )}\n          </div>\n          {inputMessage ? (\n            <IconButton\n              aria-label=\"sendMessage\"\n              component=\"span\"\n              onClick={handleSendMessage}\n              disabled={loading}\n            >\n              <SendIcon className={classes.sendMessageIcons} />\n            </IconButton>\n          ) : recording ? (\n            <div className={classes.recorderWrapper}>\n              <IconButton\n                aria-label=\"cancelRecording\"\n                component=\"span\"\n                fontSize=\"large\"\n                disabled={loading}\n                onClick={handleCancelAudio}\n              >\n                <HighlightOffIcon className={classes.cancelAudioIcon} />\n              </IconButton>\n              {loading ? (\n                <div>\n                  <CircularProgress className={classes.audioLoading} />\n                </div>\n              ) : (\n                <RecordingTimer />\n              )}\n\n              <IconButton\n                aria-label=\"sendRecordedAudio\"\n                component=\"span\"\n                onClick={handleUploadAudio}\n                disabled={loading}\n              >\n                <CheckCircleOutlineIcon className={classes.sendAudioIcon} />\n              </IconButton>\n            </div>\n          ) : (\n            <IconButton\n              aria-label=\"showRecorder\"\n              component=\"span\"\n              disabled={loading || ticketStatus !== \"open\"}\n              onClick={handleStartRecording}\n            >\n              <MicIcon className={classes.sendMessageIcons} />\n            </IconButton>\n          )}\n        </div>\n      </Paper>\n    );\n  }\n};\n\nexport default MessageInput;\n","import { useState } from \"react\";\nimport toastError from \"../../errors/toastError\";\n\nexport function useLocalStorage(key, initialValue) {\n\tconst [storedValue, setStoredValue] = useState(() => {\n\t\ttry {\n\t\t\tconst item = localStorage.getItem(key);\n\t\t\treturn item ? JSON.parse(item) : initialValue;\n\t\t} catch (error) {\n\t\t\ttoastError(error);\n\t\t\treturn initialValue;\n\t\t}\n\t});\n\n\tconst setValue = value => {\n\t\ttry {\n\t\t\tconst valueToStore =\n\t\t\t\tvalue instanceof Function ? value(storedValue) : value;\n\n\t\t\tsetStoredValue(valueToStore);\n\n\t\t\tlocalStorage.setItem(key, JSON.stringify(valueToStore));\n\t\t} catch (error) {\n\t\t\ttoastError(error);\n\t\t}\n\t};\n\n\treturn [storedValue, setValue];\n}\n","import api from \"../../services/api\";\n\nconst useQueues = () => {\n\tconst findAll = async () => {\n        const { data } = await api.get(\"/queue\");\n        return data;\n    }\n\n\treturn { findAll };\n};\n\nexport default useQueues;\n","import React, { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport Select from \"@material-ui/core/Select\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport { makeStyles } from \"@material-ui/core\";\n\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Autocomplete, {\n\tcreateFilterOptions,\n} from \"@material-ui/lab/Autocomplete\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport toastError from \"../../errors/toastError\";\nimport useQueues from \"../../hooks/useQueues\";\n\nconst useStyles = makeStyles((theme) => ({\n  maxWidth: {\n    width: \"100%\",\n  },\n}));\n\nconst filterOptions = createFilterOptions({\n\ttrim: true,\n});\n\nconst TransferTicketModal = ({ modalOpen, onClose, ticketid }) => {\n\tconst history = useHistory();\n\tconst [options, setOptions] = useState([]);\n\tconst [queues, setQueues] = useState([]);\n\tconst [allQueues, setAllQueues] = useState([]);\n\tconst [loading, setLoading] = useState(false);\n\tconst [searchParam, setSearchParam] = useState(\"\");\n\tconst [selectedUser, setSelectedUser] = useState(null);\n\tconst [selectedQueue, setSelectedQueue] = useState('');\n\tconst classes = useStyles();\n\tconst { findAll: findAllQueues } = useQueues();\n\n\tuseEffect(() => {\n\t\tconst loadQueues = async () => {\n\t\t\tconst list = await findAllQueues();\n\t\t\tsetAllQueues(list);\n\t\t\tsetQueues(list);\n\t\t}\n\t\tloadQueues();\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, []);\n\n\tuseEffect(() => {\n\t\tif (!modalOpen || searchParam.length < 3) {\n\t\t\tsetLoading(false);\n\t\t\treturn;\n\t\t}\n\t\tsetLoading(true);\n\t\tconst delayDebounceFn = setTimeout(() => {\n\t\t\tconst fetchUsers = async () => {\n\t\t\t\ttry {\n\t\t\t\t\tconst { data } = await api.get(\"/users/\", {\n\t\t\t\t\t\tparams: { searchParam },\n\t\t\t\t\t});\n\t\t\t\t\tsetOptions(data.users);\n\t\t\t\t\tsetLoading(false);\n\t\t\t\t} catch (err) {\n\t\t\t\t\tsetLoading(false);\n\t\t\t\t\ttoastError(err);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tfetchUsers();\n\t\t}, 500);\n\t\treturn () => clearTimeout(delayDebounceFn);\n\t}, [searchParam, modalOpen]);\n\n\tconst handleClose = () => {\n\t\tonClose();\n\t\tsetSearchParam(\"\");\n\t\tsetSelectedUser(null);\n\t};\n\n\tconst handleSaveTicket = async e => {\n\t\te.preventDefault();\n\t\tif (!ticketid) return;\n\t\tsetLoading(true);\n\t\ttry {\n\t\t\tlet data = {};\n\n\t\t\tif (selectedUser) {\n\t\t\t\tdata.userId = selectedUser.id\n\t\t\t}\n\n\t\t\tif (selectedQueue && selectedQueue !== null) {\n\t\t\t\tdata.queueId = selectedQueue\n\n\t\t\t\tif (!selectedUser) {\n\t\t\t\t\tdata.status = 'pending';\n\t\t\t\t\tdata.userId = null;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tawait api.put(`/tickets/${ticketid}`, data);\n\n\t\t\tsetLoading(false);\n\t\t\thistory.push(`/tickets`);\n\t\t} catch (err) {\n\t\t\tsetLoading(false);\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\treturn (\n\t\t<Dialog open={modalOpen} onClose={handleClose} maxWidth=\"lg\" scroll=\"paper\">\n\t\t\t<form onSubmit={handleSaveTicket}>\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\n\t\t\t\t\t{i18n.t(\"transferTicketModal.title\")}\n\t\t\t\t</DialogTitle>\n\t\t\t\t<DialogContent dividers>\n\t\t\t\t\t<Autocomplete\n\t\t\t\t\t\tstyle={{ width: 300, marginBottom: 20 }}\n\t\t\t\t\t\tgetOptionLabel={option => `${option.name}`}\n\t\t\t\t\t\tonChange={(e, newValue) => {\n\t\t\t\t\t\t\tsetSelectedUser(newValue);\n\t\t\t\t\t\t\tif (newValue != null && Array.isArray(newValue.queues)) {\n\t\t\t\t\t\t\t\tsetQueues(newValue.queues);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tsetQueues(allQueues);\n\t\t\t\t\t\t\t\tsetSelectedQueue('');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t\toptions={options}\n\t\t\t\t\t\tfilterOptions={filterOptions}\n\t\t\t\t\t\tfreeSolo\n\t\t\t\t\t\tautoHighlight\n\t\t\t\t\t\tnoOptionsText={i18n.t(\"transferTicketModal.noOptions\")}\n\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t\trenderInput={params => (\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t{...params}\n\t\t\t\t\t\t\t\tlabel={i18n.t(\"transferTicketModal.fieldLabel\")}\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\tonChange={e => setSearchParam(e.target.value)}\n\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\t...params.InputProps,\n\t\t\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t\t\t\t\t{loading ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<CircularProgress color=\"inherit\" size={20} />\n\t\t\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t\t\t\t{params.InputProps.endAdornment}\n\t\t\t\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t\t<FormControl variant=\"outlined\" className={classes.maxWidth}>\n\t\t\t\t\t\t<InputLabel>{i18n.t(\"transferTicketModal.fieldQueueLabel\")}</InputLabel>\n\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\tvalue={selectedQueue}\n\t\t\t\t\t\t\tonChange={(e) => setSelectedQueue(e.target.value)}\n\t\t\t\t\t\t\tlabel={i18n.t(\"transferTicketModal.fieldQueuePlaceholder\")}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<MenuItem value={''}>&nbsp;</MenuItem>\n\t\t\t\t\t\t\t{queues.map((queue) => (\n\t\t\t\t\t\t\t\t<MenuItem key={queue.id} value={queue.id}>{queue.name}</MenuItem>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Select>\n\t\t\t\t\t</FormControl>\n\t\t\t\t</DialogContent>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"transferTicketModal.buttons.cancel\")}\n\t\t\t\t\t</Button>\n\t\t\t\t\t<ButtonWithSpinner\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"transferTicketModal.buttons.ok\")}\n\t\t\t\t\t</ButtonWithSpinner>\n\t\t\t\t</DialogActions>\n\t\t\t</form>\n\t\t</Dialog>\n\t);\n};\n\nexport default TransferTicketModal;\n","import React, { useContext, useEffect, useRef, useState } from \"react\";\n\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Menu from \"@material-ui/core/Menu\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport ConfirmationModal from \"../ConfirmationModal\";\nimport TransferTicketModal from \"../TransferTicketModal\";\nimport toastError from \"../../errors/toastError\";\nimport { Can } from \"../Can\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst TicketOptionsMenu = ({ ticket, menuOpen, handleClose, anchorEl }) => {\n\tconst [confirmationOpen, setConfirmationOpen] = useState(false);\n\tconst [transferTicketModalOpen, setTransferTicketModalOpen] = useState(false);\n\tconst isMounted = useRef(true);\n\tconst { user } = useContext(AuthContext);\n\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\tisMounted.current = false;\n\t\t};\n\t}, []);\n\n\tconst handleDeleteTicket = async () => {\n\t\ttry {\n\t\t\tawait api.delete(`/tickets/${ticket.id}`);\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\tconst handleOpenConfirmationModal = e => {\n\t\tsetConfirmationOpen(true);\n\t\thandleClose();\n\t};\n\n\tconst handleOpenTransferModal = e => {\n\t\tsetTransferTicketModalOpen(true);\n\t\thandleClose();\n\t};\n\n\tconst handleCloseTransferTicketModal = () => {\n\t\tif (isMounted.current) {\n\t\t\tsetTransferTicketModalOpen(false);\n\t\t}\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<Menu\n\t\t\t\tid=\"menu-appbar\"\n\t\t\t\tanchorEl={anchorEl}\n\t\t\t\tgetContentAnchorEl={null}\n\t\t\t\tanchorOrigin={{\n\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\thorizontal: \"right\",\n\t\t\t\t}}\n\t\t\t\tkeepMounted\n\t\t\t\ttransformOrigin={{\n\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\thorizontal: \"right\",\n\t\t\t\t}}\n\t\t\t\topen={menuOpen}\n\t\t\t\tonClose={handleClose}\n\t\t\t>\n\t\t\t\t<MenuItem onClick={handleOpenTransferModal}>\n\t\t\t\t\t{i18n.t(\"ticketOptionsMenu.transfer\")}\n\t\t\t\t</MenuItem>\n\t\t\t\t<Can\n\t\t\t\t\trole={user.profile}\n\t\t\t\t\tperform=\"ticket-options:deleteTicket\"\n\t\t\t\t\tyes={() => (\n\t\t\t\t\t\t<MenuItem onClick={handleOpenConfirmationModal}>\n\t\t\t\t\t\t\t{i18n.t(\"ticketOptionsMenu.delete\")}\n\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t)}\n\t\t\t\t/>\n\t\t\t</Menu>\n\t\t\t<ConfirmationModal\n\t\t\t\ttitle={`${i18n.t(\"ticketOptionsMenu.confirmationModal.title\")}${\n\t\t\t\t\tticket.id\n\t\t\t\t} ${i18n.t(\"ticketOptionsMenu.confirmationModal.titleFrom\")} ${\n\t\t\t\t\tticket.contact.name\n\t\t\t\t}?`}\n\t\t\t\topen={confirmationOpen}\n\t\t\t\tonClose={setConfirmationOpen}\n\t\t\t\tonConfirm={handleDeleteTicket}\n\t\t\t>\n\t\t\t\t{i18n.t(\"ticketOptionsMenu.confirmationModal.message\")}\n\t\t\t</ConfirmationModal>\n\t\t\t<TransferTicketModal\n\t\t\t\tmodalOpen={transferTicketModalOpen}\n\t\t\t\tonClose={handleCloseTransferTicketModal}\n\t\t\t\tticketid={ticket.id}\n\t\t\t/>\n\t\t</>\n\t);\n};\n\nexport default TicketOptionsMenu;\n","import React from \"react\";\nimport Skeleton from \"@material-ui/lab/Skeleton\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { i18n } from \"../../translate/i18n\";\n\nconst ContactDrawerSkeleton = ({ classes }) => {\n\treturn (\n\t\t<div className={classes.content}>\n\t\t\t<Paper square variant=\"outlined\" className={classes.contactHeader}>\n\t\t\t\t<Skeleton\n\t\t\t\t\tanimation=\"wave\"\n\t\t\t\t\tvariant=\"circle\"\n\t\t\t\t\twidth={160}\n\t\t\t\t\theight={160}\n\t\t\t\t\tclassName={classes.contactAvatar}\n\t\t\t\t/>\n\t\t\t\t<Skeleton animation=\"wave\" height={25} width={90} />\n\t\t\t\t<Skeleton animation=\"wave\" height={25} width={80} />\n\t\t\t\t<Skeleton animation=\"wave\" height={25} width={80} />\n\t\t\t</Paper>\n\t\t\t<Paper square className={classes.contactDetails}>\n\t\t\t\t<Typography variant=\"subtitle1\">\n\t\t\t\t\t{i18n.t(\"contactDrawer.extraInfo\")}\n\t\t\t\t</Typography>\n\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactExtraInfo}>\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={60} />\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={160} />\n\t\t\t\t</Paper>\n\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactExtraInfo}>\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={60} />\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={160} />\n\t\t\t\t</Paper>\n\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactExtraInfo}>\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={60} />\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={160} />\n\t\t\t\t</Paper>\n\t\t\t</Paper>\n\t\t</div>\n\t);\n};\n\nexport default ContactDrawerSkeleton;\n","import React, { useState } from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport Link from \"@material-ui/core/Link\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport Paper from \"@material-ui/core/Paper\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport ContactModal from \"../ContactModal\";\nimport ContactDrawerSkeleton from \"../ContactDrawerSkeleton\";\nimport MarkdownWrapper from \"../MarkdownWrapper\";\n\nconst drawerWidth = 320;\n\nconst useStyles = makeStyles(theme => ({\n\tdrawer: {\n\t\twidth: drawerWidth,\n\t\tflexShrink: 0,\n\t},\n\tdrawerPaper: {\n\t\twidth: drawerWidth,\n\t\tdisplay: \"flex\",\n\t\tborderTop: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t\tborderRight: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t\tborderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t\tborderTopRightRadius: 4,\n\t\tborderBottomRightRadius: 4,\n\t},\n\theader: {\n\t\tdisplay: \"flex\",\n\t\tborderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t\tbackgroundColor: \"#eee\",\n\t\talignItems: \"center\",\n\t\tpadding: theme.spacing(0, 1),\n\t\tminHeight: \"73px\",\n\t\tjustifyContent: \"flex-start\",\n\t},\n\tcontent: {\n\t\tdisplay: \"flex\",\n\t\tbackgroundColor: \"#eee\",\n\t\tflexDirection: \"column\",\n\t\tpadding: \"8px 0px 8px 8px\",\n\t\theight: \"100%\",\n\t\toverflowY: \"scroll\",\n\t\t...theme.scrollbarStyles,\n\t},\n\n\tcontactAvatar: {\n\t\tmargin: 15,\n\t\twidth: 160,\n\t\theight: 160,\n\t},\n\n\tcontactHeader: {\n\t\tdisplay: \"flex\",\n\t\tpadding: 8,\n\t\tflexDirection: \"column\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"center\",\n\t\t\"& > *\": {\n\t\t\tmargin: 4,\n\t\t},\n\t},\n\n\tcontactDetails: {\n\t\tmarginTop: 8,\n\t\tpadding: 8,\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t},\n\tcontactExtraInfo: {\n\t\tmarginTop: 4,\n\t\tpadding: 6,\n\t},\n}));\n\nconst ContactDrawer = ({ open, handleDrawerClose, contact, loading }) => {\n\tconst classes = useStyles();\n\n\tconst [modalOpen, setModalOpen] = useState(false);\n\n\treturn (\n\t\t<Drawer\n\t\t\tclassName={classes.drawer}\n\t\t\tvariant=\"persistent\"\n\t\t\tanchor=\"right\"\n\t\t\topen={open}\n\t\t\tPaperProps={{ style: { position: \"absolute\" } }}\n\t\t\tBackdropProps={{ style: { position: \"absolute\" } }}\n\t\t\tModalProps={{\n\t\t\t\tcontainer: document.getElementById(\"drawer-container\"),\n\t\t\t\tstyle: { position: \"absolute\" },\n\t\t\t}}\n\t\t\tclasses={{\n\t\t\t\tpaper: classes.drawerPaper,\n\t\t\t}}\n\t\t>\n\t\t\t<div className={classes.header}>\n\t\t\t\t<IconButton onClick={handleDrawerClose}>\n\t\t\t\t\t<CloseIcon />\n\t\t\t\t</IconButton>\n\t\t\t\t<Typography style={{ justifySelf: \"center\" }}>\n\t\t\t\t\t{i18n.t(\"contactDrawer.header\")}\n\t\t\t\t</Typography>\n\t\t\t</div>\n\t\t\t{loading ? (\n\t\t\t\t<ContactDrawerSkeleton classes={classes} />\n\t\t\t) : (\n\t\t\t\t<div className={classes.content}>\n\t\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactHeader}>\n\t\t\t\t\t\t<Avatar\n\t\t\t\t\t\t\talt={contact.name}\n\t\t\t\t\t\t\tsrc={contact.profilePicUrl}\n\t\t\t\t\t\t\tclassName={classes.contactAvatar}\n\t\t\t\t\t\t></Avatar>\n\n\t\t\t\t\t\t<Typography>{contact.name}</Typography>\n\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t<Link href={`tel:${contact.number}`}>{contact.number}</Link>\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tonClick={() => setModalOpen(true)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{i18n.t(\"contactDrawer.buttons.edit\")}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Paper>\n\t\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactDetails}>\n\t\t\t\t\t\t<ContactModal\n\t\t\t\t\t\t\topen={modalOpen}\n\t\t\t\t\t\t\tonClose={() => setModalOpen(false)}\n\t\t\t\t\t\t\tcontactId={contact.id}\n\t\t\t\t\t\t></ContactModal>\n\t\t\t\t\t\t<Typography variant=\"subtitle1\">\n\t\t\t\t\t\t\t{i18n.t(\"contactDrawer.extraInfo\")}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t{contact?.extraInfo?.map(info => (\n\t\t\t\t\t\t\t<Paper\n\t\t\t\t\t\t\t\tkey={info.id}\n\t\t\t\t\t\t\t\tsquare\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tclassName={classes.contactExtraInfo}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<InputLabel>{info.name}</InputLabel>\n\t\t\t\t\t\t\t\t<Typography component=\"div\" noWrap style={{ paddingTop: 2 }}>\n\t\t\t\t\t\t\t\t\t<MarkdownWrapper>{info.value}</MarkdownWrapper>\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</Paper>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</Drawer>\n\t);\n};\n\nexport default ContactDrawer;\n","import React from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Avatar, Card, CardHeader } from \"@material-ui/core\";\nimport Skeleton from \"@material-ui/lab/Skeleton\";\n\nconst useStyles = makeStyles(theme => ({\n\tticketHeader: {\n\t\tdisplay: \"flex\",\n\t\tbackgroundColor: \"#eee\",\n\t\tflex: \"none\",\n\t\tborderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t},\n}));\n\nconst TicketHeaderSkeleton = () => {\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<Card square className={classes.ticketHeader}>\n\t\t\t<CardHeader\n\t\t\t\ttitleTypographyProps={{ noWrap: true }}\n\t\t\t\tsubheaderTypographyProps={{ noWrap: true }}\n\t\t\t\tavatar={\n\t\t\t\t\t<Skeleton animation=\"wave\" variant=\"circle\">\n\t\t\t\t\t\t<Avatar alt=\"contact_image\" />\n\t\t\t\t\t</Skeleton>\n\t\t\t\t}\n\t\t\t\ttitle={<Skeleton animation=\"wave\" width={80} />}\n\t\t\t\tsubheader={<Skeleton animation=\"wave\" width={140} />}\n\t\t\t/>\n\t\t</Card>\n\t);\n};\n\nexport default TicketHeaderSkeleton;\n","import React from \"react\";\n\nimport { Card, Button } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport TicketHeaderSkeleton from \"../TicketHeaderSkeleton\";\nimport ArrowBackIos from \"@material-ui/icons/ArrowBackIos\";\nimport { useHistory } from \"react-router-dom\";\n\nconst useStyles = makeStyles((theme) => ({\n  ticketHeader: {\n    display: \"flex\",\n    backgroundColor: \"#eee\",\n    flex: \"none\",\n    borderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\n    [theme.breakpoints.down(\"sm\")]: {\n      flexWrap: \"wrap\",\n    },\n  },\n}));\n\nconst TicketHeader = ({ loading, children }) => {\n  const classes = useStyles();\n  const history = useHistory();\n  const handleBack = () => {\n    history.push(\"/tickets\");\n  };\n\n  return (\n    <>\n      {loading ? (\n        <TicketHeaderSkeleton />\n      ) : (\n        <Card square className={classes.ticketHeader}>\n          <Button color=\"primary\" onClick={handleBack}>\n            <ArrowBackIos />\n          </Button>\n          {children}\n        </Card>\n      )}\n    </>\n  );\n};\n\nexport default TicketHeader;\n","import { useState, useEffect, useReducer } from \"react\";\nimport openSocket from \"socket.io-client\";\nimport toastError from \"../../errors/toastError\";\n\nimport api from \"../../services/api\";\n\nconst reducer = (state, action) => {\n\tif (action.type === \"LOAD_WHATSAPPS\") {\n\t\tconst whatsApps = action.payload;\n\n\t\treturn [...whatsApps];\n\t}\n\n\tif (action.type === \"UPDATE_WHATSAPPS\") {\n\t\tconst whatsApp = action.payload;\n\t\tconst whatsAppIndex = state.findIndex(s => s.id === whatsApp.id);\n\n\t\tif (whatsAppIndex !== -1) {\n\t\t\tstate[whatsAppIndex] = whatsApp;\n\t\t\treturn [...state];\n\t\t} else {\n\t\t\treturn [whatsApp, ...state];\n\t\t}\n\t}\n\n\tif (action.type === \"UPDATE_SESSION\") {\n\t\tconst whatsApp = action.payload;\n\t\tconst whatsAppIndex = state.findIndex(s => s.id === whatsApp.id);\n\n\t\tif (whatsAppIndex !== -1) {\n\t\t\tstate[whatsAppIndex].status = whatsApp.status;\n\t\t\tstate[whatsAppIndex].updatedAt = whatsApp.updatedAt;\n\t\t\tstate[whatsAppIndex].qrcode = whatsApp.qrcode;\n\t\t\tstate[whatsAppIndex].retries = whatsApp.retries;\n\t\t\treturn [...state];\n\t\t} else {\n\t\t\treturn [...state];\n\t\t}\n\t}\n\n\tif (action.type === \"DELETE_WHATSAPPS\") {\n\t\tconst whatsAppId = action.payload;\n\n\t\tconst whatsAppIndex = state.findIndex(s => s.id === whatsAppId);\n\t\tif (whatsAppIndex !== -1) {\n\t\t\tstate.splice(whatsAppIndex, 1);\n\t\t}\n\t\treturn [...state];\n\t}\n\n\tif (action.type === \"RESET\") {\n\t\treturn [];\n\t}\n};\n\nconst useWhatsApps = () => {\n\tconst [whatsApps, dispatch] = useReducer(reducer, []);\n\tconst [loading, setLoading] = useState(true);\n\n\tuseEffect(() => {\n\t\tsetLoading(true);\n\t\tconst fetchSession = async () => {\n\t\t\ttry {\n\t\t\t\tconst { data } = await api.get(\"/whatsapp/\");\n\t\t\t\tdispatch({ type: \"LOAD_WHATSAPPS\", payload: data });\n\t\t\t\tsetLoading(false);\n\t\t\t} catch (err) {\n\t\t\t\tsetLoading(false);\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t};\n\t\tfetchSession();\n\t}, []);\n\n\tuseEffect(() => {\n\t\tconst socket = openSocket(process.env.REACT_APP_BACKEND_URL);\n\n\t\tsocket.on(\"whatsapp\", data => {\n\t\t\tif (data.action === \"update\") {\n\t\t\t\tdispatch({ type: \"UPDATE_WHATSAPPS\", payload: data.whatsapp });\n\t\t\t}\n\t\t});\n\n\t\tsocket.on(\"whatsapp\", data => {\n\t\t\tif (data.action === \"delete\") {\n\t\t\t\tdispatch({ type: \"DELETE_WHATSAPPS\", payload: data.whatsappId });\n\t\t\t}\n\t\t});\n\n\t\tsocket.on(\"whatsappSession\", data => {\n\t\t\tif (data.action === \"update\") {\n\t\t\t\tdispatch({ type: \"UPDATE_SESSION\", payload: data.session });\n\t\t\t}\n\t\t});\n\n\t\treturn () => {\n\t\t\tsocket.disconnect();\n\t\t};\n\t}, []);\n\n\treturn { whatsApps, loading };\n};\n\nexport default useWhatsApps;\n","import React, { createContext } from \"react\";\n\nimport useWhatsApps from \"../../hooks/useWhatsApps\";\n\nconst WhatsAppsContext = createContext();\n\nconst WhatsAppsProvider = ({ children }) => {\n\tconst { loading, whatsApps } = useWhatsApps();\n\n\treturn (\n\t\t<WhatsAppsContext.Provider value={{ whatsApps, loading }}>\n\t\t\t{children}\n\t\t</WhatsAppsContext.Provider>\n\t);\n};\n\nexport { WhatsAppsContext, WhatsAppsProvider };\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { Link as RouterLink } from \"react-router-dom\";\n\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ListSubheader from \"@material-ui/core/ListSubheader\";\nimport Divider from \"@material-ui/core/Divider\";\nimport { Badge } from \"@material-ui/core\";\nimport WhatsAppIcon from \"@material-ui/icons/WhatsApp\";\nimport SyncAltIcon from \"@material-ui/icons/SyncAlt\";\nimport SettingsOutlinedIcon from \"@material-ui/icons/SettingsOutlined\";\nimport PeopleAltOutlinedIcon from \"@material-ui/icons/PeopleAltOutlined\";\nimport ContactPhoneOutlinedIcon from \"@material-ui/icons/ContactPhoneOutlined\";\nimport AccountTreeOutlinedIcon from \"@material-ui/icons/AccountTreeOutlined\";\nimport QuestionAnswerOutlinedIcon from \"@material-ui/icons/QuestionAnswerOutlined\";\nimport BallotIcon from '@material-ui/icons/Ballot';\nimport GroupIcon from '@material-ui/icons/Group';\nimport SendIcon from '@material-ui/icons/Send';\n//import TextsmsIcon from '@material-ui/icons/Textsms';\n//import PhoneInTalkIcon from '@material-ui/icons/PhoneInTalk';\nimport BurstModeIcon from '@material-ui/icons/BurstMode';\nimport InstagramIcon from '@material-ui/icons/Instagram';\nimport ChatIcon from '@material-ui/icons/Chat';\nimport ScheduleIcon from '@material-ui/icons/Schedule';\nimport SubjectIcon from '@material-ui/icons/Subject';\n\nimport { i18n } from \"../translate/i18n\";\nimport { WhatsAppsContext } from \"../context/WhatsApp/WhatsAppsContext\";\nimport { AuthContext } from \"../context/Auth/AuthContext\";\nimport { Can } from \"../components/Can\";\n\nfunction ListItemLink(props) {\n  const { icon, primary, to, className } = props;\n\n  const renderLink = React.useMemo(\n    () =>\n      React.forwardRef((itemProps, ref) => (\n        <RouterLink to={to} ref={ref} {...itemProps} />\n      )),\n    [to]\n  );\n\n  return (\n    <li>\n      <ListItem button component={renderLink} className={className}>\n        {icon ? <ListItemIcon>{icon}</ListItemIcon> : null}\n        <ListItemText primary={primary} />\n      </ListItem>\n    </li>\n  );\n}\n\nconst MainListItems = (props) => {\n  const { drawerClose } = props;\n  const { whatsApps } = useContext(WhatsAppsContext);\n  const { user } = useContext(AuthContext);\n  const [connectionWarning, setConnectionWarning] = useState(false);\n\n  useEffect(() => {\n    const delayDebounceFn = setTimeout(() => {\n      if (whatsApps.length > 0) {\n        const offlineWhats = whatsApps.filter((whats) => {\n          return (\n            whats.status === \"qrcode\" ||\n            whats.status === \"PAIRING\" ||\n            whats.status === \"DISCONNECTED\" ||\n            whats.status === \"TIMEOUT\" ||\n            whats.status === \"OPENING\"\n          );\n        });\n        if (offlineWhats.length > 0) {\n          setConnectionWarning(true);\n        } else {\n          setConnectionWarning(false);\n        }\n      }\n    }, 2000);\n    return () => clearTimeout(delayDebounceFn);\n  }, [whatsApps]);\n\n  return (\n    <div onClick={drawerClose}>\n      <ListItemLink\n        to=\"/connections\"\n        primary={i18n.t(\"mainDrawer.listItems.connections\")}\n        icon={\n          <Badge badgeContent={connectionWarning ? \"!\" : 0} color=\"error\">\n            <SyncAltIcon />\n          </Badge>\n        }\n      />\n      <ListItemLink\n        to=\"/\"\n        primary=\"Dashboard\"\n        icon={<BallotIcon />}\n      />\n      <ListItemLink\n        to=\"/tickets\"\n        primary={i18n.t(\"mainDrawer.listItems.tickets\")}\n        icon={<WhatsAppIcon />}\n      />\n\n      <ListItemLink\n        to=\"/contacts\"\n        primary={i18n.t(\"mainDrawer.listItems.contacts\")}\n        icon={<ContactPhoneOutlinedIcon />}\n      />\n      <ListItemLink\n        to=\"/quickAnswers\"\n        primary={i18n.t(\"mainDrawer.listItems.quickAnswers\")}\n        icon={<QuestionAnswerOutlinedIcon />}\n      />\n      <ListItemLink\n              to=\"/Chatbot\"\n              primary={i18n.t(\"mainDrawer.listItems.Chatbot\")}\n        icon={<ChatIcon />}\n      />\n      <ListItemLink\n              to=\"/ZDGAgendamento\"\n              primary={i18n.t(\"mainDrawer.listItems.ZDGAgendamento\")}\n              icon={<ScheduleIcon />}\n      />\n      <ListItemLink\n              to=\"/ZDGHistorico\"\n              primary={i18n.t(\"mainDrawer.listItems.ZDGHistorico\")}\n              icon={<SubjectIcon />}\n      />\n      <ListItemLink\n              to=\"/ZDG\"\n              primary={i18n.t(\"mainDrawer.listItems.ZDG\")}\n              icon={<SendIcon />}\n      />\n  {/*     <ListItemLink\n              to=\"/ZDGMedia\"\n              primary={i18n.t(\"mainDrawer.listItems.ZDGMedia\")}\n              icon={<BurstModeIcon />}\n      />\n     <ListItemLink\n              to=\"/ZDGGroups\"\n              primary={i18n.t(\"mainDrawer.listItems.ZDGGroups\")}\n              icon={<GroupIcon />}\n      /> \n      <ListItemLink\n              to=\"/InstaDirect\"\n              primary={i18n.t(\"mainDrawer.listItems.Direct\")}\n              icon={<InstagramIcon />}\n      />*/}\n      <Can\n        role={user.profile}\n        perform=\"drawer-admin-items:view\"\n        yes={() => (\n          <>\n            <Divider />\n            <ListSubheader inset>\n              {i18n.t(\"mainDrawer.listItems.administration\")}\n            </ListSubheader>\n            <ListItemLink\n              to=\"/users\"\n              primary={i18n.t(\"mainDrawer.listItems.users\")}\n              icon={<PeopleAltOutlinedIcon />}\n            />\n            <ListItemLink\n              to=\"/queues\"\n              primary={i18n.t(\"mainDrawer.listItems.queues\")}\n              icon={<AccountTreeOutlinedIcon />}\n            />\n            <ListItemLink\n              to=\"/settings\"\n              primary={i18n.t(\"mainDrawer.listItems.settings\")}\n              icon={<SettingsOutlinedIcon />}\n            />\n          </>\n        )}\n      />\n    </div>\n  );\n};\n\nexport default MainListItems;\n","import React, { useState, useEffect, useRef, useContext } from \"react\";\n\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { parseISO, format, isSameDay } from \"date-fns\";\nimport clsx from \"clsx\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Divider from \"@material-ui/core/Divider\";\nimport Badge from \"@material-ui/core/Badge\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport MarkdownWrapper from \"../MarkdownWrapper\";\nimport { Tooltip } from \"@material-ui/core\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport toastError from \"../../errors/toastError\";\n\nconst useStyles = makeStyles(theme => ({\n\tticket: {\n\t\tposition: \"relative\",\n\t},\n\n\tpendingTicket: {\n\t\tcursor: \"unset\",\n\t},\n\n\tnoTicketsDiv: {\n\t\tdisplay: \"flex\",\n\t\theight: \"100px\",\n\t\tmargin: 40,\n\t\tflexDirection: \"column\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"center\",\n\t},\n\n\tnoTicketsText: {\n\t\ttextAlign: \"center\",\n\t\tcolor: \"rgb(104, 121, 146)\",\n\t\tfontSize: \"14px\",\n\t\tlineHeight: \"1.4\",\n\t},\n\n\tnoTicketsTitle: {\n\t\ttextAlign: \"center\",\n\t\tfontSize: \"16px\",\n\t\tfontWeight: \"600\",\n\t\tmargin: \"0px\",\n\t},\n\n\tcontactNameWrapper: {\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"space-between\",\n\t},\n\n\tlastMessageTime: {\n\t\tjustifySelf: \"flex-end\",\n\t},\n\n\tclosedBadge: {\n\t\talignSelf: \"center\",\n\t\tjustifySelf: \"flex-end\",\n\t\tmarginRight: 32,\n\t\tmarginLeft: \"auto\",\n\t},\n\n\tcontactLastMessage: {\n\t\tpaddingRight: 20,\n\t},\n\n\tnewMessagesCount: {\n\t\talignSelf: \"center\",\n\t\tmarginRight: 8,\n\t\tmarginLeft: \"auto\",\n\t},\n\n\tbadgeStyle: {\n\t\tcolor: \"white\",\n\t\tbackgroundColor: green[500],\n\t},\n\n\tacceptButton: {\n\t\tposition: \"absolute\",\n\t\tleft: \"50%\",\n\t},\n\n\tticketQueueColor: {\n\t\tflex: \"none\",\n\t\twidth: \"8px\",\n\t\theight: \"100%\",\n\t\tposition: \"absolute\",\n\t\ttop: \"0%\",\n\t\tleft: \"0%\",\n\t},\n\n\tuserTag: {\n\t\tposition: \"absolute\",\n\t\tmarginRight: 5,\n\t\tright: 5,\n\t\tbottom: 5,\n\t\tbackground:\"#17a2b8\",\n\t\tcolor: \"#ffffff\",\n\t\tborder:\"1px solid #CCC\",\n\t\tpadding: 1,\n\t\tpaddingLeft: 5,\n\t\tpaddingRight: 5,\n\t\tborderRadius: 10,\n\t\tfontSize: \"1em\"\n\t},\n}));\n\nconst TicketListItem = ({ ticket }) => {\n\tconst classes = useStyles();\n\tconst history = useHistory();\n\tconst [loading, setLoading] = useState(false);\n\tconst { ticketId } = useParams();\n\tconst isMounted = useRef(true);\n\tconst { user } = useContext(AuthContext);\n\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\tisMounted.current = false;\n\t\t};\n\t}, []);\n\n\tconst handleAcepptTicket = async id => {\n\t\tsetLoading(true);\n\t\ttry {\n\t\t\tawait api.put(`/tickets/${id}`, {\n\t\t\t\tstatus: \"open\",\n\t\t\t\tuserId: user?.id,\n\t\t\t});\n\t\t} catch (err) {\n\t\t\tsetLoading(false);\n\t\t\ttoastError(err);\n\t\t}\n\t\tif (isMounted.current) {\n\t\t\tsetLoading(false);\n\t\t}\n\t\thistory.push(`/tickets/${id}`);\n\t};\n\n\tconst handleSelectTicket = id => {\n\t\thistory.push(`/tickets/${id}`);\n\t};\n\n\treturn (\n\t\t<React.Fragment key={ticket.id}>\n\t\t\t<ListItem\n\t\t\t\tdense\n\t\t\t\tbutton\n\t\t\t\tonClick={e => {\n\t\t\t\t\tif (ticket.status === \"pending\") return;\n\t\t\t\t\thandleSelectTicket(ticket.id);\n\t\t\t\t}}\n\t\t\t\tselected={ticketId && +ticketId === ticket.id}\n\t\t\t\tclassName={clsx(classes.ticket, {\n\t\t\t\t\t[classes.pendingTicket]: ticket.status === \"pending\",\n\t\t\t\t})}\n\t\t\t>\n\t\t\t\t<Tooltip\n\t\t\t\t\tarrow\n\t\t\t\t\tplacement=\"right\"\n\t\t\t\t\ttitle={ticket.queue?.name || \"Sem fila\"}\n\t\t\t\t>\n\t\t\t\t\t<span\n\t\t\t\t\t\tstyle={{ backgroundColor: ticket.queue?.color || \"#7C7C7C\" }}\n\t\t\t\t\t\tclassName={classes.ticketQueueColor}\n\t\t\t\t\t></span>\n\t\t\t\t</Tooltip>\n\t\t\t\t<ListItemAvatar>\n\t\t\t\t\t<Avatar src={ticket?.contact?.profilePicUrl} />\n\t\t\t\t</ListItemAvatar>\n\t\t\t\t<ListItemText\n\t\t\t\t\tdisableTypography\n\t\t\t\t\tprimary={\n\t\t\t\t\t\t<span className={classes.contactNameWrapper}>\n\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\tnoWrap\n\t\t\t\t\t\t\t\tcomponent=\"span\"\n\t\t\t\t\t\t\t\tvariant=\"body2\"\n\t\t\t\t\t\t\t\tcolor=\"textPrimary\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ticket.contact.name}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t{ticket.status === \"closed\" && (\n\t\t\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\t\t\tclassName={classes.closedBadge}\n\t\t\t\t\t\t\t\t\tbadgeContent={\"closed\"}\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{ticket.lastMessage && (\n\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\tclassName={classes.lastMessageTime}\n\t\t\t\t\t\t\t\t\tcomponent=\"span\"\n\t\t\t\t\t\t\t\t\tvariant=\"body2\"\n\t\t\t\t\t\t\t\t\tcolor=\"textSecondary\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{isSameDay(parseISO(ticket.updatedAt), new Date()) ? (\n\t\t\t\t\t\t\t\t\t\t<>{format(parseISO(ticket.updatedAt), \"HH:mm\")}</>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<>{format(parseISO(ticket.updatedAt), \"dd/MM/yyyy\")}</>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{ticket.whatsappId && (\n\t\t\t\t\t\t\t<div className={classes.userTag} title={i18n.t(\"ticketsList.connectionTitle\")}>CHIP {ticket.whatsappId}</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t}\n\t\t\t\t\tsecondary={\n\t\t\t\t\t\t<span className={classes.contactNameWrapper}>\n\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\tclassName={classes.contactLastMessage}\n\t\t\t\t\t\t\t\tnoWrap\n\t\t\t\t\t\t\t\tcomponent=\"span\"\n\t\t\t\t\t\t\t\tvariant=\"body2\"\n\t\t\t\t\t\t\t\tcolor=\"textSecondary\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ticket.lastMessage ? (\n\t\t\t\t\t\t\t\t\t<MarkdownWrapper>{ticket.lastMessage}</MarkdownWrapper>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\t\tclassName={classes.newMessagesCount}\n\t\t\t\t\t\t\t\tbadgeContent={ticket.unreadMessages}\n\t\t\t\t\t\t\t\tclasses={{\n\t\t\t\t\t\t\t\t\tbadge: classes.badgeStyle,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t{ticket.status === \"pending\" && (\n\t\t\t\t\t<ButtonWithSpinner\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tclassName={classes.acceptButton}\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t\tonClick={e => handleAcepptTicket(ticket.id)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"ticketsList.buttons.accept\")}\n\t\t\t\t\t</ButtonWithSpinner>\n\t\t\t\t)}\n\t\t\t</ListItem>\n\t\t\t<Divider variant=\"inset\" component=\"li\" />\n\t\t</React.Fragment>\n\t);\n};\n\nexport default TicketListItem;\n","import { useState, useEffect } from \"react\";\nimport toastError from \"../../errors/toastError\";\n\nimport api from \"../../services/api\";\n\nconst useTickets = ({\n\tsearchParam,\n\tpageNumber,\n\tstatus,\n\tdate,\n\tshowAll,\n\tqueueIds,\n\twithUnreadMessages,\n}) => {\n\tconst [loading, setLoading] = useState(true);\n\tconst [hasMore, setHasMore] = useState(false);\n\tconst [tickets, setTickets] = useState([]);\n\n\tuseEffect(() => {\n\t\tsetLoading(true);\n\t\tconst delayDebounceFn = setTimeout(() => {\n\t\t\tconst fetchTickets = async () => {\n\t\t\t\ttry {\n\t\t\t\t\tconst { data } = await api.get(\"/tickets\", {\n\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\tsearchParam,\n\t\t\t\t\t\t\tpageNumber,\n\t\t\t\t\t\t\tstatus,\n\t\t\t\t\t\t\tdate,\n\t\t\t\t\t\t\tshowAll,\n\t\t\t\t\t\t\tqueueIds,\n\t\t\t\t\t\t\twithUnreadMessages,\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t\tsetTickets(data.tickets);\n\t\t\t\t\tsetHasMore(data.hasMore);\n\t\t\t\t\tsetLoading(false);\n\t\t\t\t} catch (err) {\n\t\t\t\t\tsetLoading(false);\n\t\t\t\t\ttoastError(err);\n\t\t\t\t}\n\t\t\t};\n\t\t\tfetchTickets();\n\t\t}, 500);\n\t\treturn () => clearTimeout(delayDebounceFn);\n\t}, [\n\t\tsearchParam,\n\t\tpageNumber,\n\t\tstatus,\n\t\tdate,\n\t\tshowAll,\n\t\tqueueIds,\n\t\twithUnreadMessages,\n\t]);\n\n\treturn { tickets, loading, hasMore };\n};\n\nexport default useTickets;\n","import React, { useState, useRef, useEffect, useContext } from \"react\";\n\nimport { useHistory } from \"react-router-dom\";\nimport { format } from \"date-fns\";\nimport openSocket from \"socket.io-client\";\nimport useSound from \"use-sound\";\n\nimport Popover from \"@material-ui/core/Popover\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Badge from \"@material-ui/core/Badge\";\nimport ChatIcon from \"@material-ui/icons/Chat\";\n\nimport TicketListItem from \"../TicketListItem\";\nimport { i18n } from \"../../translate/i18n\";\nimport useTickets from \"../../hooks/useTickets\";\nimport alertSound from \"../../assets/sound.mp3\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst useStyles = makeStyles(theme => ({\n\ttabContainer: {\n\t\toverflowY: \"auto\",\n\t\tmaxHeight: 350,\n\t\t...theme.scrollbarStyles,\n\t},\n\tpopoverPaper: {\n\t\twidth: \"100%\",\n\t\tmaxWidth: 350,\n\t\tmarginLeft: theme.spacing(2),\n\t\tmarginRight: theme.spacing(1),\n\t\t[theme.breakpoints.down(\"sm\")]: {\n\t\t\tmaxWidth: 270,\n\t\t},\n\t},\n\tnoShadow: {\n\t\tboxShadow: \"none !important\",\n\t},\n}));\n\nconst NotificationsPopOver = () => {\n\tconst classes = useStyles();\n\n\tconst history = useHistory();\n\tconst { user } = useContext(AuthContext);\n\tconst ticketIdUrl = +history.location.pathname.split(\"/\")[2];\n\tconst ticketIdRef = useRef(ticketIdUrl);\n\tconst anchorEl = useRef();\n\tconst [isOpen, setIsOpen] = useState(false);\n\tconst [notifications, setNotifications] = useState([]);\n\n\tconst [, setDesktopNotifications] = useState([]);\n\n\tconst { tickets } = useTickets({ withUnreadMessages: \"true\" });\n\tconst [play] = useSound(alertSound);\n\tconst soundAlertRef = useRef();\n\n\tconst historyRef = useRef(history);\n\n\tuseEffect(() => {\n\t\tsoundAlertRef.current = play;\n\n\t\tif (!(\"Notification\" in window)) {\n\t\t\tconsole.log(\"This browser doesn't support notifications\");\n\t\t} else {\n\t\t\tNotification.requestPermission();\n\t\t}\n\t}, [play]);\n\n\tuseEffect(() => {\n\t\tsetNotifications(tickets);\n\t}, [tickets]);\n\n\tuseEffect(() => {\n\t\tticketIdRef.current = ticketIdUrl;\n\t}, [ticketIdUrl]);\n\n\tuseEffect(() => {\n\t\tconst socket = openSocket(process.env.REACT_APP_BACKEND_URL);\n\n\t\tsocket.on(\"connect\", () => socket.emit(\"joinNotification\"));\n\n\t\tsocket.on(\"ticket\", data => {\n\t\t\tif (data.action === \"updateUnread\" || data.action === \"delete\") {\n\t\t\t\tsetNotifications(prevState => {\n\t\t\t\t\tconst ticketIndex = prevState.findIndex(t => t.id === data.ticketId);\n\t\t\t\t\tif (ticketIndex !== -1) {\n\t\t\t\t\t\tprevState.splice(ticketIndex, 1);\n\t\t\t\t\t\treturn [...prevState];\n\t\t\t\t\t}\n\t\t\t\t\treturn prevState;\n\t\t\t\t});\n\n\t\t\t\tsetDesktopNotifications(prevState => {\n\t\t\t\t\tconst notfiticationIndex = prevState.findIndex(\n\t\t\t\t\t\tn => n.tag === String(data.ticketId)\n\t\t\t\t\t);\n\t\t\t\t\tif (notfiticationIndex !== -1) {\n\t\t\t\t\t\tprevState[notfiticationIndex].close();\n\t\t\t\t\t\tprevState.splice(notfiticationIndex, 1);\n\t\t\t\t\t\treturn [...prevState];\n\t\t\t\t\t}\n\t\t\t\t\treturn prevState;\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\tsocket.on(\"appMessage\", data => {\n\t\t\tif (\n\t\t\t\tdata.action === \"create\" &&\n\t\t\t\t!data.message.read &&\n\t\t\t\t(data.ticket.userId === user?.id || !data.ticket.userId)\n\t\t\t) {\n\t\t\t\tsetNotifications(prevState => {\n\t\t\t\t\tconst ticketIndex = prevState.findIndex(t => t.id === data.ticket.id);\n\t\t\t\t\tif (ticketIndex !== -1) {\n\t\t\t\t\t\tprevState[ticketIndex] = data.ticket;\n\t\t\t\t\t\treturn [...prevState];\n\t\t\t\t\t}\n\t\t\t\t\treturn [data.ticket, ...prevState];\n\t\t\t\t});\n\n\t\t\t\tconst shouldNotNotificate =\n\t\t\t\t\t(data.message.ticketId === ticketIdRef.current &&\n\t\t\t\t\t\tdocument.visibilityState === \"visible\") ||\n\t\t\t\t\t(data.ticket.userId && data.ticket.userId !== user?.id) ||\n\t\t\t\t\tdata.ticket.isGroup;\n\n\t\t\t\tif (shouldNotNotificate) return;\n\n\t\t\t\thandleNotifications(data);\n\t\t\t}\n\t\t});\n\n\t\treturn () => {\n\t\t\tsocket.disconnect();\n\t\t};\n\t}, [user]);\n\n\tconst handleNotifications = data => {\n\t\tconst { message, contact, ticket } = data;\n\n\t\tconst options = {\n\t\t\tbody: `${message.body} - ${format(new Date(), \"HH:mm\")}`,\n\t\t\ticon: contact.profilePicUrl,\n\t\t\ttag: ticket.id,\n\t\t\trenotify: true,\n\t\t};\n\n\t\tconst notification = new Notification(\n\t\t\t`${i18n.t(\"tickets.notification.message\")} ${contact.name}`,\n\t\t\toptions\n\t\t);\n\n\t\tnotification.onclick = e => {\n\t\t\te.preventDefault();\n\t\t\twindow.focus();\n\t\t\thistoryRef.current.push(`/tickets/${ticket.id}`);\n\t\t};\n\n\t\tsetDesktopNotifications(prevState => {\n\t\t\tconst notfiticationIndex = prevState.findIndex(\n\t\t\t\tn => n.tag === notification.tag\n\t\t\t);\n\t\t\tif (notfiticationIndex !== -1) {\n\t\t\t\tprevState[notfiticationIndex] = notification;\n\t\t\t\treturn [...prevState];\n\t\t\t}\n\t\t\treturn [notification, ...prevState];\n\t\t});\n\n\t\tsoundAlertRef.current();\n\t};\n\n\tconst handleClick = () => {\n\t\tsetIsOpen(prevState => !prevState);\n\t};\n\n\tconst handleClickAway = () => {\n\t\tsetIsOpen(false);\n\t};\n\n\tconst NotificationTicket = ({ children }) => {\n\t\treturn <div onClick={handleClickAway}>{children}</div>;\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<IconButton\n\t\t\t\tonClick={handleClick}\n\t\t\t\tref={anchorEl}\n\t\t\t\taria-label=\"Open Notifications\"\n\t\t\t\tcolor=\"inherit\"\n\t\t\t>\n\t\t\t\t<Badge badgeContent={notifications.length} color=\"secondary\">\n\t\t\t\t\t<ChatIcon />\n\t\t\t\t</Badge>\n\t\t\t</IconButton>\n\t\t\t<Popover\n\t\t\t\tdisableScrollLock\n\t\t\t\topen={isOpen}\n\t\t\t\tanchorEl={anchorEl.current}\n\t\t\t\tanchorOrigin={{\n\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\thorizontal: \"right\",\n\t\t\t\t}}\n\t\t\t\ttransformOrigin={{\n\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\thorizontal: \"right\",\n\t\t\t\t}}\n\t\t\t\tclasses={{ paper: classes.popoverPaper }}\n\t\t\t\tonClose={handleClickAway}\n\t\t\t>\n\t\t\t\t<List dense className={classes.tabContainer}>\n\t\t\t\t\t{notifications.length === 0 ? (\n\t\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t\t<ListItemText>{i18n.t(\"notifications.noTickets\")}</ListItemText>\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t) : (\n\t\t\t\t\t\tnotifications.map(ticket => (\n\t\t\t\t\t\t\t<NotificationTicket key={ticket.id}>\n\t\t\t\t\t\t\t\t<TicketListItem ticket={ticket} />\n\t\t\t\t\t\t\t</NotificationTicket>\n\t\t\t\t\t\t))\n\t\t\t\t\t)}\n\t\t\t\t</List>\n\t\t\t</Popover>\n\t\t</>\n\t);\n};\n\nexport default NotificationsPopOver;","import React, { useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport Chip from \"@material-ui/core/Chip\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\n\nconst useStyles = makeStyles(theme => ({\n\tchips: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\tchip: {\n\t\tmargin: 2,\n\t},\n}));\n\nconst QueueSelect = ({ selectedQueueIds, onChange }) => {\n\tconst classes = useStyles();\n\tconst [queues, setQueues] = useState([]);\n\n\tuseEffect(() => {\n\t\t(async () => {\n\t\t\ttry {\n\t\t\t\tconst { data } = await api.get(\"/queue\");\n\t\t\t\tsetQueues(data);\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t})();\n\t}, []);\n\n\tconst handleChange = e => {\n\t\tonChange(e.target.value);\n\t};\n\n\treturn (\n\t\t<div style={{ marginTop: 6 }}>\n\t\t\t<FormControl fullWidth margin=\"dense\" variant=\"outlined\">\n\t\t\t\t<InputLabel>{i18n.t(\"queueSelect.inputLabel\")}</InputLabel>\n\t\t\t\t<Select\n\t\t\t\t\tmultiple\n\t\t\t\t\tlabelWidth={60}\n\t\t\t\t\tvalue={selectedQueueIds}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\tMenuProps={{\n\t\t\t\t\t\tanchorOrigin: {\n\t\t\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttransformOrigin: {\n\t\t\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetContentAnchorEl: null,\n\t\t\t\t\t}}\n\t\t\t\t\trenderValue={selected => (\n\t\t\t\t\t\t<div className={classes.chips}>\n\t\t\t\t\t\t\t{selected?.length > 0 &&\n\t\t\t\t\t\t\t\tselected.map(id => {\n\t\t\t\t\t\t\t\t\tconst queue = queues.find(q => q.id === id);\n\t\t\t\t\t\t\t\t\treturn queue ? (\n\t\t\t\t\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\t\t\t\t\tkey={id}\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: queue.color }}\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\tlabel={queue.name}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.chip}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t) : null;\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\t{queues.map(queue => (\n\t\t\t\t\t\t<MenuItem key={queue.id} value={queue.id}>\n\t\t\t\t\t\t\t{queue.name}\n\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t))}\n\t\t\t\t</Select>\n\t\t\t</FormControl>\n\t\t</div>\n\t);\n};\n\nexport default QueueSelect;\n","import React, { useState, useEffect, useContext } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport {\n\tButton,\n\tDialog,\n\tDialogActions,\n\tDialogContent,\n\tDialogTitle,\n\tCircularProgress,\n\tSelect,\n\tInputLabel,\n\tMenuItem,\n\tFormControl,\n\tTextField,\n\tInputAdornment,\n\tIconButton\n  } from '@material-ui/core';\n\nimport { Visibility, VisibilityOff } from '@material-ui/icons';\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport QueueSelect from \"../QueueSelect\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { Can } from \"../Can\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\tmultFieldLine: {\n\t\tdisplay: \"flex\",\n\t\t\"& > *:not(:last-child)\": {\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t},\n\n\tbtnWrapper: {\n\t\tposition: \"relative\",\n\t},\n\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n\tformControl: {\n\t\tmargin: theme.spacing(1),\n\t\tminWidth: 120,\n\t},\n}));\n\nconst UserSchema = Yup.object().shape({\n\tname: Yup.string()\n\t\t.min(2, \"Too Short!\")\n\t\t.max(50, \"Too Long!\")\n\t\t.required(\"Required\"),\n\tpassword: Yup.string().min(5, \"Too Short!\").max(50, \"Too Long!\"),\n\temail: Yup.string().email(\"Invalid email\").required(\"Required\"),\n});\n\nconst UserModal = ({ open, onClose, userId }) => {\n\tconst classes = useStyles();\n\n\tconst initialState = {\n\t\tname: \"\",\n\t\temail: \"\",\n\t\tpassword: \"\",\n\t\tprofile: \"user\",\n\t};\n\n\tconst { user: loggedInUser } = useContext(AuthContext);\n\n\tconst [user, setUser] = useState(initialState);\n\tconst [selectedQueueIds, setSelectedQueueIds] = useState([]);\n\tconst [showPassword, setShowPassword] = useState(false);\n\n\n\tuseEffect(() => {\n\t\tconst fetchUser = async () => {\n\t\t\tif (!userId) return;\n\t\t\ttry {\n\t\t\t\tconst { data } = await api.get(`/users/${userId}`);\n\t\t\t\tsetUser(prevState => {\n\t\t\t\t\treturn { ...prevState, ...data };\n\t\t\t\t});\n\t\t\t\tconst userQueueIds = data.queues?.map(queue => queue.id);\n\t\t\t\tsetSelectedQueueIds(userQueueIds);\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t};\n\n\t\tfetchUser();\n\t}, [userId, open]);\n\n\tconst handleClose = () => {\n\t\tonClose();\n\t\tsetUser(initialState);\n\t};\n\n\tconst handleSaveUser = async values => {\n\t\tconst userData = { ...values, queueIds: selectedQueueIds };\n\t\ttry {\n\t\t\tif (userId) {\n\t\t\t\tawait api.put(`/users/${userId}`, userData);\n\t\t\t} else {\n\t\t\t\tawait api.post(\"/users\", userData);\n\t\t\t}\n\t\t\ttoast.success(i18n.t(\"userModal.success\"));\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t\thandleClose();\n\t};\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Dialog\n\t\t\t\topen={open}\n\t\t\t\tonClose={handleClose}\n\t\t\t\tmaxWidth=\"xs\"\n\t\t\t\tfullWidth\n\t\t\t\tscroll=\"paper\"\n\t\t\t>\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\n\t\t\t\t\t{userId\n\t\t\t\t\t\t? `${i18n.t(\"userModal.title.edit\")}`\n\t\t\t\t\t\t: `${i18n.t(\"userModal.title.add\")}`}\n\t\t\t\t</DialogTitle>\n\t\t\t\t<Formik\n\t\t\t\t\tinitialValues={user}\n\t\t\t\t\tenableReinitialize={true}\n\t\t\t\t\tvalidationSchema={UserSchema}\n\t\t\t\t\tonSubmit={(values, actions) => {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\thandleSaveUser(values);\n\t\t\t\t\t\t\tactions.setSubmitting(false);\n\t\t\t\t\t\t}, 400);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{({ touched, errors, isSubmitting }) => (\n\t\t\t\t\t\t<Form>\n\t\t\t\t\t\t\t<DialogContent dividers>\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.name\")}\n\t\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t\t\terror={touched.name && Boolean(errors.name)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.name && errors.name}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.password\")}\n\t\t\t\t\t\t\t\t\t\terror={touched.password && Boolean(errors.password)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.password && errors.password}\n\t\t\t\t\t\t\t\t\t\ttype={showPassword ? 'text' : 'password'}\n\t\t\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position=\"end\">\n\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"toggle password visibility\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setShowPassword((e) => !e)}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{showPassword ? <VisibilityOff /> : <Visibility />}\n\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.email\")}\n\t\t\t\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\t\t\t\terror={touched.email && Boolean(errors.email)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.email && errors.email}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tclassName={classes.formControl}\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Can\n\t\t\t\t\t\t\t\t\t\t\trole={loggedInUser.profile}\n\t\t\t\t\t\t\t\t\t\t\tperform=\"user-modal:editProfile\"\n\t\t\t\t\t\t\t\t\t\t\tyes={() => (\n\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<InputLabel id=\"profile-selection-input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{i18n.t(\"userModal.form.profile\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={Select}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.profile\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"profile\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabelId=\"profile-selection-label\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"profile-selection\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"admin\">Admin</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"user\">User</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<Can\n\t\t\t\t\t\t\t\t\trole={loggedInUser.profile}\n\t\t\t\t\t\t\t\t\tperform=\"user-modal:editQueues\"\n\t\t\t\t\t\t\t\t\tyes={() => (\n\t\t\t\t\t\t\t\t\t\t<QueueSelect\n\t\t\t\t\t\t\t\t\t\t\tselectedQueueIds={selectedQueueIds}\n\t\t\t\t\t\t\t\t\t\t\tonChange={values => setSelectedQueueIds(values)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</DialogContent>\n\t\t\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"userModal.buttons.cancel\")}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{userId\n\t\t\t\t\t\t\t\t\t\t? `${i18n.t(\"userModal.buttons.okEdit\")}`\n\t\t\t\t\t\t\t\t\t\t: `${i18n.t(\"userModal.buttons.okAdd\")}`}\n\t\t\t\t\t\t\t\t\t{isSubmitting && (\n\t\t\t\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\t\t\t\tsize={24}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</DialogActions>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t)}\n\t\t\t\t</Formik>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n\nexport default UserModal;\n","import React from \"react\";\n\nimport Backdrop from \"@material-ui/core/Backdrop\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles(theme => ({\n\tbackdrop: {\n\t\tzIndex: theme.zIndex.drawer + 1,\n\t\tcolor: \"#fff\",\n\t},\n}));\n\nconst BackdropLoading = () => {\n\tconst classes = useStyles();\n\treturn (\n\t\t<Backdrop className={classes.backdrop} open={true}>\n\t\t\t<CircularProgress color=\"inherit\" />\n\t\t</Backdrop>\n\t);\n};\n\nexport default BackdropLoading;\n","import React, { useState, useContext, useEffect } from \"react\";\nimport clsx from \"clsx\";\n\nimport {\n  makeStyles,\n  Drawer,\n  AppBar,\n  Toolbar,\n  List,\n  Typography,\n  Divider,\n  MenuItem,\n  IconButton,\n  Menu,\n} from \"@material-ui/core\";\n\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport ChevronLeftIcon from \"@material-ui/icons/ChevronLeft\";\nimport AccountCircle from \"@material-ui/icons/AccountCircle\";\n\nimport MainListItems from \"./MainListItems\";\nimport NotificationsPopOver from \"../components/NotificationsPopOver\";\nimport UserModal from \"../components/UserModal\";\nimport { AuthContext } from \"../context/Auth/AuthContext\";\nimport BackdropLoading from \"../components/BackdropLoading\";\nimport { i18n } from \"../translate/i18n\";\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    height: \"100vh\",\n    [theme.breakpoints.down(\"sm\")]: {\n      height: \"calc(100vh - 56px)\",\n    },\n  },\n\n  toolbar: {\n    paddingRight: 24, // keep right padding when drawer closed\n    backgroundColor: \"#17a2b8\",\n    color: \"#FFF\",\n  },\n  toolbarIcon: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"flex-end\",\n    padding: \"0 8px\",\n    minHeight: \"48px\",\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1,\n    transition: theme.transitions.create([\"width\", \"margin\"], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n  appBarShift: {\n    marginLeft: drawerWidth,\n    width: `calc(100% - ${drawerWidth}px)`,\n    transition: theme.transitions.create([\"width\", \"margin\"], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  menuButton: {\n    marginRight: 36,\n  },\n  menuButtonHidden: {\n    display: \"none\",\n  },\n  title: {\n    flexGrow: 1,\n  },\n  drawerPaper: {\n    position: \"relative\",\n    whiteSpace: \"nowrap\",\n    width: drawerWidth,\n    transition: theme.transitions.create(\"width\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  drawerPaperClose: {\n    overflowX: \"hidden\",\n    transition: theme.transitions.create(\"width\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    width: theme.spacing(7),\n    [theme.breakpoints.up(\"sm\")]: {\n      width: theme.spacing(9),\n    },\n  },\n  appBarSpacer: {\n    minHeight: \"48px\",\n  },\n  content: {\n    flex: 1,\n    overflow: \"auto\",\n  },\n  container: {\n    paddingTop: theme.spacing(4),\n    paddingBottom: theme.spacing(4),\n  },\n  paper: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\",\n  },\n}));\n\nconst LoggedInLayout = ({ children }) => {\n  const classes = useStyles();\n  const [userModalOpen, setUserModalOpen] = useState(false);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [menuOpen, setMenuOpen] = useState(false);\n  const { handleLogout, loading } = useContext(AuthContext);\n  const [drawerOpen, setDrawerOpen] = useState(false);\n  const [drawerVariant, setDrawerVariant] = useState(\"permanent\");\n  const { user } = useContext(AuthContext);\n\n  useEffect(() => {\n    if (document.body.offsetWidth > 600) {\n      setDrawerOpen(true);\n    }\n  }, []);\n\n  useEffect(() => {\n    if (document.body.offsetWidth < 600) {\n      setDrawerVariant(\"temporary\");\n    } else {\n      setDrawerVariant(\"permanent\");\n    }\n  }, [drawerOpen]);\n\n  const handleMenu = (event) => {\n    setAnchorEl(event.currentTarget);\n    setMenuOpen(true);\n  };\n\n  const handleCloseMenu = () => {\n    setAnchorEl(null);\n    setMenuOpen(false);\n  };\n\n  const handleOpenUserModal = () => {\n    setUserModalOpen(true);\n    handleCloseMenu();\n  };\n\n  const handleClickLogout = () => {\n    handleCloseMenu();\n    handleLogout();\n  };\n\n  const drawerClose = () => {\n    if (document.body.offsetWidth < 600) {\n      setDrawerOpen(false);\n    }\n  };\n\n  if (loading) {\n    return <BackdropLoading />;\n  }\n\n  return (\n    <div className={classes.root}>\n      <Drawer\n        variant={drawerVariant}\n        className={drawerOpen ? classes.drawerPaper : classes.drawerPaperClose}\n        classes={{\n          paper: clsx(\n            classes.drawerPaper,\n            !drawerOpen && classes.drawerPaperClose\n          ),\n        }}\n        open={drawerOpen}\n      >\n        <div className={classes.toolbarIcon}>\n          <IconButton onClick={() => setDrawerOpen(!drawerOpen)}>\n            <ChevronLeftIcon />\n          </IconButton>\n        </div>\n        <Divider />\n        <List>\n          <MainListItems drawerClose={drawerClose} />\n        </List>\n        <Divider />\n      </Drawer>\n      <UserModal\n        open={userModalOpen}\n        onClose={() => setUserModalOpen(false)}\n        userId={user?.id}\n      />\n      <AppBar\n        position=\"absolute\"\n        className={clsx(classes.appBar, drawerOpen && classes.appBarShift)}\n        color={process.env.NODE_ENV === \"development\" ? \"inherit\" : \"primary\"}\n      >\n        <Toolbar variant=\"dense\" className={classes.toolbar}>\n          <IconButton\n            edge=\"start\"\n            color=\"inherit\"\n            aria-label=\"open drawer\"\n            onClick={() => setDrawerOpen(!drawerOpen)}\n            className={clsx(\n              classes.menuButton,\n              drawerOpen && classes.menuButtonHidden\n            )}\n          >\n            <MenuIcon />\n          </IconButton>\n          <Typography\n            component=\"h1\"\n            variant=\"h6\"\n            color=\"inherit\"\n            noWrap\n            className={classes.title}\n          >\n            WhatsContabil\n          </Typography>\n          {user.id && <NotificationsPopOver />}\n\n          <div>\n            <IconButton\n              aria-label=\"account of current user\"\n              aria-controls=\"menu-appbar\"\n              aria-haspopup=\"true\"\n              onClick={handleMenu}\n              color=\"inherit\"\n            >\n              <AccountCircle />\n            </IconButton>\n            <Menu\n              id=\"menu-appbar\"\n              anchorEl={anchorEl}\n              getContentAnchorEl={null}\n              anchorOrigin={{\n                vertical: \"bottom\",\n                horizontal: \"right\",\n              }}\n              transformOrigin={{\n                vertical: \"top\",\n                horizontal: \"right\",\n              }}\n              open={menuOpen}\n              onClose={handleCloseMenu}\n            >\n              <MenuItem onClick={handleOpenUserModal}>\n                {i18n.t(\"mainDrawer.appBar.user.profile\")}\n              </MenuItem>\n              <MenuItem onClick={handleClickLogout}>\n                {i18n.t(\"mainDrawer.appBar.user.logout\")}\n              </MenuItem>\n            </Menu>\n          </div>\n        </Toolbar>\n      </AppBar>\n      <main className={classes.content}>\n        <div className={classes.appBarSpacer} />\n\n        {children ? children : null}\n      </main>\n    </div>\n  );\n};\n\nexport default LoggedInLayout;\n","import React from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\n\nconst Title = props => {\n\treturn (\n\t\t<Typography component=\"h2\" variant=\"h6\" color=\"primary\" gutterBottom>\n\t\t\t{props.children}\n\t\t</Typography>\n\t);\n};\n\nexport default Title;\n","import React, { useState, useEffect, useRef } from \"react\";\nimport { useTheme } from \"@material-ui/core/styles\";\nimport {\n\tBarChart,\n\tCartesianGrid,\n\tBar,\n\tXAxis,\n\tYAxis,\n\tLabel,\n\tResponsiveContainer,\n} from \"recharts\";\nimport { startOfHour, parseISO, format } from \"date-fns\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport Title from \"./Title\";\nimport useTickets from \"../../hooks/useTickets\";\n\nconst Chart = () => {\n\tconst theme = useTheme();\n\n\tconst date = useRef(new Date().toISOString());\n\tconst { tickets } = useTickets({ date: date.current });\n\n\tconst [chartData, setChartData] = useState([\n\t\t{ time: \"08:00\", amount: 0 },\n\t\t{ time: \"09:00\", amount: 0 },\n\t\t{ time: \"10:00\", amount: 0 },\n\t\t{ time: \"11:00\", amount: 0 },\n\t\t{ time: \"12:00\", amount: 0 },\n\t\t{ time: \"13:00\", amount: 0 },\n\t\t{ time: \"14:00\", amount: 0 },\n\t\t{ time: \"15:00\", amount: 0 },\n\t\t{ time: \"16:00\", amount: 0 },\n\t\t{ time: \"17:00\", amount: 0 },\n\t\t{ time: \"18:00\", amount: 0 },\n\t\t{ time: \"19:00\", amount: 0 },\n\t]);\n\n\tuseEffect(() => {\n\t\tsetChartData(prevState => {\n\t\t\tlet aux = [...prevState];\n\n\t\t\taux.forEach(a => {\n\t\t\t\ttickets.forEach(ticket => {\n\t\t\t\t\tformat(startOfHour(parseISO(ticket.createdAt)), \"HH:mm\") === a.time &&\n\t\t\t\t\t\ta.amount++;\n\t\t\t\t});\n\t\t\t});\n\n\t\t\treturn aux;\n\t\t});\n\t}, [tickets]);\n\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<Title>{`${i18n.t(\"dashboard.charts.perDay.title\")}${\n\t\t\t\ttickets.length\n\t\t\t}`}</Title>\n\t\t\t<ResponsiveContainer>\n\t\t\t\t<BarChart\n\t\t\t\t\tdata={chartData}\n\t\t\t\t\tbarSize={40}\n\t\t\t\t\twidth={730}\n\t\t\t\t\theight={250}\n\t\t\t\t\tmargin={{\n\t\t\t\t\t\ttop: 16,\n\t\t\t\t\t\tright: 16,\n\t\t\t\t\t\tbottom: 0,\n\t\t\t\t\t\tleft: 24,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<CartesianGrid strokeDasharray=\"3 3\" />\n\t\t\t\t\t<XAxis dataKey=\"time\" stroke={theme.palette.text.secondary} />\n\t\t\t\t\t<YAxis\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tallowDecimals={false}\n\t\t\t\t\t\tstroke={theme.palette.text.secondary}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Label\n\t\t\t\t\t\t\tangle={270}\n\t\t\t\t\t\t\tposition=\"left\"\n\t\t\t\t\t\t\tstyle={{ textAnchor: \"middle\", fill: theme.palette.text.primary }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tTickets\n\t\t\t\t\t\t</Label>\n\t\t\t\t\t</YAxis>\n\t\t\t\t\t<Bar dataKey=\"amount\" fill={theme.palette.primary.main} />\n\t\t\t\t</BarChart>\n\t\t\t</ResponsiveContainer>\n\t\t</React.Fragment>\n\t);\n};\n\nexport default Chart;\n","import React, { useContext } from \"react\"\n\nimport Paper from \"@material-ui/core/Paper\"\nimport Container from \"@material-ui/core/Container\"\nimport Grid from \"@material-ui/core/Grid\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport Typography from \"@material-ui/core/Typography\";\n\nimport useTickets from \"../../hooks/useTickets\"\n\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport Chart from \"./Chart\"\n\nconst useStyles = makeStyles(theme => ({\n\tcontainer: {\n\t\tpaddingTop: theme.spacing(4),\n\t\tpaddingBottom: theme.spacing(4),\n\t},\n\tfixedHeightPaper: {\n\t\tpadding: theme.spacing(2),\n\t\tdisplay: \"flex\",\n\t\toverflow: \"auto\",\n\t\tflexDirection: \"column\",\n\t\theight: 240,\n\t},\n\tcustomFixedHeightPaper: {\n\t\tpadding: theme.spacing(2),\n\t\tdisplay: \"flex\",\n\t\toverflow: \"auto\",\n\t\tflexDirection: \"column\",\n\t\theight: 120,\n\t},\n\tcustomFixedHeightPaperLg: {\n\t\tpadding: theme.spacing(2),\n\t\tdisplay: \"flex\",\n\t\toverflow: \"auto\",\n\t\tflexDirection: \"column\",\n\t\theight: \"100%\",\n\t},\n}))\n\nconst Dashboard = () => {\n\tconst classes = useStyles()\n\n\tconst { user } = useContext(AuthContext);\n\tvar userQueueIds = [];\n\n\tif (user.queues && user.queues.length > 0) {\n\t\tuserQueueIds = user.queues.map(q => q.id);\n\t}\n\n\tconst GetTickets = (status, showAll, withUnreadMessages) => {\n\n\t\tconst { tickets } = useTickets({\n\t\t\tstatus: status,\n\t\t\tshowAll: showAll,\n\t\t\twithUnreadMessages: withUnreadMessages,\n\t\t\tqueueIds: JSON.stringify(userQueueIds)\n\t\t});\n\t\treturn tickets.length;\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<Container maxWidth=\"lg\" className={classes.container}>\n\t\t\t\t<Grid container spacing={3}>\n\t\t\t\t\t<Grid item xs={4}>\n\t\t\t\t\t\t<Paper className={classes.customFixedHeightPaper} style={{ overflow: \"hidden\" }}>\n\t\t\t\t\t\t\t<Typography component=\"h3\" variant=\"h6\" color=\"primary\" paragraph>\n\t\t\t\t\t\t\t\t{i18n.t(\"dashboard.messages.inAttendance.title\")}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t<Typography component=\"h1\" variant=\"h4\">\n\t\t\t\t\t\t\t\t\t{GetTickets(\"open\", \"true\", \"false\")}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Paper>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={4}>\n\t\t\t\t\t\t<Paper className={classes.customFixedHeightPaper} style={{ overflow: \"hidden\" }}>\n\t\t\t\t\t\t\t<Typography component=\"h3\" variant=\"h6\" color=\"primary\" paragraph>\n\t\t\t\t\t\t\t\t{i18n.t(\"dashboard.messages.waiting.title\")}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t<Typography component=\"h1\" variant=\"h4\">\n\t\t\t\t\t\t\t\t\t{GetTickets(\"pending\", \"true\", \"false\")}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Paper>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={4}>\n\t\t\t\t\t\t<Paper className={classes.customFixedHeightPaper} style={{ overflow: \"hidden\" }}>\n\t\t\t\t\t\t\t<Typography component=\"h3\" variant=\"h6\" color=\"primary\" paragraph>\n\t\t\t\t\t\t\t\t{i18n.t(\"dashboard.messages.closed.title\")}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t<Typography component=\"h1\" variant=\"h4\">\n\t\t\t\t\t\t\t\t\t{GetTickets(\"closed\", \"true\", \"false\")}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Paper>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<Paper className={classes.fixedHeightPaper}>\n\t\t\t\t\t\t\t<Chart />\n\t\t\t\t\t\t</Paper>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</Container>\n\t\t</div>\n\t)\n}\n\nexport default Dashboard\n","import React, { useState, useEffect, useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\n\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Autocomplete, {\n\tcreateFilterOptions,\n} from \"@material-ui/lab/Autocomplete\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport ContactModal from \"../ContactModal\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst filter = createFilterOptions({\n\ttrim: true,\n});\n\nconst NewTicketModal = ({ modalOpen, onClose }) => {\n\tconst history = useHistory();\n\n\tconst [options, setOptions] = useState([]);\n\tconst [loading, setLoading] = useState(false);\n\tconst [searchParam, setSearchParam] = useState(\"\");\n\tconst [selectedContact, setSelectedContact] = useState(null);\n\tconst [newContact, setNewContact] = useState({});\n\tconst [contactModalOpen, setContactModalOpen] = useState(false);\n\tconst { user } = useContext(AuthContext);\n\n\tuseEffect(() => {\n\t\tif (!modalOpen || searchParam.length < 3) {\n\t\t\tsetLoading(false);\n\t\t\treturn;\n\t\t}\n\t\tsetLoading(true);\n\t\tconst delayDebounceFn = setTimeout(() => {\n\t\t\tconst fetchContacts = async () => {\n\t\t\t\ttry {\n\t\t\t\t\tconst { data } = await api.get(\"contacts\", {\n\t\t\t\t\t\tparams: { searchParam },\n\t\t\t\t\t});\n\t\t\t\t\tsetOptions(data.contacts);\n\t\t\t\t\tsetLoading(false);\n\t\t\t\t} catch (err) {\n\t\t\t\t\tsetLoading(false);\n\t\t\t\t\ttoastError(err);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tfetchContacts();\n\t\t}, 500);\n\t\treturn () => clearTimeout(delayDebounceFn);\n\t}, [searchParam, modalOpen]);\n\n\tconst handleClose = () => {\n\t\tonClose();\n\t\tsetSearchParam(\"\");\n\t\tsetSelectedContact(null);\n\t};\n\n\tconst handleSaveTicket = async contactId => {\n\t\tif (!contactId) return;\n\t\tsetLoading(true);\n\t\ttry {\n\t\t\tconst { data: ticket } = await api.post(\"/tickets\", {\n\t\t\t\tcontactId: contactId,\n\t\t\t\tuserId: user.id,\n\t\t\t\tstatus: \"open\",\n\t\t\t});\n\t\t\thistory.push(`/tickets/${ticket.id}`);\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t\tsetLoading(false);\n\t\thandleClose();\n\t};\n\n\tconst handleSelectOption = (e, newValue) => {\n\t\tif (newValue?.number) {\n\t\t\tsetSelectedContact(newValue);\n\t\t} else if (newValue?.name) {\n\t\t\tsetNewContact({ name: newValue.name });\n\t\t\tsetContactModalOpen(true);\n\t\t}\n\t};\n\n\tconst handleCloseContactModal = () => {\n\t\tsetContactModalOpen(false);\n\t};\n\n\tconst handleAddNewContactTicket = contact => {\n\t\thandleSaveTicket(contact.id);\n\t};\n\n\tconst createAddContactOption = (filterOptions, params) => {\n\t\tconst filtered = filter(filterOptions, params);\n\n\t\tif (params.inputValue !== \"\" && !loading && searchParam.length >= 3) {\n\t\t\tfiltered.push({\n\t\t\t\tname: `${params.inputValue}`,\n\t\t\t});\n\t\t}\n\n\t\treturn filtered;\n\t};\n\n\tconst renderOption = option => {\n\t\tif (option.number) {\n\t\t\treturn `${option.name} - ${option.number}`;\n\t\t} else {\n\t\t\treturn `${i18n.t(\"newTicketModal.add\")} ${option.name}`;\n\t\t}\n\t};\n\n\tconst renderOptionLabel = option => {\n\t\tif (option.number) {\n\t\t\treturn `${option.name} - ${option.number}`;\n\t\t} else {\n\t\t\treturn `${option.name}`;\n\t\t}\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<ContactModal\n\t\t\t\topen={contactModalOpen}\n\t\t\t\tinitialValues={newContact}\n\t\t\t\tonClose={handleCloseContactModal}\n\t\t\t\tonSave={handleAddNewContactTicket}\n\t\t\t></ContactModal>\n\t\t\t<Dialog open={modalOpen} onClose={handleClose}>\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\n\t\t\t\t\t{i18n.t(\"newTicketModal.title\")}\n\t\t\t\t</DialogTitle>\n\t\t\t\t<DialogContent dividers>\n\t\t\t\t\t<Autocomplete\n\t\t\t\t\t\toptions={options}\n\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t\tstyle={{ width: 300 }}\n\t\t\t\t\t\tclearOnBlur\n\t\t\t\t\t\tautoHighlight\n\t\t\t\t\t\tfreeSolo\n\t\t\t\t\t\tclearOnEscape\n\t\t\t\t\t\tgetOptionLabel={renderOptionLabel}\n\t\t\t\t\t\trenderOption={renderOption}\n\t\t\t\t\t\tfilterOptions={createAddContactOption}\n\t\t\t\t\t\tonChange={(e, newValue) => handleSelectOption(e, newValue)}\n\t\t\t\t\t\trenderInput={params => (\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t{...params}\n\t\t\t\t\t\t\t\tlabel={i18n.t(\"newTicketModal.fieldLabel\")}\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\tonChange={e => setSearchParam(e.target.value)}\n\t\t\t\t\t\t\t\tonKeyPress={e => {\n\t\t\t\t\t\t\t\t\tif (loading || !selectedContact) return;\n\t\t\t\t\t\t\t\t\telse if (e.key === \"Enter\") {\n\t\t\t\t\t\t\t\t\t\thandleSaveTicket(selectedContact.id);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\t...params.InputProps,\n\t\t\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t\t\t\t\t{loading ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<CircularProgress color=\"inherit\" size={20} />\n\t\t\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t\t\t\t{params.InputProps.endAdornment}\n\t\t\t\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t</DialogContent>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"newTicketModal.buttons.cancel\")}\n\t\t\t\t\t</Button>\n\t\t\t\t\t<ButtonWithSpinner\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tdisabled={!selectedContact}\n\t\t\t\t\t\tonClick={() => handleSaveTicket(selectedContact.id)}\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"newTicketModal.buttons.ok\")}\n\t\t\t\t\t</ButtonWithSpinner>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</>\n\t);\n};\n\nexport default NewTicketModal;\n","import React from \"react\";\n\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\nimport Divider from \"@material-ui/core/Divider\";\nimport Skeleton from \"@material-ui/lab/Skeleton\";\n\nconst TicketsSkeleton = () => {\n\treturn (\n\t\t<>\n\t\t\t<ListItem dense>\n\t\t\t\t<ListItemAvatar>\n\t\t\t\t\t<Skeleton animation=\"wave\" variant=\"circle\" width={40} height={40} />\n\t\t\t\t</ListItemAvatar>\n\t\t\t\t<ListItemText\n\t\t\t\t\tprimary={<Skeleton animation=\"wave\" height={20} width={60} />}\n\t\t\t\t\tsecondary={<Skeleton animation=\"wave\" height={20} width={90} />}\n\t\t\t\t/>\n\t\t\t</ListItem>\n\t\t\t<Divider variant=\"inset\" />\n\t\t\t<ListItem dense>\n\t\t\t\t<ListItemAvatar>\n\t\t\t\t\t<Skeleton animation=\"wave\" variant=\"circle\" width={40} height={40} />\n\t\t\t\t</ListItemAvatar>\n\t\t\t\t<ListItemText\n\t\t\t\t\tprimary={<Skeleton animation=\"wave\" height={20} width={70} />}\n\t\t\t\t\tsecondary={<Skeleton animation=\"wave\" height={20} width={120} />}\n\t\t\t\t/>\n\t\t\t</ListItem>\n\t\t\t<Divider variant=\"inset\" />\n\t\t\t<ListItem dense>\n\t\t\t\t<ListItemAvatar>\n\t\t\t\t\t<Skeleton animation=\"wave\" variant=\"circle\" width={40} height={40} />\n\t\t\t\t</ListItemAvatar>\n\t\t\t\t<ListItemText\n\t\t\t\t\tprimary={<Skeleton animation=\"wave\" height={20} width={60} />}\n\t\t\t\t\tsecondary={<Skeleton animation=\"wave\" height={20} width={90} />}\n\t\t\t\t/>\n\t\t\t</ListItem>\n\t\t\t<Divider variant=\"inset\" />\n\t\t</>\n\t);\n};\n\nexport default TicketsSkeleton;\n","import React, { useState, useEffect, useReducer, useContext } from \"react\";\nimport openSocket from \"socket.io-client\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport List from \"@material-ui/core/List\";\nimport Paper from \"@material-ui/core/Paper\";\n\nimport TicketListItem from \"../TicketListItem\";\nimport TicketsListSkeleton from \"../TicketsListSkeleton\";\n\nimport useTickets from \"../../hooks/useTickets\";\nimport { i18n } from \"../../translate/i18n\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst useStyles = makeStyles(theme => ({\n\tticketsListWrapper: {\n\t\tposition: \"relative\",\n\t\tdisplay: \"flex\",\n\t\theight: \"100%\",\n\t\tflexDirection: \"column\",\n\t\toverflow: \"hidden\",\n\t\tborderTopRightRadius: 0,\n\t\tborderBottomRightRadius: 0,\n\t},\n\n\tticketsList: {\n\t\tflex: 1,\n\t\toverflowY: \"scroll\",\n\t\t...theme.scrollbarStyles,\n\t\tborderTop: \"2px solid rgba(0, 0, 0, 0.12)\",\n\t},\n\n\tticketsListHeader: {\n\t\tcolor: \"rgb(67, 83, 105)\",\n\t\tzIndex: 2,\n\t\tbackgroundColor: \"white\",\n\t\tborderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"space-between\",\n\t},\n\n\tticketsCount: {\n\t\tfontWeight: \"normal\",\n\t\tcolor: \"rgb(104, 121, 146)\",\n\t\tmarginLeft: \"8px\",\n\t\tfontSize: \"14px\",\n\t},\n\n\tnoTicketsText: {\n\t\ttextAlign: \"center\",\n\t\tcolor: \"rgb(104, 121, 146)\",\n\t\tfontSize: \"14px\",\n\t\tlineHeight: \"1.4\",\n\t},\n\n\tnoTicketsTitle: {\n\t\ttextAlign: \"center\",\n\t\tfontSize: \"16px\",\n\t\tfontWeight: \"600\",\n\t\tmargin: \"0px\",\n\t},\n\n\tnoTicketsDiv: {\n\t\tdisplay: \"flex\",\n\t\theight: \"100px\",\n\t\tmargin: 40,\n\t\tflexDirection: \"column\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"center\",\n\t},\n}));\n\nconst reducer = (state, action) => {\n\tif (action.type === \"LOAD_TICKETS\") {\n\t\tconst newTickets = action.payload;\n\n\t\tnewTickets.forEach(ticket => {\n\t\t\tconst ticketIndex = state.findIndex(t => t.id === ticket.id);\n\t\t\tif (ticketIndex !== -1) {\n\t\t\t\tstate[ticketIndex] = ticket;\n\t\t\t\tif (ticket.unreadMessages > 0) {\n\t\t\t\t\tstate.unshift(state.splice(ticketIndex, 1)[0]);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tstate.push(ticket);\n\t\t\t}\n\t\t});\n\n\t\treturn [...state];\n\t}\n\n\tif (action.type === \"RESET_UNREAD\") {\n\t\tconst ticketId = action.payload;\n\n\t\tconst ticketIndex = state.findIndex(t => t.id === ticketId);\n\t\tif (ticketIndex !== -1) {\n\t\t\tstate[ticketIndex].unreadMessages = 0;\n\t\t}\n\n\t\treturn [...state];\n\t}\n\n\tif (action.type === \"UPDATE_TICKET\") {\n\t\tconst ticket = action.payload;\n\n\t\tconst ticketIndex = state.findIndex(t => t.id === ticket.id);\n\t\tif (ticketIndex !== -1) {\n\t\t\tstate[ticketIndex] = ticket;\n\t\t} else {\n\t\t\tstate.unshift(ticket);\n\t\t}\n\n\t\treturn [...state];\n\t}\n\n\tif (action.type === \"UPDATE_TICKET_UNREAD_MESSAGES\") {\n\t\tconst ticket = action.payload;\n\n\t\tconst ticketIndex = state.findIndex(t => t.id === ticket.id);\n\t\tif (ticketIndex !== -1) {\n\t\t\tstate[ticketIndex] = ticket;\n\t\t\tstate.unshift(state.splice(ticketIndex, 1)[0]);\n\t\t} else {\n\t\t\tstate.unshift(ticket);\n\t\t}\n\n\t\treturn [...state];\n\t}\n\n\tif (action.type === \"UPDATE_TICKET_CONTACT\") {\n\t\tconst contact = action.payload;\n\t\tconst ticketIndex = state.findIndex(t => t.contactId === contact.id);\n\t\tif (ticketIndex !== -1) {\n\t\t\tstate[ticketIndex].contact = contact;\n\t\t}\n\t\treturn [...state];\n\t}\n\n\tif (action.type === \"DELETE_TICKET\") {\n\t\tconst ticketId = action.payload;\n\t\tconst ticketIndex = state.findIndex(t => t.id === ticketId);\n\t\tif (ticketIndex !== -1) {\n\t\t\tstate.splice(ticketIndex, 1);\n\t\t}\n\n\t\treturn [...state];\n\t}\n\n\tif (action.type === \"RESET\") {\n\t\treturn [];\n\t}\n};\n\n\tconst TicketsList = (props) => {\n\t\tconst { status, searchParam, showAll, selectedQueueIds, updateCount, style } =\n\t\t\tprops;\n\tconst classes = useStyles();\n\tconst [pageNumber, setPageNumber] = useState(1);\n\tconst [ticketsList, dispatch] = useReducer(reducer, []);\n\tconst { user } = useContext(AuthContext);\n\n\tuseEffect(() => {\n\t\tdispatch({ type: \"RESET\" });\n\t\tsetPageNumber(1);\n\t}, [status, searchParam, dispatch, showAll, selectedQueueIds]);\n\n\tconst { tickets, hasMore, loading } = useTickets({\n\t\tpageNumber,\n\t\tsearchParam,\n\t\tstatus,\n\t\tshowAll,\n\t\tqueueIds: JSON.stringify(selectedQueueIds),\n\t});\n\n\tuseEffect(() => {\n\t\tif (!status && !searchParam) return;\n\t\tdispatch({\n\t\t\ttype: \"LOAD_TICKETS\",\n\t\t\tpayload: tickets,\n\t\t});\n\t}, [tickets, status, searchParam]);\n\n\tuseEffect(() => {\n\t\tconst socket = openSocket(process.env.REACT_APP_BACKEND_URL);\n\n\t\tconst shouldUpdateTicket = ticket =>\n\t\t\t(!ticket.userId || ticket.userId === user?.id || showAll) &&\n\t\t\t(!ticket.queueId || selectedQueueIds.indexOf(ticket.queueId) > -1);\n\n\t\tconst notBelongsToUserQueues = ticket =>\n\t\t\tticket.queueId && selectedQueueIds.indexOf(ticket.queueId) === -1;\n\n\t\tsocket.on(\"connect\", () => {\n\t\t\tif (status) {\n\t\t\t\tsocket.emit(\"joinTickets\", status);\n\t\t\t} else {\n\t\t\t\tsocket.emit(\"joinNotification\");\n\t\t\t}\n\t\t});\n\n\t\tsocket.on(\"ticket\", data => {\n\t\t\tif (data.action === \"updateUnread\") {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"RESET_UNREAD\",\n\t\t\t\t\tpayload: data.ticketId,\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (data.action === \"update\" && shouldUpdateTicket(data.ticket)) {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"UPDATE_TICKET\",\n\t\t\t\t\tpayload: data.ticket,\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (data.action === \"update\" && notBelongsToUserQueues(data.ticket)) {\n\t\t\t\tdispatch({ type: \"DELETE_TICKET\", payload: data.ticket.id });\n\t\t\t}\n\n\t\t\tif (data.action === \"delete\") {\n\t\t\t\tdispatch({ type: \"DELETE_TICKET\", payload: data.ticketId });\n\t\t\t}\n\t\t});\n\n\t\tsocket.on(\"appMessage\", data => {\n\t\t\tif (data.action === \"create\" && shouldUpdateTicket(data.ticket)) {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"UPDATE_TICKET_UNREAD_MESSAGES\",\n\t\t\t\t\tpayload: data.ticket,\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\tsocket.on(\"contact\", data => {\n\t\t\tif (data.action === \"update\") {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"UPDATE_TICKET_CONTACT\",\n\t\t\t\t\tpayload: data.contact,\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\treturn () => {\n\t\t\tsocket.disconnect();\n\t\t};\n\t}, [status, showAll, user, selectedQueueIds]);\n\n\tuseEffect(() => {\n    if (typeof updateCount === \"function\") {\n      updateCount(ticketsList.length);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [ticketsList]);\n\n\tconst loadMore = () => {\n\t\tsetPageNumber(prevState => prevState + 1);\n\t};\n\n\tconst handleScroll = e => {\n\t\tif (!hasMore || loading) return;\n\n\t\tconst { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n\n\t\tif (scrollHeight - (scrollTop + 100) < clientHeight) {\n\t\t\tloadMore();\n\t\t}\n\t};\n\n\treturn (\n    <Paper className={classes.ticketsListWrapper} style={style}>\n\t\t\t<Paper\n\t\t\t\tsquare\n\t\t\t\tname=\"closed\"\n\t\t\t\televation={0}\n\t\t\t\tclassName={classes.ticketsList}\n\t\t\t\tonScroll={handleScroll}\n\t\t\t>\n\t\t\t\t<List style={{ paddingTop: 0 }}>\n\t\t\t\t\t{ticketsList.length === 0 && !loading ? (\n\t\t\t\t\t\t<div className={classes.noTicketsDiv}>\n\t\t\t\t\t\t\t<span className={classes.noTicketsTitle}>\n\t\t\t\t\t\t\t\t{i18n.t(\"ticketsList.noTicketsTitle\")}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<p className={classes.noTicketsText}>\n\t\t\t\t\t\t\t\t{i18n.t(\"ticketsList.noTicketsMessage\")}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t{ticketsList.map(ticket => (\n\t\t\t\t\t\t\t\t<TicketListItem ticket={ticket} key={ticket.id} />\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t\t{loading && <TicketsListSkeleton />}\n\t\t\t\t</List>\n\t\t\t</Paper>\n    </Paper>\n\t);\n};\n\nexport default TicketsList;\n","import React from \"react\";\n\nconst TabPanel = ({ children, value, name, ...rest }) => {\n\tif (value === name) {\n\t\treturn (\n\t\t\t<div\n\t\t\t\trole=\"tabpanel\"\n\t\t\t\tid={`simple-tabpanel-${name}`}\n\t\t\t\taria-labelledby={`simple-tab-${name}`}\n\t\t\t\t{...rest}\n\t\t\t>\n\t\t\t\t<>{children}</>\n\t\t\t</div>\n\t\t);\n\t} else return null;\n};\n\nexport default TabPanel;\n","import React from \"react\";\n\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport { Checkbox, ListItemText } from \"@material-ui/core\";\nimport { i18n } from \"../../translate/i18n\";\n\nconst TicketsQueueSelect = ({\n\tuserQueues,\n\tselectedQueueIds = [],\n\tonChange,\n}) => {\n\tconst handleChange = e => {\n\t\tonChange(e.target.value);\n\t};\n\n\treturn (\n\t\t<div style={{ width: 120, marginTop: -4 }}>\n\t\t\t<FormControl fullWidth margin=\"dense\">\n\t\t\t\t<Select\n\t\t\t\t\tmultiple\n\t\t\t\t\tdisplayEmpty\n\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\tvalue={selectedQueueIds}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\tMenuProps={{\n\t\t\t\t\t\tanchorOrigin: {\n\t\t\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttransformOrigin: {\n\t\t\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetContentAnchorEl: null,\n\t\t\t\t\t}}\n\t\t\t\t\trenderValue={() => i18n.t(\"ticketsQueueSelect.placeholder\")}\n\t\t\t\t>\n\t\t\t\t\t{userQueues?.length > 0 &&\n\t\t\t\t\t\tuserQueues.map(queue => (\n\t\t\t\t\t\t\t<MenuItem dense key={queue.id} value={queue.id}>\n\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tcolor: queue.color,\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tchecked={selectedQueueIds.indexOf(queue.id) > -1}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<ListItemText primary={queue.name} />\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t))}\n\t\t\t\t</Select>\n\t\t\t</FormControl>\n\t\t</div>\n\t);\n};\n\nexport default TicketsQueueSelect;\n","import React, { useContext, useEffect, useRef, useState } from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport InputBase from \"@material-ui/core/InputBase\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport Badge from \"@material-ui/core/Badge\";\nimport MoveToInboxIcon from \"@material-ui/icons/MoveToInbox\";\nimport CheckBoxIcon from \"@material-ui/icons/CheckBox\";\n\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Switch from \"@material-ui/core/Switch\";\n\nimport NewTicketModal from \"../NewTicketModal\";\nimport TicketsList from \"../TicketsList\";\nimport TabPanel from \"../TabPanel\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { Can } from \"../Can\";\nimport TicketsQueueSelect from \"../TicketsQueueSelect\";\nimport { Button } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme) => ({\n  ticketsWrapper: {\n    position: \"relative\",\n    display: \"flex\",\n    height: \"100%\",\n    flexDirection: \"column\",\n    overflow: \"hidden\",\n    borderTopRightRadius: 0,\n    borderBottomRightRadius: 0,\n  },\n\n  tabsHeader: {\n    flex: \"none\",\n    backgroundColor: \"#eee\",\n  },\n\n  settingsIcon: {\n    alignSelf: \"center\",\n    marginLeft: \"auto\",\n    padding: 8,\n  },\n\n  tab: {\n    minWidth: 120,\n    width: 120,\n  },\n\n  ticketOptionsBox: {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    background: \"#fafafa\",\n    padding: theme.spacing(1),\n  },\n\n  serachInputWrapper: {\n    flex: 1,\n    background: \"#fff\",\n    display: \"flex\",\n    borderRadius: 40,\n    padding: 4,\n    marginRight: theme.spacing(1),\n  },\n\n  searchIcon: {\n    color: \"grey\",\n    marginLeft: 6,\n    marginRight: 6,\n    alignSelf: \"center\",\n  },\n\n  searchInput: {\n    flex: 1,\n    border: \"none\",\n    borderRadius: 30,\n  },\n\n  badge: {\n    right: \"-10px\",\n  },\n  show: {\n    display: \"block\",\n  },\n  hide: {\n    display: \"none !important\",\n  },\n}));\n\nconst TicketsManager = () => {\n  const classes = useStyles();\n\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [tab, setTab] = useState(\"open\");\n  const [tabOpen, setTabOpen] = useState(\"open\");\n  const [newTicketModalOpen, setNewTicketModalOpen] = useState(false);\n  const [showAllTickets, setShowAllTickets] = useState(false);\n  const searchInputRef = useRef();\n  const { user } = useContext(AuthContext);\n\n  const [openCount, setOpenCount] = useState(0);\n  const [pendingCount, setPendingCount] = useState(0);\n\n  const userQueueIds = user.queues.map((q) => q.id);\n  const [selectedQueueIds, setSelectedQueueIds] = useState(userQueueIds || []);\n\n  useEffect(() => {\n    if (user.profile.toUpperCase() === \"ADMIN\") {\n      setShowAllTickets(true);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    if (tab === \"search\") {\n      searchInputRef.current.focus();\n    }\n  }, [tab]);\n\n  let searchTimeout;\n\n  const handleSearch = (e) => {\n    const searchedTerm = e.target.value.toLowerCase();\n\n    clearTimeout(searchTimeout);\n\n    if (searchedTerm === \"\") {\n      setSearchParam(searchedTerm);\n      setTab(\"open\");\n      return;\n    }\n\n    searchTimeout = setTimeout(() => {\n      setSearchParam(searchedTerm);\n    }, 500);\n  };\n\n  const handleChangeTab = (e, newValue) => {\n    setTab(newValue);\n  };\n\n  const handleChangeTabOpen = (e, newValue) => {\n    setTabOpen(newValue);\n  };\n\n  const applyPanelStyle = (status) => {\n    if (tabOpen !== status) {\n      return { width: 0, height: 0 };\n    }\n  };\n\n  return (\n    <Paper elevation={0} variant=\"outlined\" className={classes.ticketsWrapper}>\n      <NewTicketModal\n        modalOpen={newTicketModalOpen}\n        onClose={(e) => setNewTicketModalOpen(false)}\n      />\n      <Paper elevation={0} square className={classes.tabsHeader}>\n        <Tabs\n          value={tab}\n          onChange={handleChangeTab}\n          variant=\"fullWidth\"\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n          aria-label=\"icon label tabs example\"\n        >\n          <Tab\n            value={\"open\"}\n            icon={<MoveToInboxIcon />}\n            label={i18n.t(\"tickets.tabs.open.title\")}\n            classes={{ root: classes.tab }}\n          />\n          <Tab\n            value={\"closed\"}\n            icon={<CheckBoxIcon />}\n            label={i18n.t(\"tickets.tabs.closed.title\")}\n            classes={{ root: classes.tab }}\n          />\n          <Tab\n            value={\"search\"}\n            icon={<SearchIcon />}\n            label={i18n.t(\"tickets.tabs.search.title\")}\n            classes={{ root: classes.tab }}\n          />\n        </Tabs>\n      </Paper>\n      <Paper square elevation={0} className={classes.ticketOptionsBox}>\n        {tab === \"search\" ? (\n          <div className={classes.serachInputWrapper}>\n            <SearchIcon className={classes.searchIcon} />\n            <InputBase\n              className={classes.searchInput}\n              inputRef={searchInputRef}\n              placeholder={i18n.t(\"tickets.search.placeholder\")}\n              type=\"search\"\n              onChange={handleSearch}\n            />\n          </div>\n        ) : (\n          <>\n            <Button\n              variant=\"outlined\"\n              color=\"primary\"\n              onClick={() => setNewTicketModalOpen(true)}\n            >\n              {i18n.t(\"ticketsManager.buttons.newTicket\")}\n            </Button>\n            <Can\n              role={user.profile}\n              perform=\"tickets-manager:showall\"\n              yes={() => (\n                <FormControlLabel\n                  label={i18n.t(\"tickets.buttons.showAll\")}\n                  labelPlacement=\"start\"\n                  control={\n                    <Switch\n                      size=\"small\"\n                      checked={showAllTickets}\n                      onChange={() =>\n                        setShowAllTickets((prevState) => !prevState)\n                      }\n                      name=\"showAllTickets\"\n                      color=\"primary\"\n                    />\n                  }\n                />\n              )}\n            />\n          </>\n        )}\n        <TicketsQueueSelect\n          style={{ marginLeft: 6 }}\n          selectedQueueIds={selectedQueueIds}\n          userQueues={user?.queues}\n          onChange={(values) => setSelectedQueueIds(values)}\n        />\n      </Paper>\n      <TabPanel value={tab} name=\"open\" className={classes.ticketsWrapper}>\n        <Tabs\n          value={tabOpen}\n          onChange={handleChangeTabOpen}\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n          variant=\"fullWidth\"\n        >\n          <Tab\n            label={\n              <Badge\n                className={classes.badge}\n                badgeContent={openCount}\n                color=\"primary\"\n              >\n                {i18n.t(\"ticketsList.assignedHeader\")}\n              </Badge>\n            }\n            value={\"open\"}\n          />\n          <Tab\n            label={\n              <Badge\n                className={classes.badge}\n                badgeContent={pendingCount}\n                color=\"secondary\"\n              >\n                {i18n.t(\"ticketsList.pendingHeader\")}\n              </Badge>\n            }\n            value={\"pending\"}\n          />\n        </Tabs>\n        <Paper className={classes.ticketsWrapper}>\n          <TicketsList\n            status=\"open\"\n            showAll={showAllTickets}\n            selectedQueueIds={selectedQueueIds}\n            updateCount={(val) => setOpenCount(val)}\n            style={applyPanelStyle(\"open\")}\n          />\n          <TicketsList\n            status=\"pending\"\n            selectedQueueIds={selectedQueueIds}\n            updateCount={(val) => setPendingCount(val)}\n            style={applyPanelStyle(\"pending\")}\n          />\n        </Paper>\n      </TabPanel>\n      <TabPanel value={tab} name=\"closed\" className={classes.ticketsWrapper}>\n        <TicketsList\n          status=\"closed\"\n          showAll={true}\n          selectedQueueIds={selectedQueueIds}\n        />\n      </TabPanel>\n      <TabPanel value={tab} name=\"search\" className={classes.ticketsWrapper}>\n        <TicketsList\n          searchParam={searchParam}\n          showAll={true}\n          selectedQueueIds={selectedQueueIds}\n        />\n      </TabPanel>\n    </Paper>\n  );\n};\n\nexport default TicketsManager;\n","import React from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport TicketsManager from \"../../components/TicketsManager/\";\nimport Ticket from \"../../components/Ticket/\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport Hidden from \"@material-ui/core/Hidden\";\n\nconst useStyles = makeStyles((theme) => ({\n  chatContainer: {\n    flex: 1,\n    // // backgroundColor: \"#eee\",\n    // padding: theme.spacing(4),\n    height: `calc(100% - 48px)`,\n    overflowY: \"hidden\",\n  },\n\n  chatPapper: {\n    // backgroundColor: \"red\",\n    display: \"flex\",\n    height: \"100%\",\n  },\n\n  contactsWrapper: {\n    display: \"flex\",\n    height: \"100%\",\n    flexDirection: \"column\",\n    overflowY: \"hidden\",\n  },\n  contactsWrapperSmall: {\n    display: \"flex\",\n    height: \"100%\",\n    flexDirection: \"column\",\n    overflowY: \"hidden\",\n    [theme.breakpoints.down(\"sm\")]: {\n      display: \"none\",\n    },\n  },\n  messagessWrapper: {\n    display: \"flex\",\n    height: \"100%\",\n    flexDirection: \"column\",\n  },\n  welcomeMsg: {\n    backgroundColor: \"#eee\",\n    display: \"flex\",\n    justifyContent: \"space-evenly\",\n    alignItems: \"center\",\n    height: \"100%\",\n    textAlign: \"center\",\n    borderRadius: 0,\n  },\n  ticketsManager: {},\n  ticketsManagerClosed: {\n    [theme.breakpoints.down(\"sm\")]: {\n      display: \"none\",\n    },\n  },\n}));\n\nconst Chat = () => {\n  const classes = useStyles();\n  const { ticketId } = useParams();\n\n  return (\n    <div className={classes.chatContainer}>\n      <div className={classes.chatPapper}>\n        <Grid container spacing={0}>\n          {/* <Grid item xs={4} className={classes.contactsWrapper}> */}\n          <Grid\n            item\n            xs={12}\n            md={4}\n            className={\n              ticketId ? classes.contactsWrapperSmall : classes.contactsWrapper\n            }\n          >\n            <TicketsManager />\n          </Grid>\n          <Grid item xs={12} md={8} className={classes.messagessWrapper}>\n            {/* <Grid item xs={8} className={classes.messagessWrapper}> */}\n            {ticketId ? (\n              <>\n                <Ticket />\n              </>\n            ) : (\n              <Hidden only={[\"sm\", \"xs\"]}>\n                <Paper className={classes.welcomeMsg}>\n                  {/* <Paper square variant=\"outlined\" className={classes.welcomeMsg}> */}\n                  <span>{i18n.t(\"chat.noTicketMessage\")}</span>\n                </Paper>\n              </Hidden>\n            )}\n          </Grid>\n        </Grid>\n      </div>\n    </div>\n  );\n};\n\nexport default Chat;\n","import React, { useState } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { useHistory } from \"react-router-dom\";\nimport { Link as RouterLink } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport { Formik, Form, Field } from \"formik\";\n\nimport {\n\tAvatar,\n\tButton,\n\tCssBaseline,\n\tTextField,\n\tGrid,\n\tBox,\n\tTypography,\n\tContainer,\n\tInputAdornment,\n\tIconButton,\n\tLink\n  } from '@material-ui/core';\n  \nimport { LockOutlined, Visibility, VisibilityOff } from '@material-ui/icons';\n  \nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\n\n// const Copyright = () => {\n// \treturn (\n// \t\t<Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n// \t\t\t{\"Copyleft \"}\n// \t\t\t<Link color=\"inherit\" href=\"https://github.com/canove\">\n// \t\t\t\tCanove\n// \t\t\t</Link>{\" \"}\n// \t\t\t{new Date().getFullYear()}\n// \t\t\t{\".\"}\n// \t\t</Typography>\n// \t);\n// };\n\nconst useStyles = makeStyles(theme => ({\n\tpaper: {\n\t\tmarginTop: theme.spacing(8),\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\talignItems: \"center\",\n\t},\n\tavatar: {\n\t\tmargin: theme.spacing(1),\n\t\tbackgroundColor: theme.palette.secondary.main,\n\t},\n\tform: {\n\t\twidth: \"100%\",\n\t\tmarginTop: theme.spacing(3),\n\t},\n\tsubmit: {\n\t\tmargin: theme.spacing(3, 0, 2),\n\t},\n}));\n\nconst UserSchema = Yup.object().shape({\n\tname: Yup.string()\n\t\t.min(2, \"Too Short!\")\n\t\t.max(50, \"Too Long!\")\n\t\t.required(\"Required\"),\n\tpassword: Yup.string().min(5, \"Too Short!\").max(50, \"Too Long!\"),\n\temail: Yup.string().email(\"Invalid email\").required(\"Required\"),\n});\n\nconst SignUp = () => {\n\tconst classes = useStyles();\n\tconst history = useHistory();\n\n\tconst initialState = { name: \"\", email: \"\", password: \"\" };\n\tconst [showPassword, setShowPassword] = useState(false);\n\tconst [user] = useState(initialState);\n\n\tconst handleSignUp = async values => {\n\t\ttry {\n\t\t\tawait api.post(\"/auth/signup\", values);\n\t\t\ttoast.success(i18n.t(\"signup.toasts.success\"));\n\t\t\thistory.push(\"/login\");\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\treturn (\n\t\t<Container component=\"main\" maxWidth=\"xs\">\n\t\t\t<CssBaseline />\n\t\t\t<div className={classes.paper}>\n\t\t\t\t<Avatar className={classes.avatar}>\n\t\t\t\t\t<LockOutlined />\n\t\t\t\t</Avatar>\n\t\t\t\t<Typography component=\"h1\" variant=\"h5\">\n\t\t\t\t\t{i18n.t(\"signup.title\")}\n\t\t\t\t</Typography>\n\t\t\t\t{/* <form className={classes.form} noValidate onSubmit={handleSignUp}> */}\n\t\t\t\t<Formik\n\t\t\t\t\tinitialValues={user}\n\t\t\t\t\tenableReinitialize={true}\n\t\t\t\t\tvalidationSchema={UserSchema}\n\t\t\t\t\tonSubmit={(values, actions) => {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\thandleSignUp(values);\n\t\t\t\t\t\t\tactions.setSubmitting(false);\n\t\t\t\t\t\t}, 400);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{({ touched, errors, isSubmitting }) => (\n\t\t\t\t\t\t<Form className={classes.form}>\n\t\t\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"name\"\n\t\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t\t\terror={touched.name && Boolean(errors.name)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.name && errors.name}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tid=\"name\"\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"signup.form.name\")}\n\t\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tid=\"email\"\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"signup.form.email\")}\n\t\t\t\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\t\t\t\terror={touched.email && Boolean(errors.email)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.email && errors.email}\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"email\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\t\t\t\tid=\"password\"\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"current-password\"\n\t\t\t\t\t\t\t\t\t\terror={touched.password && Boolean(errors.password)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.password && errors.password}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"signup.form.password\")}\n\t\t\t\t\t\t\t\t\t\ttype={showPassword ? 'text' : 'password'}\n\t\t\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position=\"end\">\n\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"toggle password visibility\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setShowPassword((e) => !e)}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{showPassword ? <VisibilityOff /> : <Visibility />}\n\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\tclassName={classes.submit}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{i18n.t(\"signup.buttons.submit\")}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<Grid container justify=\"flex-end\">\n\t\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\thref=\"#\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"body2\"\n\t\t\t\t\t\t\t\t\t\tcomponent={RouterLink}\n\t\t\t\t\t\t\t\t\t\tto=\"/login\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{i18n.t(\"signup.buttons.login\")}\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t)}\n\t\t\t\t</Formik>\n\t\t\t</div>\n\t\t\t<Box mt={5}>{/* <Copyright /> */}</Box>\n\t\t</Container>\n\t);\n};\n\nexport default SignUp;\n","import React, { useState, useContext } from \"react\";\nimport { Link as RouterLink } from \"react-router-dom\";\n\nimport {\n  Avatar,\n  Button,\n  CssBaseline,\n  TextField,\n  Grid,\n  Box,\n  Typography,\n  Container,\n  InputAdornment,\n  IconButton,\n  Link\n} from '@material-ui/core';\n\nimport { LockOutlined, Visibility, VisibilityOff } from '@material-ui/icons';\n\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\n// const Copyright = () => {\n// \treturn (\n// \t\t<Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n// \t\t\t{\"Copyleft \"}\n// \t\t\t<Link color=\"inherit\" href=\"https://github.com/canove\">\n// \t\t\t\tCanove\n// \t\t\t</Link>{\" \"}\n// \t\t\t{new Date().getFullYear()}\n// \t\t\t{\".\"}\n// \t\t</Typography>\n// \t);\n// };\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: \"100%\", // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\nconst Login = () => {\n  const classes = useStyles();\n\n  const [user, setUser] = useState({ email: \"\", password: \"\" });\n  const [showPassword, setShowPassword] = useState(false);\n\n  const { handleLogin } = useContext(AuthContext);\n\n  const handleChangeInput = (e) => {\n    setUser({ ...user, [e.target.name]: e.target.value });\n  };\n\n  const handlSubmit = (e) => {\n    e.preventDefault();\n    handleLogin(user);\n  };\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <CssBaseline />\n      <div className={classes.paper}>\n        <Avatar className={classes.avatar}>\n          <LockOutlined />\n        </Avatar>\n        <Typography component=\"h1\" variant=\"h5\">\n          {i18n.t(\"login.title\")}\n        </Typography>\n        <form className={classes.form} noValidate onSubmit={handlSubmit}>\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            id=\"email\"\n            label={i18n.t(\"login.form.email\")}\n            name=\"email\"\n            value={user.email}\n            onChange={handleChangeInput}\n            autoComplete=\"email\"\n            autoFocus\n          />\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            name=\"password\"\n            label={i18n.t(\"login.form.password\")}\n            id=\"password\"\n            value={user.password}\n            onChange={handleChangeInput}\n            autoComplete=\"current-password\"\n            type={showPassword ? 'text' : 'password'}\n            InputProps={{\n              endAdornment: (\n                <InputAdornment position=\"end\">\n                  <IconButton\n                    aria-label=\"toggle password visibility\"\n                    onClick={() => setShowPassword((e) => !e)}\n                  >\n                    {showPassword ? <VisibilityOff /> : <Visibility />}\n                  </IconButton>\n                </InputAdornment>\n              )\n            }}\n          />\n          <Button\n            type=\"submit\"\n            fullWidth\n            variant=\"contained\"\n            color=\"primary\"\n            className={classes.submit}\n          >\n            {i18n.t(\"login.buttons.submit\")}\n          </Button>\n          <Grid container>\n            <Grid item>\n              <Link\n                href=\"#\"\n                variant=\"body2\"\n                component={RouterLink}\n                to=\"/signup\"\n              >\n                {i18n.t(\"login.buttons.register\")}\n              </Link>\n            </Grid>\n          </Grid>\n        </form>\n      </div>\n      <Box mt={8}>{/* <Copyright /> */}</Box>\n    </Container>\n  );\n};\n\nexport default Login;\n","import React from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainContainer: {\n    flex: 1,\n    // padding: theme.spacing(2),\n    // height: `calc(100% - 48px)`,\n    padding: 0,\n    height: \"100%\",\n  },\n\n  contentWrapper: {\n    height: \"100%\",\n    overflowY: \"hidden\",\n    display: \"flex\",\n    flexDirection: \"column\",\n  },\n}));\n\nconst MainContainer = ({ children }) => {\n  const classes = useStyles();\n\n  return (\n    <Container className={classes.mainContainer} maxWidth={false}>\n      <div className={classes.contentWrapper}>{children}</div>\n    </Container>\n  );\n};\n\nexport default MainContainer;\n","import React from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles(theme => ({\n\tcontactsHeader: {\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tpadding: \"0px 6px 6px 6px\",\n\t},\n}));\n\nconst MainHeader = ({ children }) => {\n\tconst classes = useStyles();\n\n\treturn <div className={classes.contactsHeader}>{children}</div>;\n};\n\nexport default MainHeader;\n","import React from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles(theme => ({\n\tMainHeaderButtonsWrapper: {\n\t\tflex: \"none\",\n\t\tmarginLeft: \"auto\",\n\t\t\"& > *\": {\n\t\t\tmargin: theme.spacing(1),\n\t\t},\n\t},\n}));\n\nconst MainHeaderButtonsWrapper = ({ children }) => {\n\tconst classes = useStyles();\n\n\treturn <div className={classes.MainHeaderButtonsWrapper}>{children}</div>;\n};\n\nexport default MainHeaderButtonsWrapper;\n","import React from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\n\nexport default function Title(props) {\n\treturn (\n\t\t<Typography variant=\"h5\" color=\"primary\" gutterBottom>\n\t\t\t{props.children}\n\t\t</Typography>\n\t);\n}\n","import React from \"react\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Skeleton from \"@material-ui/lab/Skeleton\";\nimport { makeStyles } from \"@material-ui/core\";\n\nconst useStyles = makeStyles(theme => ({\n\tcustomTableCell: {\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"center\",\n\t},\n}));\n\nconst TableRowSkeleton = ({ avatar, columns }) => {\n\tconst classes = useStyles();\n\treturn (\n\t\t<>\n\t\t\t<TableRow>\n\t\t\t\t{avatar && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<TableCell style={{ paddingRight: 0 }}>\n\t\t\t\t\t\t\t<Skeleton\n\t\t\t\t\t\t\t\tanimation=\"wave\"\n\t\t\t\t\t\t\t\tvariant=\"circle\"\n\t\t\t\t\t\t\t\twidth={40}\n\t\t\t\t\t\t\t\theight={40}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t<Skeleton animation=\"wave\" height={30} width={80} />\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t\t{Array.from({ length: columns }, (_, index) => (\n\t\t\t\t\t<TableCell align=\"center\" key={index}>\n\t\t\t\t\t\t<div className={classes.customTableCell}>\n\t\t\t\t\t\t\t<Skeleton\n\t\t\t\t\t\t\t\talign=\"center\"\n\t\t\t\t\t\t\t\tanimation=\"wave\"\n\t\t\t\t\t\t\t\theight={30}\n\t\t\t\t\t\t\t\twidth={80}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</TableCell>\n\t\t\t\t))}\n\t\t\t</TableRow>\n\t\t</>\n\t);\n};\n\nexport default TableRowSkeleton;\n","import React, { useState, useEffect } from \"react\";\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\n\nimport {\n\tDialog,\n\tDialogContent,\n\tDialogTitle,\n\tButton,\n\tDialogActions,\n\tCircularProgress,\n\tTextField,\n\tSwitch,\n\tFormControlLabel,\n} from \"@material-ui/core\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport toastError from \"../../errors/toastError\";\nimport QueueSelect from \"../QueueSelect\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\n\tmultFieldLine: {\n\t\tdisplay: \"flex\",\n\t\t\"& > *:not(:last-child)\": {\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t},\n\n\tbtnWrapper: {\n\t\tposition: \"relative\",\n\t},\n\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n}));\n\nconst SessionSchema = Yup.object().shape({\n\tname: Yup.string()\n\t\t.min(2, \"Too Short!\")\n\t\t.max(50, \"Too Long!\")\n\t\t.required(\"Required\"),\n});\n\nconst WhatsAppModal = ({ open, onClose, whatsAppId }) => {\n\tconst classes = useStyles();\n\tconst initialState = {\n\t\tname: \"\",\n\t\tgreetingMessage: \"\",\n\t\tfarewellMessage: \"\",\n\t\tisDefault: false,\n\t};\n\tconst [whatsApp, setWhatsApp] = useState(initialState);\n\tconst [selectedQueueIds, setSelectedQueueIds] = useState([]);\n\n\tuseEffect(() => {\n\t\tconst fetchSession = async () => {\n\t\t\tif (!whatsAppId) return;\n\n\t\t\ttry {\n\t\t\t\tconst { data } = await api.get(`whatsapp/${whatsAppId}`);\n\t\t\t\tsetWhatsApp(data);\n\n\t\t\t\tconst whatsQueueIds = data.queues?.map(queue => queue.id);\n\t\t\t\tsetSelectedQueueIds(whatsQueueIds);\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t};\n\t\tfetchSession();\n\t}, [whatsAppId]);\n\n\tconst handleSaveWhatsApp = async values => {\n\t\tconst whatsappData = { ...values, queueIds: selectedQueueIds };\n\n\t\ttry {\n\t\t\tif (whatsAppId) {\n\t\t\t\tawait api.put(`/whatsapp/${whatsAppId}`, whatsappData);\n\t\t\t} else {\n\t\t\t\tawait api.post(\"/whatsapp\", whatsappData);\n\t\t\t}\n\t\t\ttoast.success(i18n.t(\"whatsappModal.success\"));\n\t\t\thandleClose();\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\tconst handleClose = () => {\n\t\tonClose();\n\t\tsetWhatsApp(initialState);\n\t};\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Dialog\n\t\t\t\topen={open}\n\t\t\t\tonClose={handleClose}\n\t\t\t\tmaxWidth=\"sm\"\n\t\t\t\tfullWidth\n\t\t\t\tscroll=\"paper\"\n\t\t\t>\n\t\t\t\t<DialogTitle>\n\t\t\t\t\t{whatsAppId\n\t\t\t\t\t\t? i18n.t(\"whatsappModal.title.edit\")\n\t\t\t\t\t\t: i18n.t(\"whatsappModal.title.add\")}\n\t\t\t\t</DialogTitle>\n\t\t\t\t<Formik\n\t\t\t\t\tinitialValues={whatsApp}\n\t\t\t\t\tenableReinitialize={true}\n\t\t\t\t\tvalidationSchema={SessionSchema}\n\t\t\t\t\tonSubmit={(values, actions) => {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\thandleSaveWhatsApp(values);\n\t\t\t\t\t\t\tactions.setSubmitting(false);\n\t\t\t\t\t\t}, 400);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{({ values, touched, errors, isSubmitting }) => (\n\t\t\t\t\t\t<Form>\n\t\t\t\t\t\t\t<DialogContent dividers>\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"whatsappModal.form.name\")}\n\t\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t\t\terror={touched.name && Boolean(errors.name)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.name && errors.name}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\tas={Switch}\n\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"isDefault\"\n\t\t\t\t\t\t\t\t\t\t\t\tchecked={values.isDefault}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"whatsappModal.form.default\")}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"queueModal.form.greetingMessage\")}\n\t\t\t\t\t\t\t\t\t\ttype=\"greetingMessage\"\n\t\t\t\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\t\t\t\trows={5}\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tname=\"greetingMessage\"\n\t\t\t\t\t\t\t\t\t\terror={\n\t\t\t\t\t\t\t\t\t\t\ttouched.greetingMessage && Boolean(errors.greetingMessage)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\t\t\ttouched.greetingMessage && errors.greetingMessage\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"whatsappModal.form.farewellMessage\")}\n\t\t\t\t\t\t\t\t\t\ttype=\"farewellMessage\"\n\t\t\t\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\t\t\t\trows={5}\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tname=\"farewellMessage\"\n\t\t\t\t\t\t\t\t\t\terror={\n\t\t\t\t\t\t\t\t\t\t\ttouched.farewellMessage && Boolean(errors.farewellMessage)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\t\t\ttouched.farewellMessage && errors.farewellMessage\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<QueueSelect\n\t\t\t\t\t\t\t\t\tselectedQueueIds={selectedQueueIds}\n\t\t\t\t\t\t\t\t\tonChange={selectedIds => setSelectedQueueIds(selectedIds)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</DialogContent>\n\t\t\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"whatsappModal.buttons.cancel\")}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{whatsAppId\n\t\t\t\t\t\t\t\t\t\t? i18n.t(\"whatsappModal.buttons.okEdit\")\n\t\t\t\t\t\t\t\t\t\t: i18n.t(\"whatsappModal.buttons.okAdd\")}\n\t\t\t\t\t\t\t\t\t{isSubmitting && (\n\t\t\t\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\t\t\t\tsize={24}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</DialogActions>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t)}\n\t\t\t\t</Formik>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n\nexport default React.memo(WhatsAppModal);\n","import React, { useEffect, useState } from \"react\";\nimport QRCode from \"qrcode.react\";\nimport openSocket from \"socket.io-client\";\nimport toastError from \"../../errors/toastError\";\n\nimport { Dialog, DialogContent, Paper, Typography } from \"@material-ui/core\";\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\n\nconst QrcodeModal = ({ open, onClose, whatsAppId }) => {\n\tconst [qrCode, setQrCode] = useState(\"\");\n\n\tuseEffect(() => {\n\t\tconst fetchSession = async () => {\n\t\t\tif (!whatsAppId) return;\n\n\t\t\ttry {\n\t\t\t\tconst { data } = await api.get(`/whatsapp/${whatsAppId}`);\n\t\t\t\tsetQrCode(data.qrcode);\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t};\n\t\tfetchSession();\n\t}, [whatsAppId]);\n\n\tuseEffect(() => {\n\t\tif (!whatsAppId) return;\n\t\tconst socket = openSocket(process.env.REACT_APP_BACKEND_URL);\n\n\t\tsocket.on(\"whatsappSession\", data => {\n\t\t\tif (data.action === \"update\" && data.session.id === whatsAppId) {\n\t\t\t\tsetQrCode(data.session.qrcode);\n\t\t\t}\n\n\t\t\tif (data.action === \"update\" && data.session.qrcode === \"\") {\n\t\t\t\tonClose();\n\t\t\t}\n\t\t});\n\n\t\treturn () => {\n\t\t\tsocket.disconnect();\n\t\t};\n\t}, [whatsAppId, onClose]);\n\n\treturn (\n\t\t<Dialog open={open} onClose={onClose} maxWidth=\"lg\" scroll=\"paper\">\n\t\t\t<DialogContent>\n\t\t\t\t<Paper elevation={0}>\n\t\t\t\t\t<Typography color=\"primary\" gutterBottom>\n\t\t\t\t\t\t{i18n.t(\"qrCode.message\")}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t{qrCode ? (\n\t\t\t\t\t\t<QRCode value={qrCode} size={256} />\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<span>Waiting for QR Code</span>\n\t\t\t\t\t)}\n\t\t\t\t</Paper>\n\t\t\t</DialogContent>\n\t\t</Dialog>\n\t);\n};\n\nexport default React.memo(QrcodeModal);\n","import React, { useState, useCallback, useContext } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport { format, parseISO } from \"date-fns\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport {\r\n\tButton,\r\n\tTableBody,\r\n\tTableRow,\r\n\tTableCell,\r\n\tIconButton,\r\n\tTable,\r\n\tTableHead,\r\n\tPaper,\r\n\tTooltip,\r\n\tTypography,\r\n\tCircularProgress,\r\n} from \"@material-ui/core\";\r\nimport {\r\n\tEdit,\r\n\tCheckCircle,\r\n\tSignalCellularConnectedNoInternet2Bar,\r\n\tSignalCellularConnectedNoInternet0Bar,\r\n\tSignalCellular4Bar,\r\n\tCropFree,\r\n\tDeleteOutline,\r\n} from \"@material-ui/icons\";\r\n\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\r\nimport Title from \"../../components/Title\";\r\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\r\n\r\nimport api from \"../../services/api\";\r\nimport WhatsAppModal from \"../../components/WhatsAppModal\";\r\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\r\nimport QrcodeModal from \"../../components/QrcodeModal\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport { WhatsAppsContext } from \"../../context/WhatsApp/WhatsAppsContext\";\r\nimport toastError from \"../../errors/toastError\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tmainPaper: {\r\n\t\tflex: 1,\r\n\t\tpadding: theme.spacing(1),\r\n\t\toverflowY: \"scroll\",\r\n\t\t...theme.scrollbarStyles,\r\n\t},\r\n\tcustomTableCell: {\r\n\t\tdisplay: \"flex\",\r\n\t\talignItems: \"center\",\r\n\t\tjustifyContent: \"center\",\r\n\t},\r\n\ttooltip: {\r\n\t\tbackgroundColor: \"#f5f5f9\",\r\n\t\tcolor: \"rgba(0, 0, 0, 0.87)\",\r\n\t\tfontSize: theme.typography.pxToRem(14),\r\n\t\tborder: \"1px solid #dadde9\",\r\n\t\tmaxWidth: 450,\r\n\t},\r\n\ttooltipPopper: {\r\n\t\ttextAlign: \"center\",\r\n\t},\r\n\tbuttonProgress: {\r\n\t\tcolor: green[500],\r\n\t},\r\n}));\r\n\r\nconst CustomToolTip = ({ title, content, children }) => {\r\n\tconst classes = useStyles();\r\n\r\n\treturn (\r\n\t\t<Tooltip\r\n\t\t\tarrow\r\n\t\t\tclasses={{\r\n\t\t\t\ttooltip: classes.tooltip,\r\n\t\t\t\tpopper: classes.tooltipPopper,\r\n\t\t\t}}\r\n\t\t\ttitle={\r\n\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t<Typography gutterBottom color=\"inherit\">\r\n\t\t\t\t\t\t{title}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t{content && <Typography>{content}</Typography>}\r\n\t\t\t\t</React.Fragment>\r\n\t\t\t}\r\n\t\t>\r\n\t\t\t{children}\r\n\t\t</Tooltip>\r\n\t);\r\n};\r\n\r\nconst Connections = () => {\r\n\tconst classes = useStyles();\r\n\r\n\tconst { whatsApps, loading } = useContext(WhatsAppsContext);\r\n\tconst [whatsAppModalOpen, setWhatsAppModalOpen] = useState(false);\r\n\tconst [qrModalOpen, setQrModalOpen] = useState(false);\r\n\tconst [selectedWhatsApp, setSelectedWhatsApp] = useState(null);\r\n\tconst [confirmModalOpen, setConfirmModalOpen] = useState(false);\r\n\tconst confirmationModalInitialState = {\r\n\t\taction: \"\",\r\n\t\ttitle: \"\",\r\n\t\tmessage: \"\",\r\n\t\twhatsAppId: \"\",\r\n\t\topen: false,\r\n\t};\r\n\tconst [confirmModalInfo, setConfirmModalInfo] = useState(\r\n\t\tconfirmationModalInitialState\r\n\t);\r\n\r\n\tconst handleStartWhatsAppSession = async whatsAppId => {\r\n\t\ttry {\r\n\t\t\tawait api.post(`/whatsappsession/${whatsAppId}`);\r\n\t\t} catch (err) {\r\n\t\t\ttoastError(err);\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleRequestNewQrCode = async whatsAppId => {\r\n\t\ttry {\r\n\t\t\tawait api.put(`/whatsappsession/${whatsAppId}`);\r\n\t\t} catch (err) {\r\n\t\t\ttoastError(err);\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleOpenWhatsAppModal = () => {\r\n\t\tsetSelectedWhatsApp(null);\r\n\t\tsetWhatsAppModalOpen(true);\r\n\t};\r\n\r\n\tconst handleCloseWhatsAppModal = useCallback(() => {\r\n\t\tsetWhatsAppModalOpen(false);\r\n\t\tsetSelectedWhatsApp(null);\r\n\t}, [setSelectedWhatsApp, setWhatsAppModalOpen]);\r\n\r\n\tconst handleOpenQrModal = whatsApp => {\r\n\t\tsetSelectedWhatsApp(whatsApp);\r\n\t\tsetQrModalOpen(true);\r\n\t};\r\n\r\n\tconst handleCloseQrModal = useCallback(() => {\r\n\t\tsetSelectedWhatsApp(null);\r\n\t\tsetQrModalOpen(false);\r\n\t}, [setQrModalOpen, setSelectedWhatsApp]);\r\n\r\n\tconst handleEditWhatsApp = whatsApp => {\r\n\t\tsetSelectedWhatsApp(whatsApp);\r\n\t\tsetWhatsAppModalOpen(true);\r\n\t};\r\n\r\n\tconst handleOpenConfirmationModal = (action, whatsAppId) => {\r\n\t\tif (action === \"disconnect\") {\r\n\t\t\tsetConfirmModalInfo({\r\n\t\t\t\taction: action,\r\n\t\t\t\ttitle: i18n.t(\"connections.confirmationModal.disconnectTitle\"),\r\n\t\t\t\tmessage: i18n.t(\"connections.confirmationModal.disconnectMessage\"),\r\n\t\t\t\twhatsAppId: whatsAppId,\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (action === \"delete\") {\r\n\t\t\tsetConfirmModalInfo({\r\n\t\t\t\taction: action,\r\n\t\t\t\ttitle: i18n.t(\"connections.confirmationModal.deleteTitle\"),\r\n\t\t\t\tmessage: i18n.t(\"connections.confirmationModal.deleteMessage\"),\r\n\t\t\t\twhatsAppId: whatsAppId,\r\n\t\t\t});\r\n\t\t}\r\n\t\tsetConfirmModalOpen(true);\r\n\t};\r\n\r\n\tconst handleSubmitConfirmationModal = async () => {\r\n\t\tif (confirmModalInfo.action === \"disconnect\") {\r\n\t\t\ttry {\r\n\t\t\t\tawait api.delete(`/whatsappsession/${confirmModalInfo.whatsAppId}`);\r\n\t\t\t} catch (err) {\r\n\t\t\t\ttoastError(err);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (confirmModalInfo.action === \"delete\") {\r\n\t\t\ttry {\r\n\t\t\t\tawait api.delete(`/whatsapp/${confirmModalInfo.whatsAppId}`);\r\n\t\t\t\ttoast.success(i18n.t(\"connections.toasts.deleted\"));\r\n\t\t\t} catch (err) {\r\n\t\t\t\ttoastError(err);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tsetConfirmModalInfo(confirmationModalInitialState);\r\n\t};\r\n\r\n\tconst renderActionButtons = whatsApp => {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t{whatsApp.status === \"qrcode\" && (\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\tonClick={() => handleOpenQrModal(whatsApp)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{i18n.t(\"connections.buttons.qrcode\")}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t)}\r\n\t\t\t\t{whatsApp.status === \"DISCONNECTED\" && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\tonClick={() => handleStartWhatsAppSession(whatsApp.id)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{i18n.t(\"connections.buttons.tryAgain\")}\r\n\t\t\t\t\t\t</Button>{\" \"}\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\tonClick={() => handleRequestNewQrCode(whatsApp.id)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{i18n.t(\"connections.buttons.newQr\")}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t\t{(whatsApp.status === \"CONNECTED\" ||\r\n\t\t\t\t\twhatsApp.status === \"PAIRING\" ||\r\n\t\t\t\t\twhatsApp.status === \"TIMEOUT\") && (\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\thandleOpenConfirmationModal(\"disconnect\", whatsApp.id);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{i18n.t(\"connections.buttons.disconnect\")}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t)}\r\n\t\t\t\t{whatsApp.status === \"OPENING\" && (\r\n\t\t\t\t\t<Button size=\"small\" variant=\"outlined\" disabled color=\"default\">\r\n\t\t\t\t\t\t{i18n.t(\"connections.buttons.connecting\")}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t)}\r\n\t\t\t</>\r\n\t\t);\r\n\t};\r\n\r\n\tconst renderStatusToolTips = whatsApp => {\r\n\t\treturn (\r\n\t\t\t<div className={classes.customTableCell}>\r\n\t\t\t\t{whatsApp.status === \"DISCONNECTED\" && (\r\n\t\t\t\t\t<CustomToolTip\r\n\t\t\t\t\t\ttitle={i18n.t(\"connections.toolTips.disconnected.title\")}\r\n\t\t\t\t\t\tcontent={i18n.t(\"connections.toolTips.disconnected.content\")}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<SignalCellularConnectedNoInternet0Bar color=\"secondary\" />\r\n\t\t\t\t\t</CustomToolTip>\r\n\t\t\t\t)}\r\n\t\t\t\t{whatsApp.status === \"OPENING\" && (\r\n\t\t\t\t\t<CircularProgress size={24} className={classes.buttonProgress} />\r\n\t\t\t\t)}\r\n\t\t\t\t{whatsApp.status === \"qrcode\" && (\r\n\t\t\t\t\t<CustomToolTip\r\n\t\t\t\t\t\ttitle={i18n.t(\"connections.toolTips.qrcode.title\")}\r\n\t\t\t\t\t\tcontent={i18n.t(\"connections.toolTips.qrcode.content\")}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<CropFree />\r\n\t\t\t\t\t</CustomToolTip>\r\n\t\t\t\t)}\r\n\t\t\t\t{whatsApp.status === \"CONNECTED\" && (\r\n\t\t\t\t\t<CustomToolTip title={i18n.t(\"connections.toolTips.connected.title\")}>\r\n\t\t\t\t\t\t<SignalCellular4Bar style={{ color: green[500] }} />\r\n\t\t\t\t\t</CustomToolTip>\r\n\t\t\t\t)}\r\n\t\t\t\t{(whatsApp.status === \"TIMEOUT\" || whatsApp.status === \"PAIRING\") && (\r\n\t\t\t\t\t<CustomToolTip\r\n\t\t\t\t\t\ttitle={i18n.t(\"connections.toolTips.timeout.title\")}\r\n\t\t\t\t\t\tcontent={i18n.t(\"connections.toolTips.timeout.content\")}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<SignalCellularConnectedNoInternet2Bar color=\"secondary\" />\r\n\t\t\t\t\t</CustomToolTip>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<MainContainer>\r\n\t\t\t<ConfirmationModal\r\n\t\t\t\ttitle={confirmModalInfo.title}\r\n\t\t\t\topen={confirmModalOpen}\r\n\t\t\t\tonClose={setConfirmModalOpen}\r\n\t\t\t\tonConfirm={handleSubmitConfirmationModal}\r\n\t\t\t>\r\n\t\t\t\t{confirmModalInfo.message}\r\n\t\t\t</ConfirmationModal>\r\n\t\t\t<QrcodeModal\r\n\t\t\t\topen={qrModalOpen}\r\n\t\t\t\tonClose={handleCloseQrModal}\r\n\t\t\t\twhatsAppId={!whatsAppModalOpen && selectedWhatsApp?.id}\r\n\t\t\t/>\r\n\t\t\t<WhatsAppModal\r\n\t\t\t\topen={whatsAppModalOpen}\r\n\t\t\t\tonClose={handleCloseWhatsAppModal}\r\n\t\t\t\twhatsAppId={!qrModalOpen && selectedWhatsApp?.id}\r\n\t\t\t/>\r\n\t\t\t<MainHeader>\r\n\t\t\t\t<Title>{i18n.t(\"connections.title\")}</Title>\r\n\t\t\t\t<MainHeaderButtonsWrapper>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\tonClick={handleOpenWhatsAppModal}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{i18n.t(\"connections.buttons.add\")}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</MainHeaderButtonsWrapper>\r\n\t\t\t</MainHeader>\r\n\t\t\t<Paper className={classes.mainPaper} variant=\"outlined\">\r\n\t\t\t\t<Table size=\"small\">\r\n\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t\t\t\t\tID\r\n\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t\t\t\t\t{i18n.t(\"connections.table.name\")}\r\n\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t\t\t\t\t{i18n.t(\"connections.table.status\")}\r\n\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t\t\t\t\t{i18n.t(\"connections.table.session\")}\r\n\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t\t\t\t\t{i18n.t(\"connections.table.lastUpdate\")}\r\n\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t\t\t\t\t{i18n.t(\"connections.table.default\")}\r\n\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t\t\t\t\t{i18n.t(\"connections.table.actions\")}\r\n\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t{loading ? (\r\n\t\t\t\t\t\t\t<TableRowSkeleton />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t{whatsApps?.length > 0 &&\r\n\t\t\t\t\t\t\t\t\twhatsApps.map(whatsApp => (\r\n\t\t\t\t\t\t\t\t\t\t<TableRow key={whatsApp.id}>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">{whatsApp.id}</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">{whatsApp.name}</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{renderStatusToolTips(whatsApp)}\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{renderActionButtons(whatsApp)}\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{format(parseISO(whatsApp.updatedAt), \"dd/MM/yy HH:mm\")}\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{whatsApp.isDefault && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className={classes.customTableCell}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CheckCircle style={{ color: green[500] }} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleEditWhatsApp(whatsApp)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Edit />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={e => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleOpenConfirmationModal(\"delete\", whatsApp.id);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<DeleteOutline />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</TableBody>\r\n\t\t\t\t</Table>\r\n\t\t\t</Paper>\r\n\t\t</MainContainer>\r\n\t);\r\n};\r\n\r\nexport default Connections;\r\n","import React, { useState, useEffect } from \"react\";\nimport openSocket from \"socket.io-client\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Container from \"@material-ui/core/Container\";\nimport Select from \"@material-ui/core/Select\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { toast } from \"react-toastify\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n.js\";\nimport toastError from \"../../errors/toastError\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tpadding: theme.spacing(8, 8, 3),\n\t},\n\n\tpaper: {\n\t\tpadding: theme.spacing(2),\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tmarginBottom: 12,\n\n\t},\n\n\tsettingOption: {\n\t\tmarginLeft: \"auto\",\n\t},\n\tmargin: {\n\t\tmargin: theme.spacing(1),\n\t},\n\n}));\n\nconst Settings = () => {\n\tconst classes = useStyles();\n\n\tconst [settings, setSettings] = useState([]);\n\n\tuseEffect(() => {\n\t\tconst fetchSession = async () => {\n\t\t\ttry {\n\t\t\t\tconst { data } = await api.get(\"/settings\");\n\t\t\t\tsetSettings(data);\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t};\n\t\tfetchSession();\n\t}, []);\n\n\tuseEffect(() => {\n\t\tconst socket = openSocket(process.env.REACT_APP_BACKEND_URL);\n\n\t\tsocket.on(\"settings\", data => {\n\t\t\tif (data.action === \"update\") {\n\t\t\t\tsetSettings(prevState => {\n\t\t\t\t\tconst aux = [...prevState];\n\t\t\t\t\tconst settingIndex = aux.findIndex(s => s.key === data.setting.key);\n\t\t\t\t\taux[settingIndex].value = data.setting.value;\n\t\t\t\t\treturn aux;\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\treturn () => {\n\t\t\tsocket.disconnect();\n\t\t};\n\t}, []);\n\n\tconst handleChangeSetting = async e => {\n\t\tconst selectedValue = e.target.value;\n\t\tconst settingKey = e.target.name;\n\n\t\ttry {\n\t\t\tawait api.put(`/settings/${settingKey}`, {\n\t\t\t\tvalue: selectedValue,\n\t\t\t});\n\t\t\ttoast.success(i18n.t(\"settings.success\"));\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\tconst getSettingValue = key => {\n\t\tconst { value } = settings.find(s => s.key === key);\n\t\treturn value;\n\t};\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Container className={classes.container} maxWidth=\"sm\">\n\t\t\t\t<Typography variant=\"body2\" gutterBottom>\n\t\t\t\t\t{i18n.t(\"settings.title\")}\n\t\t\t\t</Typography>\n\t\t\t\t<Paper className={classes.paper}>\n\t\t\t\t\t<Typography variant=\"body1\">\n\t\t\t\t\t\t{i18n.t(\"settings.settings.userCreation.name\")}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Select\n\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tnative\n\t\t\t\t\t\tid=\"userCreation-setting\"\n\t\t\t\t\t\tname=\"userCreation\"\n\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\tsettings && settings.length > 0 && getSettingValue(\"userCreation\")\n\t\t\t\t\t\t}\n\t\t\t\t\t\tclassName={classes.settingOption}\n\t\t\t\t\t\tonChange={handleChangeSetting}\n\t\t\t\t\t>\n\t\t\t\t\t\t<option value=\"enabled\">\n\t\t\t\t\t\t\t{i18n.t(\"settings.settings.userCreation.options.enabled\")}\n\t\t\t\t\t\t</option>\n\t\t\t\t\t\t<option value=\"disabled\">\n\t\t\t\t\t\t\t{i18n.t(\"settings.settings.userCreation.options.disabled\")}\n\t\t\t\t\t\t</option>\n\t\t\t\t\t</Select>\n\n\t\t\t\t</Paper>\n\n\t\t\t\t<Paper className={classes.paper}>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tid=\"api-token-setting\"\n\t\t\t\t\t\treadonly\n\t\t\t\t\t\tlabel=\"Token Api\"\n\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tvalue={settings && settings.length > 0 && getSettingValue(\"userApiToken\")}\n\t\t\t\t\t/>\n\t\t\t\t</Paper>\n\n\t\t\t</Container>\n\t\t</div>\n\t);\n};\n\nexport default Settings;\n","import React, { useState, useEffect, useReducer } from \"react\";\nimport { toast } from \"react-toastify\";\nimport openSocket from \"socket.io-client\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport UserModal from \"../../components/UserModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport toastError from \"../../errors/toastError\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_USERS\") {\n    const users = action.payload;\n    const newUsers = [];\n\n    users.forEach((user) => {\n      const userIndex = state.findIndex((u) => u.id === user.id);\n      if (userIndex !== -1) {\n        state[userIndex] = user;\n      } else {\n        newUsers.push(user);\n      }\n    });\n\n    return [...state, ...newUsers];\n  }\n\n  if (action.type === \"UPDATE_USERS\") {\n    const user = action.payload;\n    const userIndex = state.findIndex((u) => u.id === user.id);\n\n    if (userIndex !== -1) {\n      state[userIndex] = user;\n      return [...state];\n    } else {\n      return [user, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_USER\") {\n    const userId = action.payload;\n\n    const userIndex = state.findIndex((u) => u.id === userId);\n    if (userIndex !== -1) {\n      state.splice(userIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst Users = () => {\n  const classes = useStyles();\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [selectedUser, setSelectedUser] = useState(null);\n  const [deletingUser, setDeletingUser] = useState(null);\n  const [userModalOpen, setUserModalOpen] = useState(false);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [users, dispatch] = useReducer(reducer, []);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchUsers = async () => {\n        try {\n          const { data } = await api.get(\"/users/\", {\n            params: { searchParam, pageNumber },\n          });\n          dispatch({ type: \"LOAD_USERS\", payload: data.users });\n          setHasMore(data.hasMore);\n          setLoading(false);\n        } catch (err) {\n          toastError(err);\n        }\n      };\n      fetchUsers();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const socket = openSocket(process.env.REACT_APP_BACKEND_URL);\n\n    socket.on(\"user\", (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_USERS\", payload: data.user });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_USER\", payload: +data.userId });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  const handleOpenUserModal = () => {\n    setSelectedUser(null);\n    setUserModalOpen(true);\n  };\n\n  const handleCloseUserModal = () => {\n    setSelectedUser(null);\n    setUserModalOpen(false);\n  };\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleEditUser = (user) => {\n    setSelectedUser(user);\n    setUserModalOpen(true);\n  };\n\n  const handleDeleteUser = async (userId) => {\n    try {\n      await api.delete(`/users/${userId}`);\n      toast.success(i18n.t(\"users.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingUser(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={\n          deletingUser &&\n          `${i18n.t(\"users.confirmationModal.deleteTitle\")} ${\n            deletingUser.name\n          }?`\n        }\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={() => handleDeleteUser(deletingUser.id)}\n      >\n        {i18n.t(\"users.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <UserModal\n        open={userModalOpen}\n        onClose={handleCloseUserModal}\n        aria-labelledby=\"form-dialog-title\"\n        userId={selectedUser && selectedUser.id}\n      />\n      <MainHeader>\n        <Title>{i18n.t(\"users.title\")}</Title>\n        <MainHeaderButtonsWrapper>\n          <TextField\n            placeholder={i18n.t(\"contacts.searchPlaceholder\")}\n            type=\"search\"\n            value={searchParam}\n            onChange={handleSearch}\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <SearchIcon style={{ color: \"gray\" }} />\n                </InputAdornment>\n              ),\n            }}\n          />\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleOpenUserModal}\n          >\n            {i18n.t(\"users.buttons.add\")}\n          </Button>\n        </MainHeaderButtonsWrapper>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">{i18n.t(\"users.table.name\")}</TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"users.table.email\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"users.table.profile\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"users.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {users.map((user) => (\n                <TableRow key={user.id}>\n                  <TableCell align=\"center\">{user.name}</TableCell>\n                  <TableCell align=\"center\">{user.email}</TableCell>\n                  <TableCell align=\"center\">{user.profile}</TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => handleEditUser(user)}\n                    >\n                      <EditIcon />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={(e) => {\n                        setConfirmModalOpen(true);\n                        setDeletingUser(user);\n                      }}\n                    >\n                      <DeleteOutlineIcon />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={4} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Users;\n","import React, { useState, useEffect, useReducer, useContext } from \"react\";\nimport openSocket from \"socket.io-client\";\nimport { toast } from \"react-toastify\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport WhatsAppIcon from \"@material-ui/icons/WhatsApp\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nimport api from \"../../services/api\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport ContactModal from \"../../components/ContactModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal/\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport MainContainer from \"../../components/MainContainer\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { Can } from \"../../components/Can\";\n\nimport {CSVLink} from 'react-csv';\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_CONTACTS\") {\n    const contacts = action.payload;\n    const newContacts = [];\n\n    contacts.forEach((contact) => {\n      const contactIndex = state.findIndex((c) => c.id === contact.id);\n      if (contactIndex !== -1) {\n        state[contactIndex] = contact;\n      } else {\n        newContacts.push(contact);\n      }\n    });\n\n    return [...state, ...newContacts];\n  }\n\n  if (action.type === \"UPDATE_CONTACTS\") {\n    const contact = action.payload;\n    const contactIndex = state.findIndex((c) => c.id === contact.id);\n\n    if (contactIndex !== -1) {\n      state[contactIndex] = contact;\n      return [...state];\n    } else {\n      return [contact, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_CONTACT\") {\n    const contactId = action.payload;\n\n    const contactIndex = state.findIndex((c) => c.id === contactId);\n    if (contactIndex !== -1) {\n      state.splice(contactIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n  CSVLink:{\n    color: \"white\"\n  }\n}));\n\nconst Contacts = () => {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const { user } = useContext(AuthContext);\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [contacts, dispatch] = useReducer(reducer, []);\n  const [selectedContactId, setSelectedContactId] = useState(null);\n  const [contactModalOpen, setContactModalOpen] = useState(false);\n  const [deletingContact, setDeletingContact] = useState(null);\n  const [confirmOpen, setConfirmOpen] = useState(false);\n  const [hasMore, setHasMore] = useState(false);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchContacts = async () => {\n        try {\n          const { data } = await api.get(\"/contacts/\", {\n            params: { searchParam, pageNumber },\n          });\n          dispatch({ type: \"LOAD_CONTACTS\", payload: data.contacts });\n          setHasMore(data.hasMore);\n          setLoading(false);\n        } catch (err) {\n          toastError(err);\n        }\n      };\n      fetchContacts();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const socket = openSocket(process.env.REACT_APP_BACKEND_URL);\n\n    socket.on(\"contact\", (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_CONTACTS\", payload: data.contact });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_CONTACT\", payload: +data.contactId });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleOpenContactModal = () => {\n    setSelectedContactId(null);\n    setContactModalOpen(true);\n  };\n\n  const handleCloseContactModal = () => {\n    setSelectedContactId(null);\n    setContactModalOpen(false);\n  };\n\n  const handleSaveTicket = async (contactId) => {\n    if (!contactId) return;\n    setLoading(true);\n    try {\n      const { data: ticket } = await api.post(\"/tickets\", {\n        contactId: contactId,\n        userId: user?.id,\n        status: \"open\",\n      });\n      history.push(`/tickets/${ticket.id}`);\n    } catch (err) {\n      toastError(err);\n    }\n    setLoading(false);\n  };\n\n  const hadleEditContact = (contactId) => {\n    setSelectedContactId(contactId);\n    setContactModalOpen(true);\n  };\n\n  const handleDeleteContact = async (contactId) => {\n    try {\n      await api.delete(`/contacts/${contactId}`);\n      toast.success(i18n.t(\"contacts.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingContact(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n  };\n\n  const handleimportContact = async () => {\n    try {\n      await api.post(\"/contacts/import\");\n      history.go(0);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  return (\n    <MainContainer className={classes.mainContainer}>\n      <ContactModal\n        open={contactModalOpen}\n        onClose={handleCloseContactModal}\n        aria-labelledby=\"form-dialog-title\"\n        contactId={selectedContactId}\n      ></ContactModal>\n      <ConfirmationModal\n        title={\n          deletingContact\n            ? `${i18n.t(\"contacts.confirmationModal.deleteTitle\")} ${\n                deletingContact.name\n              }?`\n            : `${i18n.t(\"contacts.confirmationModal.importTitlte\")}`\n        }\n        open={confirmOpen}\n        onClose={setConfirmOpen}\n        onConfirm={(e) =>\n          deletingContact\n            ? handleDeleteContact(deletingContact.id)\n            : handleimportContact()\n        }\n      >\n        {deletingContact\n          ? `${i18n.t(\"contacts.confirmationModal.deleteMessage\")}`\n          : `${i18n.t(\"contacts.confirmationModal.importMessage\")}`}\n      </ConfirmationModal>\n      <MainHeader>\n        <Title>{i18n.t(\"contacts.title\")}</Title>\n        <MainHeaderButtonsWrapper>\n          <TextField\n            placeholder={i18n.t(\"contacts.searchPlaceholder\")}\n            type=\"search\"\n            value={searchParam}\n            onChange={handleSearch}\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <SearchIcon style={{ color: \"gray\" }} />\n                </InputAdornment>\n              ),\n            }}\n          />\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={(e) => setConfirmOpen(true)}\n          >\n            {i18n.t(\"contacts.buttons.import\")}\n          </Button>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleOpenContactModal}\n          >\n            {i18n.t(\"contacts.buttons.add\")}\n          </Button>\n            <CSVLink style={{ textDecoration:'none'}} separator=\";\" filename={'zdg.csv'} data={contacts.map((contact) => ({ name: contact.name, number: contact.number, email: contact.email }))}>\n              <Button\n              variant=\"contained\"\n              color=\"primary\">\n                EXPORTAR CONTATOS\n              </Button>\n            </CSVLink>\n        </MainHeaderButtonsWrapper>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell padding=\"checkbox\" />\n              <TableCell>{i18n.t(\"contacts.table.name\")}</TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"contacts.table.whatsapp\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"contacts.table.email\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"contacts.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {contacts.map((contact) => (\n                <TableRow key={contact.id}>\n                  <TableCell style={{ paddingRight: 0 }}>\n                    {<Avatar src={contact.profilePicUrl} />}\n                  </TableCell>\n                  <TableCell>{contact.name}</TableCell>\n                  <TableCell align=\"center\">{contact.number}</TableCell>\n                  <TableCell align=\"center\">{contact.email}</TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => handleSaveTicket(contact.id)}\n                    >\n                      <WhatsAppIcon />\n                    </IconButton>\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => hadleEditContact(contact.id)}\n                    >\n                      <EditIcon />\n                    </IconButton>\n                    <Can\n                      role={user.profile}\n                      perform=\"contacts-page:deleteContact\"\n                      yes={() => (\n                        <IconButton\n                          size=\"small\"\n                          onClick={(e) => {\n                            setConfirmOpen(true);\n                            setDeletingContact(contact);\n                          }}\n                        >\n                          <DeleteOutlineIcon />\n                        </IconButton>\n                      )}\n                    />\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton avatar columns={3} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Contacts;\n","import React, { useState, useEffect, useRef } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport {\n  makeStyles,\n  Button,\n  TextField,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  CircularProgress,\n} from \"@material-ui/core\";\nimport { green } from \"@material-ui/core/colors\";\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexWrap: \"wrap\",\n  },\n  textField: {\n    marginRight: theme.spacing(1),\n    width: \"100%\",\n  },\n\n  btnWrapper: {\n    position: \"relative\",\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12,\n  },\n  textQuickAnswerContainer: {\n    width: \"100%\",\n  },\n}));\n\nconst QuickAnswerSchema = Yup.object().shape({\n  shortcut: Yup.string()\n    .min(2, \"Too Short!\")\n    .max(15, \"Too Long!\")\n    .required(\"Required\"),\n  message: Yup.string()\n    .min(8, \"Too Short!\")\n    .max(30000, \"Too Long!\")\n    .required(\"Required\"),\n});\n\nconst QuickAnswersModal = ({\n  open,\n  onClose,\n  quickAnswerId,\n  initialValues,\n  onSave,\n}) => {\n  const classes = useStyles();\n  const isMounted = useRef(true);\n\n  const initialState = {\n    shortcut: \"\",\n    message: \"\",\n  };\n\n  const [quickAnswer, setQuickAnswer] = useState(initialState);\n\n  useEffect(() => {\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n  useEffect(() => {\n    const fetchQuickAnswer = async () => {\n      if (initialValues) {\n        setQuickAnswer((prevState) => {\n          return { ...prevState, ...initialValues };\n        });\n      }\n\n      if (!quickAnswerId) return;\n\n      try {\n        const { data } = await api.get(`/quickAnswers/${quickAnswerId}`);\n        if (isMounted.current) {\n          setQuickAnswer(data);\n        }\n      } catch (err) {\n        toastError(err);\n      }\n    };\n\n    fetchQuickAnswer();\n  }, [quickAnswerId, open, initialValues]);\n\n  const handleClose = () => {\n    onClose();\n    setQuickAnswer(initialState);\n  };\n\n  const handleSaveQuickAnswer = async (values) => {\n    try {\n      if (quickAnswerId) {\n        await api.put(`/quickAnswers/${quickAnswerId}`, values);\n        handleClose();\n      } else {\n        const { data } = await api.post(\"/quickAnswers\", values);\n        if (onSave) {\n          onSave(data);\n        }\n        handleClose();\n      }\n      toast.success(i18n.t(\"quickAnswersModal.success\"));\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  return (\n    <div className={classes.root}>\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        maxWidth=\"sm\"\n        fullWidth\n        scroll=\"paper\"\n      >\n        <DialogTitle id=\"form-dialog-title\">\n          {quickAnswerId\n            ? `${i18n.t(\"quickAnswersModal.title.edit\")}`\n            : `${i18n.t(\"quickAnswersModal.title.add\")}`}\n        </DialogTitle>\n        <Formik\n          initialValues={quickAnswer}\n          enableReinitialize={true}\n          validationSchema={QuickAnswerSchema}\n          onSubmit={(values, actions) => {\n            setTimeout(() => {\n              handleSaveQuickAnswer(values);\n              actions.setSubmitting(false);\n            }, 400);\n          }}\n        >\n          {({ values, errors, touched, isSubmitting }) => (\n            <Form>\n              <DialogContent dividers>\n                <div className={classes.textQuickAnswerContainer}>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"quickAnswersModal.form.shortcut\")}\n                    name=\"shortcut\"\n                    autoFocus\n                    error={touched.shortcut && Boolean(errors.shortcut)}\n                    helperText={touched.shortcut && errors.shortcut}\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                    className={classes.textField}\n                    fullWidth\n                  />\n                </div>\n                <div className={classes.textQuickAnswerContainer}>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"quickAnswersModal.form.message\")}\n                    name=\"message\"\n                    error={touched.message && Boolean(errors.message)}\n                    helperText={touched.message && errors.message}\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                    className={classes.textField}\n                    multiline\n                    rows={5}\n                    fullWidth\n                  />\n                </div>\n              </DialogContent>\n              <DialogActions>\n                <Button\n                  onClick={handleClose}\n                  color=\"secondary\"\n                  disabled={isSubmitting}\n                  variant=\"outlined\"\n                >\n                  {i18n.t(\"quickAnswersModal.buttons.cancel\")}\n                </Button>\n                <Button\n                  type=\"submit\"\n                  color=\"primary\"\n                  disabled={isSubmitting}\n                  variant=\"contained\"\n                  className={classes.btnWrapper}\n                >\n                  {quickAnswerId\n                    ? `${i18n.t(\"quickAnswersModal.buttons.okEdit\")}`\n                    : `${i18n.t(\"quickAnswersModal.buttons.okAdd\")}`}\n                  {isSubmitting && (\n                    <CircularProgress\n                      size={24}\n                      className={classes.buttonProgress}\n                    />\n                  )}\n                </Button>\n              </DialogActions>\n            </Form>\n          )}\n        </Formik>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default QuickAnswersModal;\n","import React, { useState, useEffect, useReducer } from \"react\";\nimport openSocket from \"socket.io-client\";\n\nimport {\n  Button,\n  IconButton,\n  makeStyles,\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n  InputAdornment,\n  TextField,\n} from \"@material-ui/core\";\nimport { Edit, DeleteOutline } from \"@material-ui/icons\";\nimport SearchIcon from \"@material-ui/icons/Search\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport QuickAnswersModal from \"../../components/QuickAnswersModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport { toast } from \"react-toastify\";\nimport toastError from \"../../errors/toastError\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_QUICK_ANSWERS\") {\n    const quickAnswers = action.payload;\n    const newQuickAnswers = [];\n\n    quickAnswers.forEach((quickAnswer) => {\n      const quickAnswerIndex = state.findIndex((q) => q.id === quickAnswer.id);\n      if (quickAnswerIndex !== -1) {\n        state[quickAnswerIndex] = quickAnswer;\n      } else {\n        newQuickAnswers.push(quickAnswer);\n      }\n    });\n\n    return [...state, ...newQuickAnswers];\n  }\n\n  if (action.type === \"UPDATE_QUICK_ANSWERS\") {\n    const quickAnswer = action.payload;\n    const quickAnswerIndex = state.findIndex((q) => q.id === quickAnswer.id);\n\n    if (quickAnswerIndex !== -1) {\n      state[quickAnswerIndex] = quickAnswer;\n      return [...state];\n    } else {\n      return [quickAnswer, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_QUICK_ANSWERS\") {\n    const quickAnswerId = action.payload;\n\n    const quickAnswerIndex = state.findIndex((q) => q.id === quickAnswerId);\n    if (quickAnswerIndex !== -1) {\n      state.splice(quickAnswerIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst QuickAnswers = () => {\n  const classes = useStyles();\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [quickAnswers, dispatch] = useReducer(reducer, []);\n  const [selectedQuickAnswers, setSelectedQuickAnswers] = useState(null);\n  const [quickAnswersModalOpen, setQuickAnswersModalOpen] = useState(false);\n  const [deletingQuickAnswers, setDeletingQuickAnswers] = useState(null);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [hasMore, setHasMore] = useState(false);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchQuickAnswers = async () => {\n        try {\n          const { data } = await api.get(\"/quickAnswers/\", {\n            params: { searchParam, pageNumber },\n          });\n          dispatch({ type: \"LOAD_QUICK_ANSWERS\", payload: data.quickAnswers });\n          setHasMore(data.hasMore);\n          setLoading(false);\n        } catch (err) {\n          toastError(err);\n        }\n      };\n      fetchQuickAnswers();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const socket = openSocket(process.env.REACT_APP_BACKEND_URL);\n\n    socket.on(\"quickAnswer\", (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_QUICK_ANSWERS\", payload: data.quickAnswer });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({\n          type: \"DELETE_QUICK_ANSWERS\",\n          payload: +data.quickAnswerId,\n        });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleOpenQuickAnswersModal = () => {\n    setSelectedQuickAnswers(null);\n    setQuickAnswersModalOpen(true);\n  };\n\n  const handleCloseQuickAnswersModal = () => {\n    setSelectedQuickAnswers(null);\n    setQuickAnswersModalOpen(false);\n  };\n\n  const handleEditQuickAnswers = (quickAnswer) => {\n    setSelectedQuickAnswers(quickAnswer);\n    setQuickAnswersModalOpen(true);\n  };\n\n  const handleDeleteQuickAnswers = async (quickAnswerId) => {\n    try {\n      await api.delete(`/quickAnswers/${quickAnswerId}`);\n      toast.success(i18n.t(\"quickAnswers.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingQuickAnswers(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={\n          deletingQuickAnswers &&\n          `${i18n.t(\"quickAnswers.confirmationModal.deleteTitle\")} ${\n            deletingQuickAnswers.shortcut\n          }?`\n        }\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={() => handleDeleteQuickAnswers(deletingQuickAnswers.id)}\n      >\n        {i18n.t(\"quickAnswers.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <QuickAnswersModal\n        open={quickAnswersModalOpen}\n        onClose={handleCloseQuickAnswersModal}\n        aria-labelledby=\"form-dialog-title\"\n        quickAnswerId={selectedQuickAnswers && selectedQuickAnswers.id}\n      ></QuickAnswersModal>\n      <MainHeader>\n        <Title>{i18n.t(\"quickAnswers.title\")}</Title>\n        <MainHeaderButtonsWrapper>\n          <TextField\n            placeholder={i18n.t(\"quickAnswers.searchPlaceholder\")}\n            type=\"search\"\n            value={searchParam}\n            onChange={handleSearch}\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <SearchIcon style={{ color: \"gray\" }} />\n                </InputAdornment>\n              ),\n            }}\n          />\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleOpenQuickAnswersModal}\n          >\n            {i18n.t(\"quickAnswers.buttons.add\")}\n          </Button>\n        </MainHeaderButtonsWrapper>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">\n                {i18n.t(\"quickAnswers.table.shortcut\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"quickAnswers.table.message\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"quickAnswers.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {quickAnswers.map((quickAnswer) => (\n                <TableRow key={quickAnswer.id}>\n                  <TableCell align=\"center\">{quickAnswer.shortcut}</TableCell>\n                  <TableCell align=\"center\">{quickAnswer.message}</TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => handleEditQuickAnswers(quickAnswer)}\n                    >\n                      <Edit />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={(e) => {\n                        setConfirmModalOpen(true);\n                        setDeletingQuickAnswers(quickAnswer);\n                      }}\n                    >\n                      <DeleteOutline />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={3} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default QuickAnswers;\n","import { Dialog } from \"@material-ui/core\";\nimport React, { useState } from \"react\";\n\nimport { GithubPicker } from \"react-color\";\n\nconst ColorPicker = ({ onChange, currentColor, handleClose, open }) => {\n  const [selectedColor, setSelectedColor] = useState(currentColor);\n  const colors = [\n    \"#B80000\",\n    \"#DB3E00\",\n    \"#FCCB00\",\n    \"#008B02\",\n    \"#006B76\",\n    \"#1273DE\",\n    \"#004DCF\",\n    \"#5300EB\",\n    \"#EB9694\",\n    \"#FAD0C3\",\n    \"#FEF3BD\",\n    \"#C1E1C5\",\n    \"#BEDADC\",\n    \"#C4DEF6\",\n    \"#BED3F3\",\n    \"#D4C4FB\",\n    \"#4D4D4D\",\n    \"#999999\",\n    \"#FFFFFF\",\n    \"#F44E3B\",\n    \"#FE9200\",\n    \"#FCDC00\",\n    \"#DBDF00\",\n    \"#A4DD00\",\n    \"#68CCCA\",\n    \"#73D8FF\",\n    \"#AEA1FF\",\n    \"#FDA1FF\",\n    \"#333333\",\n    \"#808080\",\n    \"#cccccc\",\n    \"#D33115\",\n    \"#E27300\",\n    \"#FCC400\",\n    \"#B0BC00\",\n    \"#68BC00\",\n    \"#16A5A5\",\n    \"#009CE0\",\n    \"#7B64FF\",\n    \"#FA28FF\",\n    \"#666666\",\n    \"#B3B3B3\",\n    \"#9F0500\",\n    \"#C45100\",\n    \"#FB9E00\",\n    \"#808900\",\n    \"#194D33\",\n    \"#0C797D\",\n    \"#0062B1\",\n    \"#653294\",\n    \"#AB149E\",\n  ];\n\n  const handleChange = (color) => {\n    setSelectedColor(color.hex);\n    handleClose();\n  };\n\n  return (\n    <Dialog\n      onClose={handleClose}\n      aria-labelledby=\"simple-dialog-title\"\n      open={open}\n      maxWidth=\"xs\"\n      paperFullWidth\n    >\n      <GithubPicker\n        width={\"100%\"}\n        triangle=\"hide\"\n        color={selectedColor}\n        colors={colors}\n        onChange={handleChange}\n        onChangeComplete={(color) => onChange(color.hex)}\n      />\n    </Dialog>\n  );\n};\n\nexport default ColorPicker;\n","import React, { useState, useEffect, useRef } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport ColorPicker from \"../ColorPicker\";\nimport { IconButton, InputAdornment } from \"@material-ui/core\";\nimport { Colorize } from \"@material-ui/icons\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\ttextField: {\n\t\tmarginRight: theme.spacing(1),\n\t\tflex: 1,\n\t},\n\n\tbtnWrapper: {\n\t\tposition: \"relative\",\n\t},\n\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n\tformControl: {\n\t\tmargin: theme.spacing(1),\n\t\tminWidth: 120,\n\t},\n\tcolorAdorment: {\n\t\twidth: 20,\n\t\theight: 20,\n\t},\n}));\n\nconst QueueSchema = Yup.object().shape({\n\tname: Yup.string()\n\t\t.min(2, \"Too Short!\")\n\t\t.max(50, \"Too Long!\")\n\t\t.required(\"Required\"),\n\tcolor: Yup.string().min(3, \"Too Short!\").max(9, \"Too Long!\").required(),\n\tgreetingMessage: Yup.string(),\n});\n\nconst QueueModal = ({ open, onClose, queueId }) => {\n\tconst classes = useStyles();\n\n\tconst initialState = {\n\t\tname: \"\",\n\t\tcolor: \"\",\n\t\tgreetingMessage: \"\",\n\t};\n\n\tconst [colorPickerModalOpen, setColorPickerModalOpen] = useState(false);\n\tconst [queue, setQueue] = useState(initialState);\n\tconst greetingRef = useRef();\n\n\tuseEffect(() => {\n\t\t(async () => {\n\t\t\tif (!queueId) return;\n\t\t\ttry {\n\t\t\t\tconst { data } = await api.get(`/queue/${queueId}`);\n\t\t\t\tsetQueue(prevState => {\n\t\t\t\t\treturn { ...prevState, ...data };\n\t\t\t\t});\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t})();\n\n\t\treturn () => {\n\t\t\tsetQueue({\n\t\t\t\tname: \"\",\n\t\t\t\tcolor: \"\",\n\t\t\t\tgreetingMessage: \"\",\n\t\t\t});\n\t\t};\n\t}, [queueId, open]);\n\n\tconst handleClose = () => {\n\t\tonClose();\n\t\tsetQueue(initialState);\n\t};\n\n\tconst handleSaveQueue = async values => {\n\t\ttry {\n\t\t\tif (queueId) {\n\t\t\t\tawait api.put(`/queue/${queueId}`, values);\n\t\t\t} else {\n\t\t\t\tawait api.post(\"/queue\", values);\n\t\t\t}\n\t\t\ttoast.success(\"Queue saved successfully\");\n\t\t\thandleClose();\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Dialog open={open} onClose={handleClose} scroll=\"paper\">\n\t\t\t\t<DialogTitle>\n\t\t\t\t\t{queueId\n\t\t\t\t\t\t? `${i18n.t(\"queueModal.title.edit\")}`\n\t\t\t\t\t\t: `${i18n.t(\"queueModal.title.add\")}`}\n\t\t\t\t</DialogTitle>\n\t\t\t\t<Formik\n\t\t\t\t\tinitialValues={queue}\n\t\t\t\t\tenableReinitialize={true}\n\t\t\t\t\tvalidationSchema={QueueSchema}\n\t\t\t\t\tonSubmit={(values, actions) => {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\thandleSaveQueue(values);\n\t\t\t\t\t\t\tactions.setSubmitting(false);\n\t\t\t\t\t\t}, 400);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{({ touched, errors, isSubmitting, values }) => (\n\t\t\t\t\t\t<Form>\n\t\t\t\t\t\t\t<DialogContent dividers>\n\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"queueModal.form.name\")}\n\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t\terror={touched.name && Boolean(errors.name)}\n\t\t\t\t\t\t\t\t\thelperText={touched.name && errors.name}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"queueModal.form.color\")}\n\t\t\t\t\t\t\t\t\tname=\"color\"\n\t\t\t\t\t\t\t\t\tid=\"color\"\n\t\t\t\t\t\t\t\t\tonFocus={() => {\n\t\t\t\t\t\t\t\t\t\tsetColorPickerModalOpen(true);\n\t\t\t\t\t\t\t\t\t\tgreetingRef.current.focus();\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\terror={touched.color && Boolean(errors.color)}\n\t\t\t\t\t\t\t\t\thelperText={touched.color && errors.color}\n\t\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\t\tstartAdornment: (\n\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position=\"start\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: values.color }}\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.colorAdorment}\n\t\t\t\t\t\t\t\t\t\t\t\t></div>\n\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"default\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setColorPickerModalOpen(true)}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<Colorize />\n\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<ColorPicker\n\t\t\t\t\t\t\t\t\topen={colorPickerModalOpen}\n\t\t\t\t\t\t\t\t\thandleClose={() => setColorPickerModalOpen(false)}\n\t\t\t\t\t\t\t\t\tonChange={color => {\n\t\t\t\t\t\t\t\t\t\tvalues.color = color;\n\t\t\t\t\t\t\t\t\t\tsetQueue(() => {\n\t\t\t\t\t\t\t\t\t\t\treturn { ...values, color };\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"queueModal.form.greetingMessage\")}\n\t\t\t\t\t\t\t\t\t\ttype=\"greetingMessage\"\n\t\t\t\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\t\t\t\tinputRef={greetingRef}\n\t\t\t\t\t\t\t\t\t\trows={5}\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tname=\"greetingMessage\"\n\t\t\t\t\t\t\t\t\t\terror={\n\t\t\t\t\t\t\t\t\t\t\ttouched.greetingMessage && Boolean(errors.greetingMessage)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\t\t\ttouched.greetingMessage && errors.greetingMessage\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</DialogContent>\n\t\t\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"queueModal.buttons.cancel\")}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{queueId\n\t\t\t\t\t\t\t\t\t\t? `${i18n.t(\"queueModal.buttons.okEdit\")}`\n\t\t\t\t\t\t\t\t\t\t: `${i18n.t(\"queueModal.buttons.okAdd\")}`}\n\t\t\t\t\t\t\t\t\t{isSubmitting && (\n\t\t\t\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\t\t\t\tsize={24}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</DialogActions>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t)}\n\t\t\t\t</Formik>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n\nexport default QueueModal;\n","import React, { useEffect, useReducer, useState } from \"react\";\n\nimport openSocket from \"socket.io-client\";\n\nimport {\n  Button,\n  IconButton,\n  makeStyles,\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n  Typography,\n} from \"@material-ui/core\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport Title from \"../../components/Title\";\nimport { i18n } from \"../../translate/i18n\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\nimport { DeleteOutline, Edit } from \"@material-ui/icons\";\nimport QueueModal from \"../../components/QueueModal\";\nimport { toast } from \"react-toastify\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n  customTableCell: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n}));\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_QUEUES\") {\n    const queues = action.payload;\n    const newQueues = [];\n\n    queues.forEach((queue) => {\n      const queueIndex = state.findIndex((q) => q.id === queue.id);\n      if (queueIndex !== -1) {\n        state[queueIndex] = queue;\n      } else {\n        newQueues.push(queue);\n      }\n    });\n\n    return [...state, ...newQueues];\n  }\n\n  if (action.type === \"UPDATE_QUEUES\") {\n    const queue = action.payload;\n    const queueIndex = state.findIndex((u) => u.id === queue.id);\n\n    if (queueIndex !== -1) {\n      state[queueIndex] = queue;\n      return [...state];\n    } else {\n      return [queue, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_QUEUE\") {\n    const queueId = action.payload;\n    const queueIndex = state.findIndex((q) => q.id === queueId);\n    if (queueIndex !== -1) {\n      state.splice(queueIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst Queues = () => {\n  const classes = useStyles();\n\n  const [queues, dispatch] = useReducer(reducer, []);\n  const [loading, setLoading] = useState(false);\n\n  const [queueModalOpen, setQueueModalOpen] = useState(false);\n  const [selectedQueue, setSelectedQueue] = useState(null);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n\n  useEffect(() => {\n    (async () => {\n      setLoading(true);\n      try {\n        const { data } = await api.get(\"/queue\");\n        dispatch({ type: \"LOAD_QUEUES\", payload: data });\n\n        setLoading(false);\n      } catch (err) {\n        toastError(err);\n        setLoading(false);\n      }\n    })();\n  }, []);\n\n  useEffect(() => {\n    const socket = openSocket(process.env.REACT_APP_BACKEND_URL);\n\n    socket.on(\"queue\", (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_QUEUES\", payload: data.queue });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_QUEUE\", payload: data.queueId });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  const handleOpenQueueModal = () => {\n    setQueueModalOpen(true);\n    setSelectedQueue(null);\n  };\n\n  const handleCloseQueueModal = () => {\n    setQueueModalOpen(false);\n    setSelectedQueue(null);\n  };\n\n  const handleEditQueue = (queue) => {\n    setSelectedQueue(queue);\n    setQueueModalOpen(true);\n  };\n\n  const handleCloseConfirmationModal = () => {\n    setConfirmModalOpen(false);\n    setSelectedQueue(null);\n  };\n\n  const handleDeleteQueue = async (queueId) => {\n    try {\n      await api.delete(`/queue/${queueId}`);\n      toast.success(i18n.t(\"Queue deleted successfully!\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setSelectedQueue(null);\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={\n          selectedQueue &&\n          `${i18n.t(\"queues.confirmationModal.deleteTitle\")} ${\n            selectedQueue.name\n          }?`\n        }\n        open={confirmModalOpen}\n        onClose={handleCloseConfirmationModal}\n        onConfirm={() => handleDeleteQueue(selectedQueue.id)}\n      >\n        {i18n.t(\"queues.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <QueueModal\n        open={queueModalOpen}\n        onClose={handleCloseQueueModal}\n        queueId={selectedQueue?.id}\n      />\n      <MainHeader>\n        <Title>{i18n.t(\"queues.title\")}</Title>\n        <MainHeaderButtonsWrapper>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleOpenQueueModal}\n          >\n            {i18n.t(\"queues.buttons.add\")}\n          </Button>\n        </MainHeaderButtonsWrapper>\n      </MainHeader>\n      <Paper className={classes.mainPaper} variant=\"outlined\">\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">\n                {i18n.t(\"queues.table.name\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"queues.table.color\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"queues.table.greeting\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"queues.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {queues.map((queue) => (\n                <TableRow key={queue.id}>\n                  <TableCell align=\"center\">{queue.name}</TableCell>\n                  <TableCell align=\"center\">\n                    <div className={classes.customTableCell}>\n                      <span\n                        style={{\n                          backgroundColor: queue.color,\n                          width: 60,\n                          height: 20,\n                          alignSelf: \"center\",\n                        }}\n                      />\n                    </div>\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    <div className={classes.customTableCell}>\n                      <Typography\n                        style={{ width: 300, align: \"center\" }}\n                        noWrap\n                        variant=\"body2\"\n                      >\n                        {queue.greetingMessage}\n                      </Typography>\n                    </div>\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => handleEditQueue(queue)}\n                    >\n                      <Edit />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => {\n                        setSelectedQueue(queue);\n                        setConfirmModalOpen(true);\n                      }}\n                    >\n                      <DeleteOutline />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={4} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Queues;\n","import React, { useEffect } from \"react\";\nimport openSocket from \"socket.io-client\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tpadding: theme.spacing(1)\n\t},\n\n\tpaper: {\n\t\tpadding: theme.spacing(2),\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t},\n\n\tsettingOption: {\n\t\tmarginLeft: \"auto\",\n\t},\n\tmargin: {\n\t\tmargin: theme.spacing(1),\n\t},\n}));\n\n\nconst Chatbot = () => {\n\tconst classes = useStyles();\n\n\tuseEffect(() => {\n\t\tconst socket = openSocket(process.env.REACT_APP_BACKEND_URL);\n\t\treturn () => {\n\t\t\tsocket.disconnect();\n\t\t};\n\t}, []);\n\n\treturn (\n\t\t<div className={classes.root}> \n\t\t<iframe title=\"Chatbot\" src='https://wzapbotapp.whatscontabil.com.br' height='800' width='100%' frameBorder=\"0\"/>  \n\t\t</div>\n\t);\n};\n\nexport default Chatbot;\n","import React, { useContext } from \"react\";\nimport { Route as RouterRoute, Redirect } from \"react-router-dom\";\n\nimport { AuthContext } from \"../context/Auth/AuthContext\";\nimport BackdropLoading from \"../components/BackdropLoading\";\n\nconst Route = ({ component: Component, isPrivate = false, ...rest }) => {\n  const { isAuth, loading } = useContext(AuthContext);\n\n  if (!isAuth && isPrivate) {\n    return (\n      <>\n        {loading && <BackdropLoading />}\n        <Redirect to={{ pathname: \"/login\", state: { from: rest.location } }} />\n      </>\n    );\n  }\n\n  if (isAuth && !isPrivate) {\n    return (\n      <>\n        {loading && <BackdropLoading />}\n        <Redirect to={{ pathname: \"/\", state: { from: rest.location } }} />;\n      </>\n    );\n  }\n\n  return (\n    <>\n      {loading && <BackdropLoading />}\n      <RouterRoute {...rest} component={Component} />\n    </>\n  );\n};\n\nexport default Route;\n","import React from \"react\";\nimport { BrowserRouter, Switch } from \"react-router-dom\";\nimport { ToastContainer } from \"react-toastify\";\n\nimport LoggedInLayout from \"../layout\";\nimport Dashboard from \"../pages/Dashboard/\";\nimport Tickets from \"../pages/Tickets/\";\nimport Signup from \"../pages/Signup/\";\nimport Login from \"../pages/Login/\";\nimport Connections from \"../pages/Connections/\";\nimport Settings from \"../pages/Settings/\";\nimport Users from \"../pages/Users\";\nimport Contacts from \"../pages/Contacts/\";\nimport QuickAnswers from \"../pages/QuickAnswers/\";\nimport Queues from \"../pages/Queues/\";\nimport ZDG from \"../pages/ZDG/\";\nimport ZDGMedia from \"../pages/ZDGMedia/\";\nimport ZDGGroups from \"../pages/ZDGGroups/\";\nimport InstaDirect from \"../pages/InstaDirect/\";\nimport SMS from \"../pages/SMS/\";\nimport VoiceCall from \"../pages/VoiceCall/\";\nimport Chatbot from \"../pages/ZDGChatbot\";\nimport ZDGHistorico from \"../pages/ZDGHistorico\";\nimport ZDGAgendamento from \"../pages/ZDGAgendamento\";\nimport { AuthProvider } from \"../context/Auth/AuthContext\";\nimport { WhatsAppsProvider } from \"../context/WhatsApp/WhatsAppsContext\";\nimport Route from \"./Route\";\n\nconst Routes = () => {\n  return (\n    <BrowserRouter>\n      <AuthProvider>\n        <Switch>\n          <Route exact path=\"/login\" component={Login} />\n          <Route exact path=\"/signup\" component={Signup} />\n          <WhatsAppsProvider>\n            <LoggedInLayout>\n              <Route exact path=\"/\" component={Dashboard} isPrivate />\n              <Route\n                exact\n                path=\"/tickets/:ticketId?\"\n                component={Tickets}\n                isPrivate\n              />\n              <Route\n                exact\n                path=\"/connections\"\n                component={Connections}\n                isPrivate\n              />\n              <Route exact path=\"/contacts\" component={Contacts} isPrivate />\n              <Route exact path=\"/users\" component={Users} isPrivate />\n              <Route\n                exact\n                path=\"/quickAnswers\"\n                component={QuickAnswers}\n                isPrivate\n              />\n              <Route exact path=\"/Settings\" component={Settings} isPrivate />\n              <Route exact path=\"/Queues\" component={Queues} isPrivate />\n              <Route exact path=\"/Chatbot\" component={Chatbot} isPrivate />\n              <Route exact path=\"/ZDGAgendamento\" component={ZDGAgendamento} isPrivate />\n              <Route exact path=\"/ZDG\" component={ZDG} isPrivate />\n              <Route exact path=\"/ZDGMedia\" component={ZDGMedia} isPrivate />\n              <Route exact path=\"/ZDGGroups\" component={ZDGGroups} isPrivate />\n              <Route exact path=\"/InstaDirect\" component={InstaDirect} isPrivate />\n              <Route exact path=\"/SMS\" component={SMS} isPrivate />\n              <Route exact path=\"/VoiceCall\" component={VoiceCall} isPrivate />\n              <Route exact path=\"/ZDGHistorico\" component={ZDGHistorico} isPrivate />\n            </LoggedInLayout>\n          </WhatsAppsProvider>\n        </Switch>\n        <ToastContainer autoClose={3000} />\n      </AuthProvider>\n    </BrowserRouter>\n  );\n};\n\nexport default Routes;\n","import React, { useState, useEffect } from \"react\";\nimport Routes from \"./routes\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nimport { createTheme, ThemeProvider } from \"@material-ui/core/styles\";\nimport { ptBR } from \"@material-ui/core/locale\";\n\nconst App = () => {\n  const [locale, setLocale] = useState();\n\n  const theme = createTheme(\n    {\n      scrollbarStyles: {\n        \"&::-webkit-scrollbar\": {\n          width: \"8px\",\n          height: \"8px\",\n        },\n        \"&::-webkit-scrollbar-thumb\": {\n          boxShadow: \"inset 0 0 6px rgba(0, 0, 0, 0.3)\",\n          backgroundColor: \"#e8e8e8\",\n        },\n      },\n      palette: {\n        primary: { main: \"#17a2b8\" },\n      },\n    },\n    locale\n  );\n\n  useEffect(() => {\n    const i18nlocale = localStorage.getItem(\"i18nextLng\");\n    const browserLocale =\n      i18nlocale.substring(0, 2) + i18nlocale.substring(3, 5);\n\n    if (browserLocale === \"ptBR\") {\n      setLocale(ptBR);\n    }\n  }, []);\n\n  return (\n    <ThemeProvider theme={theme}>\n      <Routes />\n    </ThemeProvider>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\n\nimport App from \"./App\";\n\nReactDOM.render(\n\t<CssBaseline>\n\t\t<App />\n\t</CssBaseline>,\n\tdocument.getElementById(\"root\")\n);\n\n// ReactDOM.render(\n// \t<React.StrictMode>\n// \t\t<CssBaseline>\n// \t\t\t<App />\n// \t\t</CssBaseline>,\n//   </React.StrictMode>\n\n// \tdocument.getElementById(\"root\")\n// );\n"],"sourceRoot":""}