/*! For license information please see main.0f3c18bb.chunk.js.LICENSE.txt */
(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{101:function(t,e,r){"use strict";var n=r(0),a=r.n(n),o=r(49),i=r(587),c=r(591),s=r(590),l=r(589),u=r(85),f=r(5);e.a=function(t){var e=t.title,r=t.children,n=t.open,d=t.onClose,h=t.onConfirm;return a.a.createElement(i.a,{open:n,onClose:function(){return d(!1)},"aria-labelledby":"confirm-dialog"},a.a.createElement(l.a,{id:"confirm-dialog"},e),a.a.createElement(s.a,{dividers:!0},a.a.createElement(u.a,null,r)),a.a.createElement(c.a,null,a.a.createElement(o.a,{variant:"contained",onClick:function(){return d(!1)},color:"default"},f.a.t("confirmationModal.buttons.cancel")),a.a.createElement(o.a,{variant:"contained",onClick:function(){d(!1),h()},color:"secondary"},f.a.t("confirmationModal.buttons.confirm"))))}},117:function(t,e,r){"use strict";var n=r(142),a=r(0),o=r.n(a),i=r(107),c=r(189),s=r(49),l=r(398),u=["loading","children"],f=Object(i.a)((function(t){return{button:{position:"relative"},buttonProgress:{color:c.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}}));e.a=function(t){var e=t.loading,r=t.children,a=Object(n.a)(t,u),i=f();return o.a.createElement(s.a,Object.assign({className:i.button,disabled:e},a),r,e&&o.a.createElement(l.a,{size:24,className:i.buttonProgress}))}},127:function(t,e,r){"use strict";r.d(e,"a",(function(){return a}));var n={user:{static:[]},admin:{static:["drawer-admin-items:view","tickets-manager:showall","user-modal:editProfile","user-modal:editQueues","ticket-options:deleteTicket","contacts-page:deleteContact"]}},a=function(t){var e=t.role,r=t.perform,a=t.data,o=t.yes,i=t.no;return function(t,e,r){var a=n[t];if(!a)return!1;var o=a.static;if(o&&o.includes(e))return!0;var i=a.dynamic;if(i){var c=i[e];return!!c&&c(r)}return!1}(e,r,a)?o():i()};a.defaultProps={yes:function(){return null},no:function(){return null}}},13:function(t,e,r){"use strict";var n=r(494),a=r.n(n).a.create({baseURL:"https://wzapapi.whatscontabil.com.br",withCredentials:!0});e.a=a},16:function(t,e,r){"use strict";var n=r(47),a=r(5);e.a=function(t){var e,r,o=(null===(e=t.response)||void 0===e||null===(r=e.data)||void 0===r?void 0:r.message)||t.response.data.error;o?a.a.exists("backendErrors.".concat(o))?n.b.error(a.a.t("backendErrors.".concat(o)),{toastId:o}):n.b.error(o,{toastId:o}):n.b.error("An error occurred!")}},197:function(t,e,r){"use strict";var n=r(142),a=r(0),o=r.n(a),i=r(509),c=["children"],s=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],l=["a","b","strong","em","u","code","del"],u=function(t){var e=t.children,r=Object(n.a)(t,c);return o.a.createElement("a",Object.assign({},r,{target:"_blank",rel:"noopener noreferrer"}),e)};e.a=function(t){var e=t.children,r=/\*(.*?)\*/g,n=/~(.*?)~/g;e.includes("BEGIN:VCARD")&&(e=null),e&&r.test(e)&&(e=e.replace(r,"**$1**")),e&&n.test(e)&&(e=e.replace(n,"~~$1~~"));var a=o.a.useMemo((function(){var t={disableParsingRawHTML:!0,forceInline:!0,overrides:{a:{component:u}}};return s.forEach((function(e){l.includes(e)||(t.overrides[e]=function(t){return t.children||null})})),t}),[]);return e?o.a.createElement(i.a,{options:a},e):null}},231:function(t,e,r){"use strict";var n=r(19),a=r(10),o=r(3),i=r(0),c=r.n(i),s=r(57),l=r(35),u=r(47),f=r(107),d=r(189),h=r(49),p=r(39),m=r(587),v=r(591),g=r(590),y=r(589),b=r(85),E=r(269),w=r(232),x=r.n(w),O=r(398),j=r(5),L=r(13),k=r(16);function N(){N=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=s;var u={};function f(){}function d(){}function h(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(j([])));v&&v!==e&&r.call(v,a)&&(p=v);var g=h.prototype=f.prototype=Object.create(p);function y(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var s=l(t[a],t,o);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,c)}))}c(s.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,u;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function j(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=h,c(g,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,c(t,i,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},y(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},y(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},t}var S=Object(f.a)((function(t){return{root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:t.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:d.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}})),_=s.a().shape({name:s.b().min(2,"Too Short!").max(50,"Too Long!").required("Required"),number:s.b().min(8,"Too Short!").max(50,"Too Long!"),email:s.b().email("Invalid email")});e.a=function(t){var e=t.open,r=t.onClose,s=t.contactId,f=t.initialValues,d=t.onSave,w=S(),A=Object(i.useRef)(!0),T={name:"",number:"",email:""},C=Object(i.useState)(T),I=Object(o.a)(C,2),P=I[0],R=I[1];Object(i.useEffect)((function(){return function(){A.current=!1}}),[]),Object(i.useEffect)((function(){(function(){var t=Object(a.a)(N().mark((function t(){var e,r;return N().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(f&&R((function(t){return Object(n.a)(Object(n.a)({},t),f)})),s){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,t.next=6,L.a.get("/contacts/".concat(s));case 6:e=t.sent,r=e.data,A.current&&R(r),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),Object(k.a)(t.t0);case 14:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(){return t.apply(this,arguments)}})()()}),[s,e,f]);var G=function(){r(),R(T)},M=function(){var t=Object(a.a)(N().mark((function t(e){var r,n;return N().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!s){t.next=7;break}return t.next=4,L.a.put("/contacts/".concat(s),e);case 4:G(),t.next=13;break;case 7:return t.next=9,L.a.post("/contacts",e);case 9:r=t.sent,n=r.data,d&&d(n),G();case 13:u.b.success(j.a.t("contactModal.success")),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),Object(k.a)(t.t0);case 19:case"end":return t.stop()}}),t,null,[[0,16]])})));return function(e){return t.apply(this,arguments)}}();return c.a.createElement("div",{className:w.root},c.a.createElement(m.a,{open:e,onClose:G,maxWidth:"lg",scroll:"paper"},c.a.createElement(y.a,{id:"form-dialog-title"},"".concat(s?j.a.t("contactModal.title.edit"):j.a.t("contactModal.title.add"))),c.a.createElement(l.d,{initialValues:P,enableReinitialize:!0,validationSchema:_,onSubmit:function(t,e){setTimeout((function(){M(t),e.setSubmitting(!1)}),400)}},(function(t){var e=t.values,r=t.errors,n=t.touched,a=t.isSubmitting;return c.a.createElement(l.c,null,c.a.createElement(g.a,{dividers:!0},c.a.createElement(b.a,{variant:"subtitle1",gutterBottom:!0},j.a.t("contactModal.form.mainInfo")),c.a.createElement(l.a,{as:p.a,label:j.a.t("contactModal.form.name"),name:"name",autoFocus:!0,error:n.name&&Boolean(r.name),helperText:n.name&&r.name,variant:"outlined",margin:"dense",className:w.textField}),c.a.createElement(l.a,{as:p.a,label:j.a.t("contactModal.form.number"),name:"number",error:n.number&&Boolean(r.number),helperText:n.number&&r.number,placeholder:"5513912344321",variant:"outlined",margin:"dense"}),c.a.createElement("div",null,c.a.createElement(l.a,{as:p.a,label:j.a.t("contactModal.form.email"),name:"email",error:n.email&&Boolean(r.email),helperText:n.email&&r.email,placeholder:"Email address",fullWidth:!0,margin:"dense",variant:"outlined"})),c.a.createElement(b.a,{style:{marginBottom:8,marginTop:12},variant:"subtitle1"},j.a.t("contactModal.form.extraInfo")),c.a.createElement(l.b,{name:"extraInfo"},(function(t){var r=t.push,n=t.remove;return c.a.createElement(c.a.Fragment,null,e.extraInfo&&e.extraInfo.length>0&&e.extraInfo.map((function(t,e){return c.a.createElement("div",{className:w.extraAttr,key:"".concat(e,"-info")},c.a.createElement(l.a,{as:p.a,label:j.a.t("contactModal.form.extraName"),name:"extraInfo[".concat(e,"].name"),variant:"outlined",margin:"dense",className:w.textField}),c.a.createElement(l.a,{as:p.a,label:j.a.t("contactModal.form.extraValue"),name:"extraInfo[".concat(e,"].value"),variant:"outlined",margin:"dense",className:w.textField}),c.a.createElement(E.a,{size:"small",onClick:function(){return n(e)}},c.a.createElement(x.a,null)))})),c.a.createElement("div",{className:w.extraAttr},c.a.createElement(h.a,{style:{flex:1,marginTop:8},variant:"outlined",color:"primary",onClick:function(){return r({name:"",value:""})}},"+ ".concat(j.a.t("contactModal.buttons.addExtraInfo")))))}))),c.a.createElement(v.a,null,c.a.createElement(h.a,{onClick:G,color:"secondary",disabled:a,variant:"outlined"},j.a.t("contactModal.buttons.cancel")),c.a.createElement(h.a,{type:"submit",color:"primary",disabled:a,variant:"contained",className:w.btnWrapper},"".concat(s?j.a.t("contactModal.buttons.okEdit"):j.a.t("contactModal.buttons.okAdd")),a&&c.a.createElement(O.a,{size:24,className:w.buttonProgress}))))}))))}},234:function(t,e,r){"use strict";r.d(e,"a",(function(){return i})),r.d(e,"b",(function(){return c}));var n=r(3),a=r(0),o=r.n(a),i=Object(a.createContext)(),c=function(t){var e=t.children,r=Object(a.useState)(null),c=Object(n.a)(r,2),s=c[0],l=c[1];return o.a.createElement(i.Provider,{value:{replyingMessage:s,setReplyingMessage:l}},e)}},46:function(t,e,r){"use strict";r.d(e,"a",(function(){return v})),r.d(e,"b",(function(){return g}));var n=r(0),a=r.n(n),o=r(10),i=r(3),c=r(59),s=r(32),l=r.n(s),u=r(47),f=r(5),d=r(13),h=r(16);function p(){p=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(N){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new j(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return k()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(N){return{type:"throw",arg:N}}}t.wrap=s;var u={};function f(){}function d(){}function h(){}var m={};c(m,a,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(L([])));g&&g!==e&&r.call(g,a)&&(m=g);var y=h.prototype=f.prototype=Object.create(m);function b(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var s=l(t[a],t,o);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,c)}))}c(s.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,u;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=h,c(y,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},b(E.prototype),c(E.prototype,o,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new E(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},b(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},t}var m=function(){var t=Object(c.g)(),e=Object(n.useState)(!1),r=Object(i.a)(e,2),a=r[0],s=r[1],m=Object(n.useState)(!0),v=Object(i.a)(m,2),g=v[0],y=v[1],b=Object(n.useState)({}),E=Object(i.a)(b,2),w=E[0],x=E[1];return d.a.interceptors.request.use((function(t){var e=localStorage.getItem("token");return e&&(t.headers.Authorization="Bearer ".concat(JSON.parse(e)),s(!0)),t}),(function(t){Promise.reject(t)})),d.a.interceptors.response.use((function(t){return t}),function(){var t=Object(o.a)(p().mark((function t(e){var r,n,a,o,i;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.config,403!==(null===e||void 0===e||null===(r=e.response)||void 0===r?void 0:r.status)||a._retry){t.next=9;break}return a._retry=!0,t.next=5,d.a.post("/auth/refresh_token");case 5:return o=t.sent,(i=o.data)&&(localStorage.setItem("token",JSON.stringify(i.token)),d.a.defaults.headers.Authorization="Bearer ".concat(i.token)),t.abrupt("return",Object(d.a)(a));case 9:return 401===(null===e||void 0===e||null===(n=e.response)||void 0===n?void 0:n.status)&&(localStorage.removeItem("token"),d.a.defaults.headers.Authorization=void 0,s(!1)),t.abrupt("return",Promise.reject(e));case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),Object(n.useEffect)((function(){var t=localStorage.getItem("token");Object(o.a)(p().mark((function e(){var r,n;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=14;break}return e.prev=1,e.next=4,d.a.post("/auth/refresh_token");case 4:r=e.sent,n=r.data,d.a.defaults.headers.Authorization="Bearer ".concat(n.token),s(!0),x(n.user),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),Object(h.a)(e.t0);case 14:y(!1);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})))()}),[]),Object(n.useEffect)((function(){var t=l()("https://wzapapi.whatscontabil.com.br");return t.on("user",(function(t){"update"===t.action&&t.user.id===w.id&&x(t.user)})),function(){t.disconnect()}}),[w]),{isAuth:a,user:w,loading:g,handleLogin:function(){var e=Object(o.a)(p().mark((function e(r){var n,a;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),e.prev=1,e.next=4,d.a.post("/auth/login",r);case 4:n=e.sent,a=n.data,localStorage.setItem("token",JSON.stringify(a.token)),d.a.defaults.headers.Authorization="Bearer ".concat(a.token),x(a.user),s(!0),u.b.success(f.a.t("auth.toasts.success")),t.push("/tickets"),y(!1),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(1),Object(h.a)(e.t0),y(!1);case 19:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}(),handleLogout:function(){var e=Object(o.a)(p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),e.prev=1,e.next=4,d.a.delete("/auth/logout");case 4:s(!1),x({}),localStorage.removeItem("token"),d.a.defaults.headers.Authorization=void 0,y(!1),t.push("/login"),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),Object(h.a)(e.t0),y(!1);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}()}},v=Object(n.createContext)(),g=function(t){var e=t.children,r=m(),n=r.loading,o=r.user,i=r.isAuth,c=r.handleLogin,s=r.handleLogout;return a.a.createElement(v.Provider,{value:{loading:n,user:o,isAuth:i,handleLogin:c,handleLogout:s}},e)}},5:function(t,e,r){"use strict";r.d(e,"a",(function(){return n.a}));var n=r(384),a=r(492),o=r(19),i=Object(o.a)(Object(o.a)(Object(o.a)({},{pt:{translations:{signup:{title:"Cadastre-se",toasts:{success:"Usu\xe1rio criado com sucesso! Fa\xe7a seu login!!!.",fail:"Erro ao criar usu\xe1rio. Verifique os dados informados."},form:{name:"Nome",email:"Email",password:"Senha"},buttons:{submit:"Cadastrar",login:"J\xe1 tem uma conta? Entre!"}},login:{title:"Fa\xe7a o seu login agora",form:{email:"Insira o e-mail",password:"Coloque a sua senha"},buttons:{submit:"Fazer login",register:"N\xe3o tem um conta? Cadastre-se!"}},auth:{toasts:{success:"Login efetuado com sucesso!"}},dashboard:{charts:{perDay:{title:"Tickets today: "}},messages:{inAttendance:{title:"Em servi\xe7o"},waiting:{title:"Esperando"},closed:{title:"Fechado"}}},connections:{title:"Conex\xf5es do WhatsApp",toasts:{deleted:"Conex\xe3o com o WhatsApp exclu\xedda com sucesso!"},confirmationModal:{deleteTitle:"Deletar",deleteMessage:"Voc\xea tem certeza? Essa a\xe7\xe3o n\xe3o pode ser revertida.",disconnectTitle:"Desconectar",disconnectMessage:"Tem certeza? Voc\xea precisar\xe1 ler o QR Code novamente."},buttons:{add:"Adicionar WhatsApp",disconnect:"desconectar",tryAgain:"Tentar novamente",qrcode:"QR CODE",newQr:"Novo QR CODE",connecting:"Conectando"},toolTips:{disconnected:{title:"Falha ao iniciar sess\xe3o do WhatsApp",content:"Certifique-se de que seu celular esteja conectado \xe0 internet e tente novamente, ou solicite um novo QR Code"},qrcode:{title:"Esperando leitura do QR Code",content:"Clique no bot\xe3o 'QR CODE' e leia o QR Code com o seu celular para iniciar a sess\xe3o"},connected:{title:"Conex\xe3o estabelecida!"},timeout:{title:"A conex\xe3o com o celular foi perdida",content:"Certifique-se de que seu celular esteja conectado \xe0 internet e o WhatsApp esteja aberto, ou clique no bot\xe3o 'Desconectar' para obter um novo QR Code"}},table:{name:"Nome",status:"Status",lastUpdate:"\xdaltima atualiza\xe7\xe3o",default:"Padr\xe3o",actions:"A\xe7\xf5es",session:"Sess\xe3o"}},whatsappModal:{title:{add:"Adicionar WhatsApp",edit:"Editar WhatsApp"},form:{name:"Nome",default:"Padr\xe3o",farewellMessage:"Mensagem de despedida"},buttons:{okAdd:"Adicionar",okEdit:"Salvar",cancel:"Cancelar"},success:"WhatsApp salvo com sucesso."},qrCode:{message:"Leia o QrCode para iniciar a sess\xe3o"},contacts:{title:"Contatos",toasts:{deleted:"Contato exclu\xeddo com sucesso!"},searchPlaceholder:"Pesquisar...",confirmationModal:{deleteTitle:"Deletar ",importTitlte:"Importar contatos",deleteMessage:"Tem certeza que deseja deletar este contato? Todos os tickets relacionados ser\xe3o perdidos.",importMessage:"Deseja importas todos os contatos do telefone?"},buttons:{import:"Importar Contatos",add:"Adicionar Contato"},table:{name:"Nome",whatsapp:"WhatsApp",email:"Email",actions:"A\xe7\xf5es"}},contactModal:{title:{add:"Adicionar contato",edit:"Editar contato"},form:{mainInfo:"Dados do contato",extraInfo:"Informa\xe7\xf5es adicionais",name:"Nome",number:"N\xfamero do Whatsapp",email:"Email",extraName:"Nome do campo",extraValue:"Valor"},buttons:{addExtraInfo:"Adicionar informa\xe7\xe3o",okAdd:"Adicionar",okEdit:"Salvar",cancel:"Cancelar"},success:"Contato salvo com sucesso."},quickAnswersModal:{title:{add:"Adicionar Resposta R\xe1pida",edit:"Editar Resposta R\xe1pida"},form:{shortcut:"Atalho",message:"Resposta R\xe1pida"},buttons:{okAdd:"Adicionar",okEdit:"Salvar",cancel:"Cancelar"},success:"Resposta R\xe1pida salva com sucesso."},queueModal:{title:{add:"Adicionar fila",edit:"Editar fila"},form:{name:"Nome",color:"Cor",greetingMessage:"Mensagem de sauda\xe7\xe3o"},buttons:{okAdd:"Adicionar",okEdit:"Salvar",cancel:"Cancelar"}},userModal:{title:{add:"Adicionar usu\xe1rio",edit:"Editar usu\xe1rio"},form:{name:"Nome",email:"Email",password:"Senha",profile:"Perfil"},buttons:{okAdd:"Adicionar",okEdit:"Salvar",cancel:"Cancelar"},success:"Usu\xe1rio salvo com sucesso."},chat:{noTicketMessage:"Selecione um ticket para come\xe7ar a conversar."},ticketsManager:{buttons:{newTicket:"Novo"}},ticketsQueueSelect:{placeholder:"Filas"},tickets:{toasts:{deleted:"O ticket que voc\xea estava foi deletado."},notification:{message:"Mensagem de"},tabs:{open:{title:"Inbox"},closed:{title:"Resolvidos"},search:{title:"Busca"}},search:{placeholder:"Buscar tickets e mensagens"},buttons:{showAll:"Todos"}},transferTicketModal:{title:"Transferir Ticket",fieldLabel:"Digite para buscar usu\xe1rios",noOptions:"Nenhum usu\xe1rio encontrado com esse nome",buttons:{ok:"Transferir",cancel:"Cancelar"}},ticketsList:{pendingHeader:"Aguardando",assignedHeader:"Atendendo",noTicketsTitle:"Nada aqui!",noTicketsMessage:"Nenhum ticket encontrado com esse status ou termo pesquisado",connectionTitle:"Conex\xe3o que est\xe1 sendo utilizada atualmente.",buttons:{accept:"Aceitar"}},newTicketModal:{title:"Criar Ticket",fieldLabel:"Digite para pesquisar o contato",add:"Adicionar",buttons:{ok:"Salvar",cancel:"Cancelar"}},mainDrawer:{listItems:{dashboard:"Dashboard",connections:"Conex\xf5es",tickets:"Tickets",contacts:"Contatos",quickAnswers:"Respostas R\xe1pidas",queues:"Filas",administration:"Administra\xe7\xe3o",users:"Usu\xe1rios",settings:"Configura\xe7\xf5es",ZDG:"Envio Autom\xe1tico",ZDGMedia:"Envio de M\xeddia",ZDGGroups:"Grupos",Direct:"Direct IG",SMS:"SMS",VoiceCall:"Chamada Telef\xf4nica",Chatbot:"Chatbot",ZDGAgendamento:"Agendadas",ZDGHistorico:"Hist\xf3rico"},appBar:{user:{profile:"Perfil",logout:"Sair"}}},notifications:{noTickets:"Nenhuma notifica\xe7\xe3o."},queues:{title:"Filas",table:{name:"Nome",color:"Cor",greeting:"Mensagem de sauda\xe7\xe3o",actions:"A\xe7\xf5es"},buttons:{add:"Adicionar fila"},confirmationModal:{deleteTitle:"Excluir",deleteMessage:"Voc\xea tem certeza? Essa a\xe7\xe3o n\xe3o pode ser revertida! Os tickets dessa fila continuar\xe3o existindo, mas n\xe3o ter\xe3o mais nenhuma fila atribu\xedda."}},queueSelect:{inputLabel:"Filas"},quickAnswers:{title:"Respostas R\xe1pidas",table:{shortcut:"Atalho",message:"Resposta R\xe1pida",actions:"A\xe7\xf5es"},buttons:{add:"Adicionar Resposta R\xe1pida"},toasts:{deleted:"Resposta R\xe1pida exclu\xedda com sucesso."},searchPlaceholder:"Pesquisar...",confirmationModal:{deleteTitle:"Voc\xea tem certeza que quer excluir esta Resposta R\xe1pida: ",deleteMessage:"Esta a\xe7\xe3o n\xe3o pode ser revertida."}},users:{title:"Usu\xe1rios",table:{name:"Nome",email:"Email",profile:"Perfil",actions:"A\xe7\xf5es"},buttons:{add:"Adicionar usu\xe1rio"},toasts:{deleted:"Usu\xe1rio exclu\xeddo com sucesso."},confirmationModal:{deleteTitle:"Excluir",deleteMessage:"Todos os dados do usu\xe1rio ser\xe3o perdidos. Os tickets abertos deste usu\xe1rio ser\xe3o movidos para a fila."}},settings:{success:"Configura\xe7\xf5es salvas com sucesso.",title:"Configura\xe7\xf5es",settings:{userCreation:{name:"Cria\xe7\xe3o de usu\xe1rio",options:{enabled:"Ativado",disabled:"Desativado"}}}},messagesList:{header:{assignedTo:"Atribu\xeddo \xe0:",buttons:{return:"Retornar",resolve:"Resolver",reopen:"Reabrir",accept:"Aceitar"}}},messagesInput:{placeholderOpen:"Digite uma mensagem",placeholderClosed:"Reabra ou aceite esse ticket para enviar uma mensagem.",signMessage:"Assinar"},contactDrawer:{header:"Dados do contato",buttons:{edit:"Editar contato"},extraInfo:"Outras informa\xe7\xf5es"},ticketOptionsMenu:{delete:"Deletar",transfer:"Transferir",confirmationModal:{title:"Deletar o ticket do contato",message:"Aten\xe7\xe3o! Todas as mensagens relacionadas ao ticket ser\xe3o perdidas."},buttons:{delete:"Excluir",cancel:"Cancelar"}},confirmationModal:{buttons:{confirm:"Ok",cancel:"Cancelar"}},messageOptionsMenu:{delete:"Deletar",reply:"Responder",confirmationModal:{title:"Apagar mensagem?",message:"Esta a\xe7\xe3o n\xe3o pode ser revertida."}},backendErrors:{ERR_NO_OTHER_WHATSAPP:"Deve haver pelo menos um WhatsApp padr\xe3o.",ERR_NO_DEF_WAPP_FOUND:"Nenhum WhatsApp padr\xe3o encontrado. Verifique a p\xe1gina de conex\xf5es.",ERR_WAPP_NOT_INITIALIZED:"Esta sess\xe3o do WhatsApp n\xe3o foi inicializada. Verifique a p\xe1gina de conex\xf5es.",ERR_WAPP_CHECK_CONTACT:"N\xe3o foi poss\xedvel verificar o contato do WhatsApp. Verifique a p\xe1gina de conex\xf5es",ERR_WAPP_INVALID_CONTACT:"Este n\xe3o \xe9 um n\xfamero de Whatsapp v\xe1lido.",ERR_WAPP_DOWNLOAD_MEDIA:"N\xe3o foi poss\xedvel baixar m\xeddia do WhatsApp. Verifique a p\xe1gina de conex\xf5es.",ERR_INVALID_CREDENTIALS:"Erro de autentica\xe7\xe3o. Por favor, tente novamente.",ERR_SENDING_WAPP_MSG:"Erro ao enviar mensagem do WhatsApp. Verifique a p\xe1gina de conex\xf5es.",ERR_DELETE_WAPP_MSG:"N\xe3o foi poss\xedvel excluir a mensagem do WhatsApp.",ERR_OTHER_OPEN_TICKET:"J\xe1 existe um t\xedquete aberto para este contato.",ERR_SESSION_EXPIRED:"Sess\xe3o expirada. Por favor entre.",ERR_USER_CREATION_DISABLED:"A cria\xe7\xe3o do usu\xe1rio foi desabilitada pelo administrador.",ERR_NO_PERMISSION:"Voc\xea n\xe3o tem permiss\xe3o para acessar este recurso.",ERR_DUPLICATED_CONTACT:"J\xe1 existe um contato com este n\xfamero.",ERR_NO_SETTING_FOUND:"Nenhuma configura\xe7\xe3o encontrada com este ID.",ERR_NO_CONTACT_FOUND:"Nenhum contato encontrado com este ID.",ERR_NO_TICKET_FOUND:"Nenhum t\xedquete encontrado com este ID.",ERR_NO_USER_FOUND:"Nenhum usu\xe1rio encontrado com este ID.",ERR_NO_WAPP_FOUND:"Nenhum WhatsApp encontrado com este ID.",ERR_CREATING_MESSAGE:"Erro ao criar mensagem no banco de dados.",ERR_CREATING_TICKET:"Erro ao criar t\xedquete no banco de dados.",ERR_FETCH_WAPP_MSG:"Erro ao buscar a mensagem no WhtasApp, talvez ela seja muito antiga.",ERR_QUEUE_COLOR_ALREADY_EXISTS:"Esta cor j\xe1 est\xe1 em uso, escolha outra.",ERR_WAPP_GREETING_REQUIRED:"A mensagem de sauda\xe7\xe3o \xe9 obrigat\xf3rio quando h\xe1 mais de uma fila."}}}}),{en:{translations:{signup:{title:"Sign up",toasts:{success:"User created successfully! Please login!",fail:"Error creating user. Check the reported data."},form:{name:"Name",email:"Email",password:"Password"},buttons:{submit:"Register",login:"Already have an account? Log in!"}},login:{title:"Login",form:{email:"Email",password:"Password"},buttons:{submit:"Enter",register:"Don't have an account? Register!"}},auth:{toasts:{success:"Login successfully!"}},dashboard:{charts:{perDay:{title:"Tickets today: "}},messages:{inAttendance:{title:"In Service"},waiting:{title:"Waiting"},closed:{title:"Closed"}}},connections:{title:"Connections",toasts:{deleted:"WhatsApp connection deleted sucessfully!"},confirmationModal:{deleteTitle:"Delete",deleteMessage:"Are you sure? It cannot be reverted.",disconnectTitle:"Disconnect",disconnectMessage:"Are you sure? You'll need to read QR Code again."},buttons:{add:"Add WhatsApp",disconnect:"Disconnect",tryAgain:"Try Again",qrcode:"QR CODE",newQr:"New QR CODE",connecting:"Connectiing"},toolTips:{disconnected:{title:"Failed to start WhatsApp session",content:"Make sure your cell phone is connected to the internet and try again, or request a new QR Code"},qrcode:{title:"Waiting for QR Code read",content:"Click on 'QR CODE' button and read the QR Code with your cell phone to start session"},connected:{title:"Connection established"},timeout:{title:"Connection with cell phone has been lost",content:"Make sure your cell phone is connected to the internet and WhatsApp is open, or click on 'Disconnect' button to get a new QRcode"}},table:{name:"Name",status:"Status",lastUpdate:"Last Update",default:"Default",actions:"Actions",session:"Session"}},whatsappModal:{title:{add:"Add WhatsApp",edit:"Edit WhatsApp"},form:{name:"Name",default:"Default"},buttons:{okAdd:"Add",okEdit:"Save",cancel:"Cancel"},success:"WhatsApp saved successfully."},qrCode:{message:"Read QrCode to start the session"},contacts:{title:"Contacts",toasts:{deleted:"Contact deleted sucessfully!"},searchPlaceholder:"Search ...",confirmationModal:{deleteTitle:"Delete",importTitlte:"Import contacts",deleteMessage:"Are you sure you want to delete this contact? All related tickets will be lost.",importMessage:"Do you want to import all contacts from the phone?"},buttons:{import:"Import Contacts",add:"Add Contact"},table:{name:"Name",whatsapp:"WhatsApp",email:"Email",actions:"Actions"}},contactModal:{title:{add:"Add contact",edit:"Edit contact"},form:{mainInfo:"Contact details",extraInfo:"Additional information",name:"Name",number:"Whatsapp number",email:"Email",extraName:"Field name",extraValue:"Value"},buttons:{addExtraInfo:"Add information",okAdd:"Add",okEdit:"Save",cancel:"Cancel"},success:"Contact saved successfully."},quickAnswersModal:{title:{add:"Add Quick Reply",edit:"Edit Quick Answer"},form:{shortcut:"Shortcut",message:"Quick Reply"},buttons:{okAdd:"Add",okEdit:"Save",cancel:"Cancel"},success:"Quick Reply saved successfully."},queueModal:{title:{add:"Add queue",edit:"Edit queue"},form:{name:"Name",color:"Color",greetingMessage:"Greeting Message"},buttons:{okAdd:"Add",okEdit:"Save",cancel:"Cancel"}},userModal:{title:{add:"Add user",edit:"Edit user"},form:{name:"Name",email:"Email",password:"Password",profile:"Profile"},buttons:{okAdd:"Add",okEdit:"Save",cancel:"Cancel"},success:"User saved successfully."},chat:{noTicketMessage:"Select a ticket to start chatting."},ticketsManager:{buttons:{newTicket:"New"}},ticketsQueueSelect:{placeholder:"Queues"},tickets:{toasts:{deleted:"The ticket you were on has been deleted."},notification:{message:"Message from"},tabs:{open:{title:"Inbox"},closed:{title:"Resolved"},search:{title:"Search"}},search:{placeholder:"Search tickets and messages."},buttons:{showAll:"All"}},transferTicketModal:{title:"Transfer Ticket",fieldLabel:"Type to search for users",fieldQueueLabel:"Transfer to queue",fieldQueuePlaceholder:"Please select a queue",noOptions:"No user found with this name",buttons:{ok:"Transfer",cancel:"Cancel"}},ticketsList:{pendingHeader:"Queue",assignedHeader:"Working on",noTicketsTitle:"Nothing here!",noTicketsMessage:"No tickets found with this status or search term.",buttons:{accept:"Accept"}},newTicketModal:{title:"Create Ticket",fieldLabel:"Type to search for a contact",add:"Add",buttons:{ok:"Save",cancel:"Cancel"}},mainDrawer:{listItems:{dashboard:"Dashboard",connections:"Connections",tickets:"Tickets",contacts:"Contacts",quickAnswers:"Quick Answers",queues:"Queues",administration:"Administration",users:"Users",settings:"Settings"},appBar:{user:{profile:"Profile",logout:"Logout"}}},notifications:{noTickets:"No notifications."},queues:{title:"Queues",table:{name:"Name",color:"Color",greeting:"Greeting message",actions:"Actions"},buttons:{add:"Add queue"},confirmationModal:{deleteTitle:"Delete",deleteMessage:"Are you sure? It cannot be reverted! Tickets in this queue will still exist, but will not have any queues assigned."}},queueSelect:{inputLabel:"Queues"},quickAnswers:{title:"Quick Answers",table:{shortcut:"Shortcut",message:"Quick Reply",actions:"Actions"},buttons:{add:"Add Quick Reply"},toasts:{deleted:"Quick Reply deleted successfully."},searchPlaceholder:"Search...",confirmationModal:{deleteTitle:"Are you sure you want to delete this Quick Reply: ",deleteMessage:"This action cannot be undone."}},users:{title:"Users",table:{name:"Name",email:"Email",profile:"Profile",actions:"Actions"},buttons:{add:"Add user"},toasts:{deleted:"User deleted sucessfully."},confirmationModal:{deleteTitle:"Delete",deleteMessage:"All user data will be lost. Users' open tickets will be moved to queue."}},settings:{success:"Settings saved successfully.",title:"Settings",settings:{userCreation:{name:"User creation",options:{enabled:"Enabled",disabled:"Disabled"}}}},messagesList:{header:{assignedTo:"Assigned to:",buttons:{return:"Return",resolve:"Resolve",reopen:"Reopen",accept:"Accept"}}},messagesInput:{placeholderOpen:"Type a message or press ''/'' to use the registered quick responses",placeholderClosed:"Reopen or accept this ticket to send a message.",signMessage:"Sign"},contactDrawer:{header:"Contact details",buttons:{edit:"Edit contact"},extraInfo:"Other information"},ticketOptionsMenu:{delete:"Delete",transfer:"Transfer",confirmationModal:{title:"Delete ticket #",titleFrom:"from contact ",message:"Attention! All ticket's related messages will be lost."},buttons:{delete:"Delete",cancel:"Cancel"}},confirmationModal:{buttons:{confirm:"Ok",cancel:"Cancel"}},messageOptionsMenu:{delete:"Delete",reply:"Reply",confirmationModal:{title:"Delete message?",message:"This action cannot be reverted."}},backendErrors:{ERR_NO_OTHER_WHATSAPP:"There must be at lest one default WhatsApp connection.",ERR_NO_DEF_WAPP_FOUND:"No default WhatsApp found. Check connections page.",ERR_WAPP_NOT_INITIALIZED:"This WhatsApp session is not initialized. Check connections page.",ERR_WAPP_CHECK_CONTACT:"Could not check WhatsApp contact. Check connections page.",ERR_WAPP_INVALID_CONTACT:"This is not a valid whatsapp number.",ERR_WAPP_DOWNLOAD_MEDIA:"Could not download media from WhatsApp. Check connections page.",ERR_INVALID_CREDENTIALS:"Authentication error. Please try again.",ERR_SENDING_WAPP_MSG:"Error sending WhatsApp message. Check connections page.",ERR_DELETE_WAPP_MSG:"Couldn't delete message from WhatsApp.",ERR_OTHER_OPEN_TICKET:"There's already an open ticket for this contact.",ERR_SESSION_EXPIRED:"Session expired. Please login.",ERR_USER_CREATION_DISABLED:"User creation was disabled by administrator.",ERR_NO_PERMISSION:"You don't have permission to access this resource.",ERR_DUPLICATED_CONTACT:"A contact with this number already exists.",ERR_NO_SETTING_FOUND:"No setting found with this ID.",ERR_NO_CONTACT_FOUND:"No contact found with this ID.",ERR_NO_TICKET_FOUND:"No ticket found with this ID.",ERR_NO_USER_FOUND:"No user found with this ID.",ERR_NO_WAPP_FOUND:"No WhatsApp found with this ID.",ERR_CREATING_MESSAGE:"Error while creating message on database.",ERR_CREATING_TICKET:"Error while creating ticket on database.",ERR_FETCH_WAPP_MSG:"Error fetching the message in WhtasApp, maybe it is too old.",ERR_QUEUE_COLOR_ALREADY_EXISTS:"This color is already in use, pick another one.",ERR_WAPP_GREETING_REQUIRED:"Greeting message is required if there is more than one queue."}}}}),{es:{translations:{signup:{title:"Registro",toasts:{success:"\xa1El usuario ha sido creado satisfactoriamente! \xa1Ahora inicia sesi\xf3n!",fail:"Error creando el usuario. Verifica la data reportada."},form:{name:"Nombre",email:"Correo Electr\xf3nico",password:"Contrase\xf1a"},buttons:{submit:"Reg\xedstrate",login:"\xbfYa tienes una cuenta? \xa1Inicia sesi\xf3n!"}},login:{title:"Inicio de Sesi\xf3n",form:{email:"Correo Electr\xf3nico",password:"Contrase\xf1a"},buttons:{submit:"Ingresa",register:"\xbfNo tienes cuenta? \xa1Reg\xedstrate!"}},auth:{toasts:{success:"\xa1Inicio de sesi\xf3n exitoso!"}},dashboard:{charts:{perDay:{title:"Tickets hoy: "}},messages:{inAttendance:{title:"En servicio"},waiting:{title:"Esperando"},closed:{title:"Finalizado"}}},connections:{title:"Conexiones",toasts:{deleted:"\xa1La conexi\xf3n de WhatsApp ha sido borrada satisfactoriamente!"},confirmationModal:{deleteTitle:"Borrar",deleteMessage:"\xbfEst\xe1s seguro? Este proceso no puede ser revertido.",disconnectTitle:"Desconectar",disconnectMessage:"Est\xe1s seguro? Deber\xe1 volver a leer el c\xf3digo QR"},buttons:{add:"Agrega WhatsApp",disconnect:"Desconectar",tryAgain:"Int\xe9ntalo de nuevo",qrcode:"QR CODE",newQr:"Nuevo QR CODE",connecting:"Conectando"},toolTips:{disconnected:{title:"No se pudo iniciar la sesi\xf3n de WhatsApp",content:"Aseg\xfarese de que su tel\xe9fono celular est\xe9 conectado a Internet y vuelva a intentarlo o solicite un nuevo c\xf3digo QR"},qrcode:{title:"Esperando la lectura del c\xf3digo QR",content:"Haga clic en el bot\xf3n 'C\xd3DIGO QR' y lea el C\xf3digo QR con su tel\xe9fono celular para iniciar la sesi\xf3n"},connected:{title:"Conexi\xf3n establecida"},timeout:{title:"Se perdi\xf3 la conexi\xf3n con el tel\xe9fono celular",content:"Aseg\xfarese de que su tel\xe9fono celular est\xe9 conectado a Internet y que WhatsApp est\xe9 abierto, o haga clic en el bot\xf3n 'Desconectar' para obtener un nuevo c\xf3digo QR"}},table:{name:"Nombre",status:"Estado",lastUpdate:"\xdaltima Actualizaci\xf3n",default:"Por Defecto",actions:"Acciones",session:"Sesi\xf3n"}},whatsappModal:{title:{add:"Agrega WhatsApp",edit:"Edita WhatsApp"},form:{name:"Nombre",default:"Por Defecto"},buttons:{okAdd:"Agregar",okEdit:"Guardar",cancel:"Cancelar"},success:"WhatsApp guardado satisfactoriamente."},qrCode:{message:"L\xe9e el c\xf3digo QR para empezar la sesi\xf3n."},contacts:{title:"Contactos",toasts:{deleted:"\xa1Contacto borrado satisfactoriamente!"},searchPlaceholder:"Buscar...",confirmationModal:{deleteTitle:"Borrar",importTitlte:"Importar contactos",deleteMessage:"\xbfEst\xe1s seguro que deseas borrar este contacto? Todos los tickets relacionados se perder\xe1n.",importMessage:"\xbfQuieres importar todos los contactos desde tu tel\xe9fono?"},buttons:{import:"Importar Contactos",add:"Agregar Contacto"},table:{name:"Nombre",whatsapp:"WhatsApp",email:"Correo Electr\xf3nico",actions:"Acciones"}},contactModal:{title:{add:"Agregar contacto",edit:"Editar contacto"},form:{mainInfo:"Detalles del contacto",extraInfo:"Informaci\xf3n adicional",name:"Nombre",number:"N\xfamero de Whatsapp",email:"Correo Electr\xf3nico",extraName:"Nombre del Campo",extraValue:"Valor"},buttons:{addExtraInfo:"Agregar informaci\xf3n",okAdd:"Agregar",okEdit:"Guardar",cancel:"Cancelar"},success:"Contacto guardado satisfactoriamente."},quickAnswersModal:{title:{add:"Agregar respuesta r\xe1pida",edit:"Editar respuesta r\xe1pida"},form:{shortcut:"Atajo",message:"Respuesta r\xe1pida"},buttons:{okAdd:"Agregar",okEdit:"Guardar",cancel:"Cancelar"},success:"Respuesta r\xe1pida guardada correctamente."},queueModal:{title:{add:"Agregar cola",edit:"Editar cola"},form:{name:"Nombre",color:"Color",greetingMessage:"Mensaje de saludo"},buttons:{okAdd:"A\xf1adir",okEdit:"Ahorrar",cancel:"Cancelar"}},userModal:{title:{add:"Agregar usuario",edit:"Editar usuario"},form:{name:"Nombre",email:"Correo Electr\xf3nico",password:"Contrase\xf1a",profile:"Perfil"},buttons:{okAdd:"Agregar",okEdit:"Guardar",cancel:"Cancelar"},success:"Usuario guardado satisfactoriamente."},chat:{noTicketMessage:"Selecciona un ticket para empezar a chatear."},ticketsManager:{buttons:{newTicket:"Nuevo"}},ticketsQueueSelect:{placeholder:"Linhas"},tickets:{toasts:{deleted:"El ticket en el que estabas ha sido borrado."},notification:{message:"Mensaje de"},tabs:{open:{title:"Bandeja"},closed:{title:"Resueltos"},search:{title:"Buscar"}},search:{placeholder:"Buscar tickets y mensajes."},buttons:{showAll:"Todos"}},transferTicketModal:{title:"Transferir Ticket",fieldLabel:"Escriba para buscar usuarios",fieldQueueLabel:"Transferir a la cola",fieldQueuePlaceholder:"Seleccione una cola",noOptions:"No se encontraron usuarios con ese nombre",buttons:{ok:"Transferir",cancel:"Cancelar"}},ticketsList:{pendingHeader:"Cola",assignedHeader:"Trabajando en",noTicketsTitle:"\xa1Nada ac\xe1!",noTicketsMessage:"No se encontraron tickets con este estado o t\xe9rmino de b\xfasqueda",buttons:{accept:"Acceptar"}},newTicketModal:{title:"Crear Ticket",fieldLabel:"Escribe para buscar un contacto",add:"A\xf1adir",buttons:{ok:"Guardar",cancel:"Cancelar"}},mainDrawer:{listItems:{dashboard:"Dashboard",connections:"Conexiones",tickets:"Tickets",contacts:"Contactos",quickAnswers:"Respuestas r\xe1pidas",queues:"Linhas",administration:"Administraci\xf3n",users:"Usuarios",settings:"Configuraci\xf3n"},appBar:{user:{profile:"Perfil",logout:"Cerrar Sesi\xf3n"}}},notifications:{noTickets:"Sin notificaciones."},queues:{title:"Linhas",table:{name:"Nombre",color:"Color",greeting:"Mensaje de saludo",actions:"Comportamiento"},buttons:{add:"Agregar cola"},confirmationModal:{deleteTitle:"Eliminar",deleteMessage:"\xbfEst\xe1s seguro? \xa1Esta acci\xf3n no se puede revertir! Los tickets en esa cola seguir\xe1n existiendo, pero ya no tendr\xe1n ninguna cola asignada."}},queueSelect:{inputLabel:"Linhas"},quickAnswers:{title:"Respuestas r\xe1pidas",table:{shortcut:"Atajo",message:"Respuesta r\xe1pida",actions:"Acciones"},buttons:{add:"Agregar respuesta r\xe1pida"},toasts:{deleted:"Respuesta r\xe1pida eliminada correctamente"},searchPlaceholder:"Buscar ...",confirmationModal:{deleteTitle:"\xbfEst\xe1 seguro de que desea eliminar esta respuesta r\xe1pida?",deleteMessage:"Esta acci\xf3n no se puede deshacer."}},users:{title:"Usuarios",table:{name:"Nombre",email:"Correo Electr\xf3nico",profile:"Perfil",actions:"Acciones"},buttons:{add:"Agregar usuario"},toasts:{deleted:"Usuario borrado satisfactoriamente."},confirmationModal:{deleteTitle:"Borrar",deleteMessage:"Toda la informaci\xf3n del usuario se perder\xe1. Los tickets abiertos de los usuarios se mover\xe1n a la cola."}},settings:{success:"Configuraci\xf3n guardada satisfactoriamente.",title:"Configuraci\xf3n",settings:{userCreation:{name:"Creaci\xf3n de usuarios",options:{enabled:"Habilitado",disabled:"Deshabilitado"}}}},messagesList:{header:{assignedTo:"Asignado a:",buttons:{return:"Devolver",resolve:"Resolver",reopen:"Reabrir",accept:"Aceptar"}}},messagesInput:{placeholderOpen:"Escriba un mensaje o presione '' / '' para usar las respuestas r\xe1pidas registradas",placeholderClosed:"Vuelva a abrir o acepte este ticket para enviar un mensaje.",signMessage:"Firmar"},contactDrawer:{header:"Detalles del contacto",buttons:{edit:"Editar contacto"},extraInfo:"Otra informaci\xf3n"},ticketOptionsMenu:{delete:"Borrar",transfer:"Transferir",confirmationModal:{title:"\xbfBorrar ticket #",titleFrom:"del contacto ",message:"\xa1Atenci\xf3n! Todos los mensajes Todos los mensajes relacionados con el ticket se perder\xe1n."},buttons:{delete:"Borrar",cancel:"Cancelar"}},confirmationModal:{buttons:{confirm:"Ok",cancel:"Cancelar"}},messageOptionsMenu:{delete:"Borrar",reply:"Responder",confirmationModal:{title:"\xbfBorrar mensaje?",message:"Esta acci\xf3n no puede ser revertida."}},backendErrors:{ERR_NO_OTHER_WHATSAPP:"Debe haber al menos una conexi\xf3n de WhatsApp predeterminada.",ERR_NO_DEF_WAPP_FOUND:"No se encontr\xf3 WhatsApp predeterminado. Verifique la p\xe1gina de conexiones.",ERR_WAPP_NOT_INITIALIZED:"Esta sesi\xf3n de WhatsApp no \u200b\u200best\xe1 inicializada. Verifique la p\xe1gina de conexiones.",ERR_WAPP_CHECK_CONTACT:"No se pudo verificar el contacto de WhatsApp. Verifique la p\xe1gina de conexiones.",ERR_WAPP_INVALID_CONTACT:"Este no es un n\xfamero de whatsapp v\xe1lido.",ERR_WAPP_DOWNLOAD_MEDIA:"No se pudieron descargar los medios de WhatsApp. Verifique la p\xe1gina de conexiones.",ERR_INVALID_CREDENTIALS:"Error de autenticaci\xf3n. Vuelva a intentarlo.",ERR_SENDING_WAPP_MSG:"Error al enviar el mensaje de WhatsApp. Verifique la p\xe1gina de conexiones.",ERR_DELETE_WAPP_MSG:"No se pudo borrar el mensaje de WhatsApp.",ERR_OTHER_OPEN_TICKET:"Ya hay un ticket abierto para este contacto.",ERR_SESSION_EXPIRED:"Sesi\xf3n caducada. Inicie sesi\xf3n.",ERR_USER_CREATION_DISABLED:"La creaci\xf3n de usuarios fue deshabilitada por el administrador.",ERR_NO_PERMISSION:"No tienes permiso para acceder a este recurso.",ERR_DUPLICATED_CONTACT:"Ya existe un contacto con este n\xfamero.",ERR_NO_SETTING_FOUND:"No se encontr\xf3 ninguna configuraci\xf3n con este ID.",ERR_NO_CONTACT_FOUND:"No se encontr\xf3 ning\xfan contacto con este ID.",ERR_NO_TICKET_FOUND:"No se encontr\xf3 ning\xfan ticket con este ID.",ERR_NO_USER_FOUND:"No se encontr\xf3 ning\xfan usuario con este ID.",ERR_NO_WAPP_FOUND:"No se encontr\xf3 WhatsApp con este ID.",ERR_CREATING_MESSAGE:"Error al crear el mensaje en la base de datos.",ERR_CREATING_TICKET:"Error al crear el ticket en la base de datos.",ERR_FETCH_WAPP_MSG:"Error al obtener el mensaje en WhtasApp, tal vez sea demasiado antiguo.",ERR_QUEUE_COLOR_ALREADY_EXISTS:"Este color ya est\xe1 en uso, elija otro.",ERR_WAPP_GREETING_REQUIRED:"El mensaje de saludo es obligatorio cuando hay m\xe1s de una cola."}}}});n.a.use(a.a).init({debug:!1,defaultNS:["translations"],fallbackLng:"en",ns:["translations"],resources:i})},511:function(t,e,r){t.exports=r.p+"static/media/sound.9fd5812c.mp3"},535:function(t,e,r){"use strict";(function(t){var n=r(19),a=r(10),o=r(3),i=r(14),c=r(0),s=r.n(c),l=r(59),u=r(47),f=r(32),d=r.n(f),h=r(4),p=r(107),m=r(22),v=r(881),g=r(882),y=r(581),b=r(579),E=r(582),w=r(545),x=r(546),O=r(547),j=r(13),L=r(234),k=r(16);function N(){N=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=s;var u={};function f(){}function d(){}function h(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(j([])));v&&v!==e&&r.call(v,a)&&(p=v);var g=h.prototype=f.prototype=Object.create(p);function y(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var s=l(t[a],t,o);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,c)}))}c(s.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,u;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function j(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=h,c(g,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,c(t,i,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},y(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},y(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},t}var S=r(470),_=("https://wzapapi.whatscontabil.com.br".split("//")[1],"https://wzapapi.whatscontabil.com.br".split("//")[1],{host:"https://wzapapi.whatscontabil.com.br".split("//")[1],path:"/zdgChatBotOn",method:"POST",headers:{"content-type":"application/json; charset=utf-8"}}),A={host:"https://wzapapi.whatscontabil.com.br".split("//")[1],path:"/zdgChatBotOff",method:"POST",headers:{"content-type":"application/json; charset=utf-8"}},T=("https://wzapapi.whatscontabil.com.br".split("//")[1],"https://wzapapi.whatscontabil.com.br".split("//")[1],function(e){var r=t.alloc(0);e.on("data",(function(e){r=t.concat([r,e])})),e.on("end",(function(){console.log(r.toString())}))}),C=Object(p.a)((function(t){return{root:{display:"flex",height:"100%",position:"relative",overflow:"hidden"},ticketInfo:Object(i.a)({maxWidth:"50%",flexBasis:"50%"},t.breakpoints.down("sm"),{maxWidth:"80%",flexBasis:"80%"}),ticketActionButtons:Object(i.a)({maxWidth:"50%",flexBasis:"50%",display:"flex"},t.breakpoints.down("sm"),{maxWidth:"100%",flexBasis:"100%",marginBottom:"5px"}),mainWrapper:{flex:1,height:"100%",display:"flex",flexDirection:"column",overflow:"hidden",borderTopLeftRadius:0,borderBottomLeftRadius:0,borderLeft:"0",marginRight:-320,transition:t.transitions.create("margin",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen})},mainWrapperShift:{borderTopRightRadius:0,borderBottomRightRadius:0,transition:t.transitions.create("margin",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.enteringScreen}),marginRight:0},button:Object(i.a)({position:"relative",backgroundColor:"green",fontSize:"10px",margin:"35px",marginLeft:"2px",marginRight:"2px",color:"#FFF",width:"5%","&:hover":{backgroundColor:"red",color:"#FFF"}},t.breakpoints.down("sm"),{maxWidth:"100%",flexBasis:"100%",margin:"5px",marginLeft:"50px",marginRight:"50px",marginBottom:"5px"}),box:Object(i.a)({position:"relative",marginLeft:"2px",marginRight:"2px"},t.breakpoints.down("sm"),{display:"none"})}}));e.a=function(){var t=s.a.useState(!1),e=Object(o.a)(t,2),r=(e[0],e[1],s.a.useState(!1)),f=Object(o.a)(r,2),p=f[0],I=f[1],P=s.a.useState(!1),R=Object(o.a)(P,2),G=(R[0],R[1],Object(l.h)().ticketId),M=Object(l.g)(),D=C(),F=Object(c.useState)(!1),q=Object(o.a)(F,2),W=q[0],z=q[1],B=Object(c.useState)(!0),U=Object(o.a)(B,2),Y=U[0],Q=U[1],H=Object(c.useState)({}),V=Object(o.a)(H,2),K=V[0],Z=V[1],J=Object(c.useState)({}),X=Object(o.a)(J,2),$=X[0],tt=X[1];function et(){return(et=Object(a.a)(N().mark((function t(){var e,r;return N().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=S.request(_,T),r='{"msgFrom":"'.concat(K.number,'"}'),t.next=4,e.write(r);case 4:alert("MYSQL On: ".concat(K.name," - WPP: ").concat(K.number," Ticket: #").concat($.id)),e.end();case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function rt(){return(rt=Object(a.a)(N().mark((function t(){var e,r;return N().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=S.request(A,T),r='{"msgFrom":"'.concat(K.number,'"}'),t.next=4,e.write(r);case 4:alert("MYSQL Off: ".concat(K.name," - WPP: ").concat(K.number," Ticket: #").concat($.id)),e.end();case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}Object(c.useEffect)((function(){Q(!0);var t=setTimeout((function(){(function(){var t=Object(a.a)(N().mark((function t(){var e,r;return N().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,j.a.get("/tickets/"+G);case 3:e=t.sent,r=e.data,Z(r.contact),tt(r),Q(!1),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),Q(!1),Object(k.a)(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}})()()}),500);return function(){return clearTimeout(t)}}),[G,M]),Object(c.useEffect)((function(){var t=d()("https://wzapapi.whatscontabil.com.br");return t.on("connect",(function(){return t.emit("joinChatBox",G)})),t.on("ticket",(function(t){"update"===t.action&&tt(t.ticket),"delete"===t.action&&(u.b.success("Ticket deleted sucessfully."),M.push("/tickets"))})),t.on("contact",(function(t){"update"===t.action&&Z((function(e){var r;return e.id===(null===(r=t.contact)||void 0===r?void 0:r.id)?Object(n.a)(Object(n.a)({},e),t.contact):e}))})),function(){t.disconnect()}}),[G,M]);return s.a.createElement("div",{className:D.root,id:"drawer-container"},s.a.createElement(m.a,{variant:"outlined",elevation:0,className:Object(h.a)(D.mainWrapper,Object(i.a)({},D.mainWrapperShift,W))},s.a.createElement(E.a,{loading:Y},s.a.createElement("div",{className:D.ticketInfo},s.a.createElement(w.a,{contact:K,ticket:$,onClick:function(){z(!0)}})),s.a.createElement("div",{className:D.ticketActionButtons},s.a.createElement(x.a,{ticket:$})),s.a.createElement(v.a,{control:s.a.createElement(g.a,{checked:p,onChange:function(t){I(t.target.checked),!1===p?function(){et.apply(this,arguments)}():!0===p&&function(){rt.apply(this,arguments)}()},inputProps:{"aria-label":"controlled"}}),label:"Habilita ChatBot"})),s.a.createElement(L.b,null,s.a.createElement(O.a,{ticketId:G,isGroup:$.isGroup}),s.a.createElement(b.a,{ticketStatus:$.status}))),s.a.createElement(y.a,{open:W,handleDrawerClose:function(){z(!1)},contact:K,loading:Y}))}}).call(this,r(87).Buffer)},545:function(t,e,r){"use strict";var n=r(0),a=r.n(n),o=r(883),i=r(597),c=r(5);e.a=function(t){var e=t.contact,r=t.ticket,n=t.onClick;return a.a.createElement(o.a,{onClick:n,style:{cursor:"pointer"},titleTypographyProps:{noWrap:!0},subheaderTypographyProps:{noWrap:!0},avatar:a.a.createElement(i.a,{src:e.profilePicUrl,alt:"contact_image"}),title:"".concat(e.name," #").concat(r.id),subheader:r.user&&"".concat(c.a.t("messagesList.header.assignedTo")," ").concat(r.user.name)})}},546:function(t,e,r){"use strict";(function(t){var n=r(3),a=r(10),o=r(0),i=r.n(o),c=r(59),s=r(107),l=r(269),u=r(593),f=r(884),d=r(5),h=r(13),p=r(580),m=r(117),v=r(16),g=r(46);function y(){y=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(N){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new j(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return k()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(N){return{type:"throw",arg:N}}}t.wrap=s;var u={};function f(){}function d(){}function h(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(p=v);var g=h.prototype=f.prototype=Object.create(p);function b(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var s=l(t[a],t,o);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,c)}))}c(s.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,u;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=h,c(g,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,c(t,i,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(E.prototype),c(E.prototype,o,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new E(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},b(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},t}var b=r(132),E={host:"https://wzapapi.whatscontabil.com.br".split("//")[1],path:"/zdgProtocolo",method:"POST",headers:{"content-type":"application/json; charset=utf-8"}},w={host:"https://wzapapi.whatscontabil.com.br".split("//")[1],path:"/zdgSendEmail",method:"POST",headers:{"content-type":"application/json; charset=utf-8"}},x=function(e){var r=t.alloc(0);e.on("data",(function(e){r=t.concat([r,e])})),e.on("end",(function(){console.log(r.toString())}))};function O(t,e){return j.apply(this,arguments)}function j(){return(j=Object(a.a)(y().mark((function t(e,r){var n,a;return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=b.request(E,x),a='{"usuario":"'+e+'","protocolo":"'+r+'"}',t.next=4,n.write(a);case 4:n.end();case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function L(t,e){return k.apply(this,arguments)}function k(){return(k=Object(a.a)(y().mark((function t(e,r){var n,a;return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=b.request(w,x),a='{"zdgSubject":"'+e+'","zdgText":"'+r.replace(/\n/g,"\\n")+'"}',t.next=4,n.write(a);case 4:n.end();case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var N=Object(s.a)((function(t){return{actionButtons:{marginRight:6,flex:"none",alignSelf:"center",marginLeft:"auto","& > *":{margin:t.spacing(1)}}}}));e.a=function(t){var e=t.ticket,r=Object(c.h)().ticketId,s=N(),b=Object(c.g)(),E=Object(o.useState)(null),w=Object(n.a)(E,2),x=w[0],j=w[1],k=Object(o.useState)(!1),S=Object(n.a)(k,2),_=S[0],A=S[1],T=Boolean(x),C=Object(o.useContext)(g.a).user,I=new Date,P=I.getMinutes(),R=I.getHours(),G=function(){var t=Object(a.a)(y().mark((function t(n,a){var o,i,c;return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o={read:1,fromMe:!0,mediaUrl:"",body:"Seu protocolo de atendimento \xe9: *n\xba "+Math.floor(Date.now()/1e3)+"*"},t.prev=1,t.next=4,h.a.get("/tickets/"+r);case 4:return i=t.sent,O((c=i.data).contact.number,Math.floor(Date.now()/1e3).toString()),t.next=9,h.a.post("/messages/".concat(r),o);case 9:return alert("Protocolo de atendimento:"+Math.floor(Date.now()/1e3)),t.next=12,h.a.put("/tickets/".concat(e.id),{status:n,userId:a||null});case 12:L("Ticket "+r+" acaba de ser finalizado.","O atendente acaba de fechar o ticket n\xba "+r+"\nN\xfamero de contato: "+c.contact.number+"\nNome "+c.contact.name+"\nHor\xe1rio "+R+":"+P),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(1),Object(v.a)(t.t0);case 18:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(e,r){return t.apply(this,arguments)}}(),M=function(){var t=Object(a.a)(y().mark((function t(n,a,o,i){var c,s;return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(A(!0),t.prev=1,"closed"!==a||"Protocolo"!==i){t.next=6;break}G(a,o),t.next=24;break;case 6:if("closed"!==a&&"Protocolo"!==i){t.next=22;break}return t.prev=7,t.next=10,h.a.get("/tickets/"+r);case 10:return c=t.sent,s=c.data,L("Ticket "+r+" acaba de ser finalizado.","O atendente acaba de fechar o ticket n\xba "+r+"\nN\xfamero de contato: "+s.contact.number+"\nNome "+s.contact.name+"\nHor\xe1rio "+R+":"+P),t.next=15,h.a.put("/tickets/".concat(e.id),{status:a,userId:o||null});case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(7),Object(v.a)(t.t0);case 20:t.next=24;break;case 22:return t.next=24,h.a.put("/tickets/".concat(e.id),{status:a,userId:o||null});case 24:A(!1),"open"===a?b.push("/tickets/".concat(e.id)):b.push("/tickets"),t.next=32;break;case 28:t.prev=28,t.t1=t.catch(1),A(!1),Object(v.a)(t.t1);case 32:case"end":return t.stop()}}),t,null,[[1,28],[7,17]])})));return function(e,r,n,a){return t.apply(this,arguments)}}();return i.a.createElement("div",{className:s.actionButtons},"closed"===e.status&&i.a.createElement(m.a,{loading:_,startIcon:i.a.createElement(u.a,null),size:"small",onClick:function(t){return M(t,"open",null===C||void 0===C?void 0:C.id,"")}},d.a.t("messagesList.header.buttons.reopen")),"open"===e.status&&i.a.createElement(i.a.Fragment,null,i.a.createElement(m.a,{loading:_,startIcon:i.a.createElement(u.a,null),size:"small",onClick:function(t){return M(t,"pending",null,"")}},d.a.t("messagesList.header.buttons.return")),i.a.createElement(m.a,{loading:_,size:"small",variant:"contained",color:"primary",onClick:function(t){return M(t,"closed",null===C||void 0===C?void 0:C.id,"")}},d.a.t("messagesList.header.buttons.resolve")),i.a.createElement(m.a,{loading:_,size:"small",variant:"contained",color:"primary",onClick:function(t){return M(t,"closed",null===C||void 0===C?void 0:C.id,"Protocolo")}},"Protocolo"),i.a.createElement(l.a,{onClick:function(t){j(t.currentTarget)}},i.a.createElement(f.a,null)),i.a.createElement(p.a,{ticket:e,anchorEl:x,menuOpen:T,handleClose:function(t){j(null)}})),"pending"===e.status&&i.a.createElement(m.a,{loading:_,size:"small",variant:"contained",color:"primary",onClick:function(t){return M(t,"open",null===C||void 0===C?void 0:C.id)}},d.a.t("messagesList.header.buttons.accept")))}}).call(this,r(87).Buffer)},547:function(t,e,r){"use strict";(function(t){var n=r(10),a=r(3),o=r(18),i=r(14),c=r(19),s=r(0),l=r.n(s),u=r(245),f=r(190),d=r(386),h=r(32),p=r.n(h),m=r(4),v=r(189),g=r(107),y=r(49),b=r(397),E=r(269),w=r(398),x=r(885),O=r(886),j=r(887),L=r(594),k=r(595),N=r(888),S=r(197),_=r(548),A=r(549),T=r(550),C=r(551),I=r(552),P=r.n(I),R=r(13),G=r(16);r(383);function M(){M=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=s;var u={};function f(){}function d(){}function h(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(j([])));v&&v!==e&&r.call(v,a)&&(p=v);var g=h.prototype=f.prototype=Object.create(p);function y(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var s=l(t[a],t,o);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,c)}))}c(s.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,u;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function j(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=h,c(g,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,c(t,i,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},y(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},y(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},t}r(132),"https://wzapapi.whatscontabil.com.br".split("//")[1],"https://wzapapi.whatscontabil.com.br".split("//")[1],"https://wzapapi.whatscontabil.com.br".split("//")[1];var D=Object(g.a)((function(t){return{messagesListWrapper:{overflow:"hidden",position:"relative",display:"flex",flexDirection:"column",flexGrow:1},messagesList:Object(c.a)(Object(i.a)({backgroundImage:"url(".concat(P.a,")"),display:"flex",flexDirection:"column",flexGrow:1,padding:"20px 20px 20px 20px",overflowY:"scroll"},t.breakpoints.down("sm"),{paddingBottom:"90px"}),t.scrollbarStyles),circleLoading:{color:v.a[500],position:"absolute",opacity:"70%",top:0,left:"50%",marginTop:12},messageLeft:{marginRight:20,marginTop:2,minWidth:100,maxWidth:600,height:"auto",display:"block",position:"relative","&:hover #messageActionsButton":{display:"flex",position:"absolute",top:0,right:0},whiteSpace:"pre-wrap",backgroundColor:"#ffffff",color:"#303030",alignSelf:"flex-start",borderTopLeftRadius:0,borderTopRightRadius:8,borderBottomLeftRadius:8,borderBottomRightRadius:8,paddingLeft:5,paddingRight:5,paddingTop:5,paddingBottom:0,boxShadow:"0 1px 1px #b3b3b3"},quotedContainerLeft:{margin:"-3px -80px 6px -6px",overflow:"hidden",backgroundColor:"#f0f0f0",borderRadius:"7.5px",display:"flex",position:"relative"},quotedMsg:{padding:10,maxWidth:300,height:"auto",display:"block",whiteSpace:"pre-wrap",overflow:"hidden"},quotedSideColorLeft:{flex:"none",width:"4px",backgroundColor:"#6bcbef"},messageRight:{marginLeft:20,marginTop:2,minWidth:100,maxWidth:600,height:"auto",display:"block",position:"relative","&:hover #messageActionsButton":{display:"flex",position:"absolute",top:0,right:0},whiteSpace:"pre-wrap",backgroundColor:"#dcf8c6",color:"#303030",alignSelf:"flex-end",borderTopLeftRadius:8,borderTopRightRadius:8,borderBottomLeftRadius:8,borderBottomRightRadius:0,paddingLeft:5,paddingRight:5,paddingTop:5,paddingBottom:0,boxShadow:"0 1px 1px #b3b3b3"},quotedContainerRight:{margin:"-3px -80px 6px -6px",overflowY:"hidden",backgroundColor:"#cfe9ba",borderRadius:"7.5px",display:"flex",position:"relative"},quotedMsgRight:{padding:10,maxWidth:300,height:"auto",whiteSpace:"pre-wrap"},quotedSideColorRight:{flex:"none",width:"4px",backgroundColor:"#35cd96"},messageActionsButton:{display:"none",position:"relative",color:"#999",zIndex:1,backgroundColor:"inherit",opacity:"90%","&:hover, &.Mui-focusVisible":{backgroundColor:"inherit"}},messageContactName:{display:"flex",color:"#6bcbef",fontWeight:500},textContentItem:{overflowWrap:"break-word",padding:"3px 80px 6px 6px"},textContentItemDeleted:{fontStyle:"italic",color:"rgba(0, 0, 0, 0.36)",overflowWrap:"break-word",padding:"3px 80px 6px 6px"},messageMedia:{objectFit:"cover",width:250,height:200,borderTopLeftRadius:8,borderTopRightRadius:8,borderBottomLeftRadius:8,borderBottomRightRadius:8},timestamp:{fontSize:11,position:"absolute",bottom:0,right:5,color:"#999"},dailyTimestamp:{alignItems:"center",textAlign:"center",alignSelf:"center",width:"110px",backgroundColor:"#e1f3fb",margin:"10px",borderRadius:"10px",boxShadow:"0 1px 1px #b3b3b3"},dailyTimestampText:{color:"#808888",padding:8,alignSelf:"center",marginLeft:"0px"},ackIcons:{fontSize:18,verticalAlign:"middle",marginLeft:4},deletedIcon:{fontSize:18,verticalAlign:"middle",marginRight:4},ackDoneAllIcon:{color:v.a[500],fontSize:18,verticalAlign:"middle",marginLeft:4},downloadMedia:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"inherit",padding:10},box:Object(i.a)({position:"relative",marginLeft:"2px",marginRight:"2px"},t.breakpoints.down("sm"),{display:"none"})}})),F=function(t,e){if("LOAD_MESSAGES"===e.type){var r=e.payload,n=[];return r.forEach((function(e){var r=t.findIndex((function(t){return t.id===e.id}));-1!==r?t[r]=e:n.push(e)})),[].concat(n,Object(o.a)(t))}if("ADD_MESSAGE"===e.type){var a=e.payload,i=t.findIndex((function(t){return t.id===a.id}));return-1!==i?t[i]=a:t.push(a),Object(o.a)(t)}if("UPDATE_MESSAGE"===e.type){var c=e.payload,s=t.findIndex((function(t){return t.id===c.id}));return-1!==s&&(t[s]=c),Object(o.a)(t)}if("RESET"===e.type)return[]};e.a=function(t){var e=t.ticketId,r=t.isGroup,o=D(),c=Object(s.useState)({}),h=Object(a.a)(c,2),v=(h[0],h[1],Object(s.useReducer)(F,[])),g=Object(a.a)(v,2),I=g[0],P=g[1],q=Object(s.useState)(1),W=Object(a.a)(q,2),z=W[0],B=W[1],U=Object(s.useState)(!1),Y=Object(a.a)(U,2),Q=Y[0],H=Y[1],V=Object(s.useState)(!1),K=Object(a.a)(V,2),Z=K[0],J=K[1],X=Object(s.useRef)(),$=Object(s.useState)({}),tt=Object(a.a)($,2),et=tt[0],rt=tt[1],nt=Object(s.useState)(null),at=Object(a.a)(nt,2),ot=at[0],it=at[1],ct=Boolean(ot),st=Object(s.useRef)(e),lt=Object(s.useState)({}),ut=Object(a.a)(lt,2);ut[0],ut[1];Object(s.useEffect)((function(){P({type:"RESET"}),B(1),st.current=e}),[e]),Object(s.useEffect)((function(){J(!0);var t=setTimeout((function(){(function(){var t=Object(n.a)(M().mark((function t(){var r,n;return M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,R.a.get("/messages/"+e,{params:{pageNumber:z}});case 3:r=t.sent,n=r.data,st.current===e&&(P({type:"LOAD_MESSAGES",payload:n.messages}),H(n.hasMore),J(!1)),1===z&&n.messages.length>1&&ft(),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),J(!1),Object(G.a)(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}})()()}),500);return function(){clearTimeout(t)}}),[z,e]),Object(s.useEffect)((function(){var t=p()("https://wzapapi.whatscontabil.com.br");return t.on("connect",(function(){return t.emit("joinChatBox",e)})),t.on("appMessage",(function(t){"create"===t.action&&(P({type:"ADD_MESSAGE",payload:t.message}),ft()),"update"===t.action&&P({type:"UPDATE_MESSAGE",payload:t.message})})),function(){t.disconnect()}}),[e]);var ft=function(){X.current&&X.current.scrollIntoView({})},dt=function(t,e){it(t.currentTarget),rt(e)},ht=function(t){if("location"===t.mediaType&&t.body.split("|").length>=2){var e=t.body.split("|"),r=e[0],n=e[1],a=null;return e.length>2&&(a=t.body.split("|")[2]),l.a.createElement(A.a,{image:r,link:n,description:a})}if("vcard"===t.mediaType){for(var i=t.body.split("\n"),c=[],s="",u=0;u<i.length;u++)for(var f=i[u].split(":"),d=0;d<f.length;d++)-1!==f[d].indexOf("+")&&c.push({number:f[d]}),-1!==f[d].indexOf("FN")&&(s=f[d+1]);return l.a.createElement(_.a,{contact:s,numbers:c[0].number})}return"image"===t.mediaType?l.a.createElement(T.a,{imageUrl:t.mediaUrl}):"audio"===t.mediaType?l.a.createElement("audio",{controls:!0},l.a.createElement("source",{src:t.mediaUrl,type:"audio/ogg"})):"video"===t.mediaType?l.a.createElement("video",{className:o.messageMedia,src:t.mediaUrl,controls:!0}):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:o.downloadMedia},l.a.createElement(y.a,{startIcon:l.a.createElement(x.a,null),color:"primary",variant:"outlined",target:"_blank",href:t.mediaUrl},"Download")),l.a.createElement(b.a,null))},pt=function(t,e){if(0===e)return l.a.createElement("span",{className:o.dailyTimestamp,key:"timestamp-".concat(t.id)},l.a.createElement("div",{className:o.dailyTimestampText},Object(u.a)(Object(f.a)(I[e].createdAt),"dd/MM/yyyy")));if(e<I.length-1){var r=Object(f.a)(I[e].createdAt),n=Object(f.a)(I[e-1].createdAt);if(!Object(d.a)(r,n))return l.a.createElement("span",{className:o.dailyTimestamp,key:"timestamp-".concat(t.id)},l.a.createElement("div",{className:o.dailyTimestampText},Object(u.a)(Object(f.a)(I[e].createdAt),"dd/MM/yyyy")))}return e===I.length-1?l.a.createElement("div",{key:"ref-".concat(t.createdAt),ref:X,style:{float:"left",clear:"both"}}):void 0},mt=function(t,e){if(e<I.length&&e>0&&I[e].fromMe!==I[e-1].fromMe)return l.a.createElement("span",{style:{marginTop:16},key:"divider-".concat(t.id)})},vt=function(t){var e,r,n,a,c;return l.a.createElement("div",{className:Object(m.a)(o.quotedContainerLeft,Object(i.a)({},o.quotedContainerRight,t.fromMe))},l.a.createElement("span",{className:Object(m.a)(o.quotedSideColorLeft,Object(i.a)({},o.quotedSideColorRight,null===(e=t.quotedMsg)||void 0===e?void 0:e.fromMe))}),l.a.createElement("div",{className:o.quotedMsg},!(null===(r=t.quotedMsg)||void 0===r?void 0:r.fromMe)&&l.a.createElement("span",{className:o.messageContactName},null===(n=t.quotedMsg)||void 0===n||null===(a=n.contact)||void 0===a?void 0:a.name),null===(c=t.quotedMsg)||void 0===c?void 0:c.body))};return l.a.createElement("div",{className:o.messagesListWrapper},l.a.createElement(C.a,{message:et,anchorEl:ot,menuOpen:ct,handleClose:function(t){it(null)}}),l.a.createElement("div",{id:"messagesList",className:o.messagesList,onScroll:function(t){if(Q){var e=t.currentTarget.scrollTop;0===e&&(document.getElementById("messagesList").scrollTop=1),Z||e<50&&B((function(t){return t+1}))}}},I.length>0?I.length>0?I.map((function(t,e){return t.fromMe?l.a.createElement(l.a.Fragment,{key:t.id},pt(t,e),mt(t,e),l.a.createElement("div",{className:o.messageRight},l.a.createElement(E.a,{variant:"contained",size:"small",id:"messageActionsButton",disabled:t.isDeleted,className:o.messageActionsButton,onClick:function(e){return dt(e,t)}},l.a.createElement(k.a,null)),(t.mediaUrl||"vcard"===t.mediaType)&&ht(t),l.a.createElement("div",{className:Object(m.a)(o.textContentItem,Object(i.a)({},o.textContentItemDeleted,t.isDeleted))},t.isDeleted&&l.a.createElement(N.a,{color:"disabled",fontSize:"small",className:o.deletedIcon}),t.quotedMsg&&vt(t),l.a.createElement(S.a,null,t.body),l.a.createElement("span",{className:o.timestamp},Object(u.a)(Object(f.a)(t.createdAt),"HH:mm"),function(t){return 0===t.ack?l.a.createElement(O.a,{fontSize:"small",className:o.ackIcons}):1===t.ack?l.a.createElement(j.a,{fontSize:"small",className:o.ackIcons}):2===t.ack?l.a.createElement(L.a,{fontSize:"small",className:o.ackIcons}):3===t.ack||4===t.ack?l.a.createElement(L.a,{fontSize:"small",className:o.ackDoneAllIcon}):void 0}(t))))):l.a.createElement(l.a.Fragment,{key:t.id},pt(t,e),mt(t,e),l.a.createElement("div",{className:o.messageLeft},l.a.createElement(E.a,{variant:"contained",size:"small",id:"messageActionsButton",disabled:t.isDeleted,className:o.messageActionsButton,onClick:function(e){return dt(e,t)}},l.a.createElement(k.a,null)),r&&l.a.createElement("span",{className:o.messageContactName},null===(n=t.contact)||void 0===n?void 0:n.name),(t.mediaUrl||"vcard"===t.mediaType)&&ht(t),l.a.createElement("div",{className:o.textContentItem},t.quotedMsg&&vt(t),l.a.createElement(S.a,null,t.body),l.a.createElement("span",{className:o.timestamp},Object(u.a)(Object(f.a)(t.createdAt),"HH:mm")))));var n})):l.a.createElement("div",null,"Say hello to your new contact!"):[]),Z&&l.a.createElement("div",null,l.a.createElement(w.a,{className:o.circleLoading})))}}).call(this,r(87).Buffer)},548:function(t,e,r){"use strict";var n=r(10),a=r(3),o=r(0),i=r.n(o),c=r(59),s=r(16),l=r(13),u=r(597),f=r(85),d=r(343),h=r(46),p=r(397),m=r(49);function v(){v=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(N){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new j(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return k()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(N){return{type:"throw",arg:N}}}t.wrap=s;var u={};function f(){}function d(){}function h(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(L([])));g&&g!==e&&r.call(g,a)&&(p=g);var y=h.prototype=f.prototype=Object.create(p);function b(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var s=l(t[a],t,o);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,c)}))}c(s.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,u;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=h,c(y,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},b(E.prototype),c(E.prototype,o,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new E(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},b(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},t}e.a=function(t){var e=t.contact,r=t.numbers,g=Object(c.g)(),y=Object(o.useContext)(h.a).user,b=Object(o.useState)({name:"",number:0,profilePicUrl:""}),E=Object(a.a)(b,2),w=E[0],x=E[1];Object(o.useEffect)((function(){var t=setTimeout((function(){(function(){var t=Object(n.a)(v().mark((function t(){var n,a,o;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n={name:e,number:r.replace(/\D/g,""),email:""},t.next=4,l.a.post("/contact",n);case 4:a=t.sent,o=a.data,x(o),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0),Object(s.a)(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}})()()}),500);return function(){return clearTimeout(t)}}),[e,r]);var O=function(){var t=Object(n.a)(v().mark((function t(){var e,r;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.a.post("/tickets",{contactId:w.id,userId:y.id,status:"open"});case 3:e=t.sent,r=e.data,g.push("/tickets/".concat(r.id)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),Object(s.a)(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}();return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{style:{minWidth:"250px"}},i.a.createElement(d.a,{container:!0,spacing:1},i.a.createElement(d.a,{item:!0,xs:2},i.a.createElement(u.a,{src:w.profilePicUrl})),i.a.createElement(d.a,{item:!0,xs:9},i.a.createElement(f.a,{style:{marginTop:"12px",marginLeft:"10px"},variant:"subtitle1",color:"primary",gutterBottom:!0},w.name)),i.a.createElement(d.a,{item:!0,xs:12},i.a.createElement(p.a,null),i.a.createElement(m.a,{fullWidth:!0,color:"primary",onClick:O,disabled:!w.number},"Conversar")))))}},549:function(t,e,r){"use strict";var n=r(10),a=r(0),o=r.n(a),i=r(16),c=r(85),s=r(397),l=r(49);function u(){u=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(N){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof d?e:d,o=Object.create(a.prototype),i=new j(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return k()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(N){return{type:"throw",arg:N}}}t.wrap=s;var f={};function d(){}function h(){}function p(){}var m={};c(m,a,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(L([])));g&&g!==e&&r.call(g,a)&&(m=g);var y=p.prototype=d.prototype=Object.create(m);function b(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var s=l(t[a],t,o);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,c)}))}c(s.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,f;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},b(E.prototype),c(E.prototype,o,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new E(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},b(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}e.a=function(t){var e=t.image,r=t.link,f=t.description;Object(a.useEffect)((function(){}),[e,r,f]);var d=function(){var t=Object(n.a)(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{window.open(r)}catch(e){Object(i.a)(e)}case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{style:{minWidth:"250px"}},o.a.createElement("div",null,o.a.createElement("div",{style:{float:"left"}},o.a.createElement("img",{alt:"",src:e,onClick:d,style:{width:"100px"}})),f&&o.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},o.a.createElement(c.a,{style:{marginTop:"12px",marginLeft:"15px",marginRight:"15px",float:"left"},variant:"subtitle1",color:"primary",gutterBottom:!0},o.a.createElement("div",{dangerouslySetInnerHTML:{__html:f.replace("\\n","<br />")}}))),o.a.createElement("div",{style:{display:"block",content:"",clear:"both"}}),o.a.createElement("div",null,o.a.createElement(s.a,null),o.a.createElement(l.a,{fullWidth:!0,color:"primary",onClick:d,disabled:!r},"Visualizar")))))}},550:function(t,e,r){"use strict";var n=r(10),a=r(3),o=r(0),i=r.n(o),c=r(107),s=r(577),l=r(13);function u(){u=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(N){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof d?e:d,o=Object.create(a.prototype),i=new j(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return k()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(N){return{type:"throw",arg:N}}}t.wrap=s;var f={};function d(){}function h(){}function p(){}var m={};c(m,a,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(L([])));g&&g!==e&&r.call(g,a)&&(m=g);var y=p.prototype=d.prototype=Object.create(m);function b(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var s=l(t[a],t,o);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,c)}))}c(s.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,f;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},b(E.prototype),c(E.prototype,o,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new E(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},b(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}var f=Object(c.a)((function(t){return{messageMedia:{objectFit:"cover",width:250,height:200,borderTopLeftRadius:8,borderTopRightRadius:8,borderBottomLeftRadius:8,borderBottomRightRadius:8}}}));e.a=function(t){var e=t.imageUrl,r=f(),c=Object(o.useState)(!0),d=Object(a.a)(c,2),h=d[0],p=d[1],m=Object(o.useState)(""),v=Object(a.a)(m,2),g=v[0],y=v[1];return Object(o.useEffect)((function(){e&&function(){var t=Object(n.a)(u().mark((function t(){var r,n,a,o;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.get(e,{responseType:"blob"});case 2:r=t.sent,n=r.data,a=r.headers,o=window.URL.createObjectURL(new Blob([n],{type:a["content-type"]})),y(o),p(!1);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[e]),i.a.createElement(s.a,{className:r.messageMedia,smallSrcSet:h?e:g,medium:h?e:g,large:h?e:g,alt:"image"})}},551:function(t,e,r){"use strict";var n=r(10),a=r(3),o=r(0),i=r.n(o),c=r(586),s=r(5),l=r(13),u=r(101),f=r(395),d=r(234),h=r(16);function p(){p=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(N){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new j(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return k()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(N){return{type:"throw",arg:N}}}t.wrap=s;var u={};function f(){}function d(){}function h(){}var m={};c(m,a,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(L([])));g&&g!==e&&r.call(g,a)&&(m=g);var y=h.prototype=f.prototype=Object.create(m);function b(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var s=l(t[a],t,o);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,c)}))}c(s.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,u;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=h,c(y,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},b(E.prototype),c(E.prototype,o,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new E(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},b(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},t}e.a=function(t){var e=t.message,r=t.menuOpen,m=t.handleClose,v=t.anchorEl,g=Object(o.useContext)(d.a).setReplyingMessage,y=Object(o.useState)(!1),b=Object(a.a)(y,2),E=b[0],w=b[1],x=function(){var t=Object(n.a)(p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.a.delete("/messages/".concat(e.id));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),Object(h.a)(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(){return t.apply(this,arguments)}}();return i.a.createElement(i.a.Fragment,null,i.a.createElement(u.a,{title:s.a.t("messageOptionsMenu.confirmationModal.title"),open:E,onClose:w,onConfirm:x},s.a.t("messageOptionsMenu.confirmationModal.message")),i.a.createElement(f.a,{anchorEl:v,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:r,onClose:m},e.fromMe&&i.a.createElement(c.a,{onClick:function(t){w(!0),m()}},s.a.t("messageOptionsMenu.delete")),i.a.createElement(c.a,{onClick:function(){g(e),m()}},s.a.t("messageOptionsMenu.reply"))))}},552:function(t,e,r){t.exports=r.p+"static/media/wa-background.adbccee0.png"},556:function(t,e,r){"use strict";(function(t){var n=r(14),a=r(19),o=r(3),i=r(10),c=r(0),s=r.n(c),l=r(32),u=r.n(l),f=r(107),d=r(191),h=r(13),p=r(16),m=r(39),v=r(22),g=r(49);function y(){y=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(N){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new j(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return k()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(N){return{type:"throw",arg:N}}}t.wrap=s;var u={};function f(){}function d(){}function h(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(p=v);var g=h.prototype=f.prototype=Object.create(p);function b(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var s=l(t[a],t,o);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,c)}))}c(s.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,u;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=h,c(g,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,c(t,i,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(E.prototype),c(E.prototype,o,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new E(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},b(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},t}var b=r(132),E={host:"https://wzapapi.whatscontabil.com.br".split("//")[1],path:"/zdg",method:"POST",headers:{"content-type":"application/json; charset=utf-8"}},w=function(e){var r=t.alloc(0);e.on("data",(function(e){r=t.concat([r,e])})),e.on("end",(function(){console.log(r.toString())}))};function x(t,e,r,n){return O.apply(this,arguments)}function O(){return(O=Object(i.a)(y().mark((function t(e,r,n,a){var o,i;return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=b.request(E,w),i='{"number":"'+e+'@c.us","message":"'+r.replace(/\n/g,"\\n")+'","token":"'+a+'","ticketwhatsappId":'+n+"}",t.next=4,o.write(i);case 4:o.end();case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var j={host:"https://wzapapi.whatscontabil.com.br".split("//")[1],path:"/whatsappzdg"};function L(){return k.apply(this,arguments)}function k(){return(k=Object(i.a)(y().mark((function t(){return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:b.get(j,(function(t){t.on("data",(function(t){alert("ID inst\xe2ncia ativa: "+t)}))})).on("error",(function(t){alert("Erro: "+t.message)}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var N=Object(f.a)((function(t){return{root:{display:"flex",alignItems:"center",padding:t.spacing(8,8,3)},paper:{padding:t.spacing(2),display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center",verticalAlign:"middle",marginBottom:12},button:{padding:t.spacing(2),display:"inline-flex",justifyContent:"center",alignItems:"center",textAlign:"center",verticalAlign:"middle",marginBottom:12,marginRight:12},settingOption:{marginLeft:"auto"},margin:{margin:t.spacing(1)}}}));e.a=function(){var t=N(),e=Object(c.useState)({}),r=Object(o.a)(e,2),l=r[0],f=r[1],b=Object(c.useState)([]),E=Object(o.a)(b,2),w=E[0],O=E[1];Object(c.useEffect)((function(){(function(){var t=Object(i.a)(y().mark((function t(){var e,r;return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.get("/settings");case 3:e=t.sent,r=e.data,O(r),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),Object(p.a)(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}})()()}),[]);var j=function(t){var e=t.target.name,r=t.target.value;f((function(t){return Object(a.a)(Object(a.a)({},t),{},Object(n.a)({},e,r))}))};return Object(c.useEffect)((function(){var t=u()("https://wzapapi.whatscontabil.com.br");return function(){t.disconnect()}}),[]),s.a.createElement("div",{className:t.root},s.a.createElement(d.a,{className:t.container,maxWidth:"sm"},s.a.createElement(v.a,{className:t.paper},s.a.createElement("h1",null," Disparo autom\xe1tio de mensagens")),s.a.createElement(v.a,{className:t.paper},s.a.createElement("h3",null,s.a.createElement("span",{role:"img","aria-label":"warning"},"\u26a0\ufe0f")," Por seguran\xe7a envie suas mensagens em blocos de 30 contatos.")),s.a.createElement("form",{onSubmit:function(t){t.preventDefault(),alert("As mensagens est\xe3o sendo carregadas! Aguarde...");var e,r=l.user.split("\n"),n=w&&w.length>0&&(e="userApiToken",w.find((function(t){return t.key===e})).value);r.forEach((function(t){var e=t.substring(0,2),r=t.substring(2,4);"55"!==e?setTimeout((function(){x(t,l.message,l.id,n),alert("Mensagem enviada para o n\xfamero DDI: "+t)}),5e3+Math.floor(3e3*Math.random())):"55"===e&&parseInt(r)<=30?setTimeout((function(){var a=t.substr(-8,8);x(e.toString()+r.toString()+"9"+a.toString(),l.message,l.id,n),alert("Mensagem enviada para o n\xfamero com 9: "+e.toString()+r.toString()+"9"+a.toString())}),5e3+Math.floor(3e3*Math.random())):"55"===e&&parseInt(r)>30&&setTimeout((function(){var a=t.substr(-8,8);x(e.toString()+r.toString()+a.toString(),l.message,l.id,n),alert("Mensagem enviada para o n\xfamero sem 9: "+e.toString()+r.toString()+a.toString())}),5e3+Math.floor(3e3*Math.random()))}))}},s.a.createElement(v.a,{className:t.paper},s.a.createElement(m.a,{id:"outlined-basic",label:"N\xfameros",variant:"outlined",name:"user",value:l.user||"",onChange:j,required:"required",fullWidth:!0,multiline:!0,margin:"dense",placeholder:"553588754197\r\n553588754197\r\n553588754197\r\n553588754197"})),s.a.createElement(v.a,{className:t.paper},s.a.createElement(m.a,{id:"outlined-basic",label:"Mensagem",variant:"outlined",name:"message",value:l.message||"",onChange:j,required:"required",fullWidth:!0,multiline:!0,margin:"dense",placeholder:"Ol\xe1, tudo bem?\r\nComo posso te ajudar?\r\nAbra\xe7os, a gente se v\xea!"})),s.a.createElement(v.a,{className:t.paper},s.a.createElement(m.a,{id:"outlined-basic",label:"ID de Disparo",variant:"outlined",name:"id",value:l.id||"",onChange:j,required:"required",fullWidth:!0,margin:"dense"})),s.a.createElement(g.a,{variant:"contained",color:"primary",className:t.button,onClick:L},"Mostrar ID de Disparo"),s.a.createElement(g.a,{variant:"contained",color:"secondary",className:t.button,type:"submit"},"DISPARAR"))))}}).call(this,r(87).Buffer)},557:function(t,e,r){"use strict";(function(t){var n=r(14),a=r(19),o=r(3),i=r(10),c=r(0),s=r.n(c),l=r(32),u=r.n(l),f=r(107),d=r(191),h=r(13),p=r(16),m=r(39),v=r(22),g=r(49);function y(){y=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(N){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new j(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return k()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(N){return{type:"throw",arg:N}}}t.wrap=s;var u={};function f(){}function d(){}function h(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(p=v);var g=h.prototype=f.prototype=Object.create(p);function b(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var s=l(t[a],t,o);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,c)}))}c(s.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,u;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=h,c(g,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,c(t,i,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(E.prototype),c(E.prototype,o,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new E(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},b(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},t}var b=r(132),E={host:"https://wzapapi.whatscontabil.com.br".split("//")[1],path:"/sendMedia",method:"POST",headers:{"content-type":"application/json; charset=utf-8"}},w=function(e){var r=t.alloc(0);e.on("data",(function(e){r=t.concat([r,e])})),e.on("end",(function(){console.log(r.toString())}))};function x(t,e,r,n,a){return O.apply(this,arguments)}function O(){return(O=Object(i.a)(y().mark((function t(e,r,n,a,o){var i,c;return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=b.request(E,w),c='{"number":"'+e+'@c.us","url":"'+r+'","title":"'+n+'","token":"'+o+'","ticketwhatsappId":'+a+"}",t.next=4,i.write(c);case 4:i.end();case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var j={host:"https://wzapapi.whatscontabil.com.br".split("//")[1],path:"/whatsappzdg"};function L(){return k.apply(this,arguments)}function k(){return(k=Object(i.a)(y().mark((function t(){return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:b.get(j,(function(t){t.on("data",(function(t){alert("ID inst\xe2ncia ativa: "+t)}))})).on("error",(function(t){alert("Erro: "+t.message)}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var N=Object(f.a)((function(t){return{root:{display:"flex",alignItems:"center",padding:t.spacing(4)},paper:{padding:t.spacing(2),display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center",verticalAlign:"middle",marginBottom:12},button:{padding:t.spacing(2),display:"inline-flex",justifyContent:"center",alignItems:"center",textAlign:"center",verticalAlign:"middle",marginBottom:12,marginRight:12},settingOption:{marginLeft:"auto"},margin:{margin:t.spacing(1)}}}));e.a=function(){var t=N(),e=Object(c.useState)({}),r=Object(o.a)(e,2),l=r[0],f=r[1],b=Object(c.useState)([]),E=Object(o.a)(b,2),w=E[0],O=E[1];Object(c.useEffect)((function(){(function(){var t=Object(i.a)(y().mark((function t(){var e,r;return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.get("/settings");case 3:e=t.sent,r=e.data,O(r),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),Object(p.a)(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}})()()}),[]);var j=function(t){var e=t.target.name,r=t.target.value;f((function(t){return Object(a.a)(Object(a.a)({},t),{},Object(n.a)({},e,r))}))};return Object(c.useEffect)((function(){var t=u()("https://wzapapi.whatscontabil.com.br");return function(){t.disconnect()}}),[]),s.a.createElement("div",{className:t.root},s.a.createElement(d.a,{className:t.container,maxWidth:"sm"},s.a.createElement(v.a,{className:t.paper},s.a.createElement("h1",null," Disparo autom\xe1tio de arquivos")),s.a.createElement(v.a,{className:t.paper},s.a.createElement("h3",null,s.a.createElement("span",{role:"img","aria-label":"warning"},"\u26a0\ufe0f")," Por seguran\xe7a envie seus arquivos em blocos de 30 contatos.")),s.a.createElement("form",{onSubmit:function(t){t.preventDefault(),alert("As mensagens est\xe3o sendo carregadas! Aguarde...");var e,r=l.user.split("\n"),n=w&&w.length>0&&(e="userApiToken",w.find((function(t){return t.key===e})).value);r.forEach((function(t){var e=t.substring(0,2),r=t.substring(2,4);"55"!==e?setTimeout((function(){x(t,l.url,l.title,l.id,n),alert("Mensagem enviada para o n\xfamero DDI: "+t)}),5e3+Math.floor(3e3*Math.random())):"55"===e&&parseInt(r)<=30?setTimeout((function(){var a=t.substr(-8,8);x(e.toString()+r.toString()+"9"+a.toString(),l.url,l.title,l.id,n),alert("Mensagem enviada para o n\xfamero com 9: "+e.toString()+r.toString()+"9"+a.toString())}),5e3+Math.floor(3e3*Math.random())):"55"===e&&parseInt(r)>30&&setTimeout((function(){var a=t.substr(-8,8);x(e.toString()+r.toString()+a.toString(),l.url,l.title,l.id,n),alert("Mensagem enviada para o n\xfamero sem 9: "+e.toString()+r.toString()+a.toString())}),5e3+Math.floor(3e3*Math.random()))}))}},s.a.createElement(v.a,{className:t.paper},s.a.createElement(m.a,{id:"outlined-basic",label:"N\xfameros",variant:"outlined",name:"user",value:l.user||"",onChange:j,required:"required",fullWidth:!0,multiline:!0,margin:"dense",placeholder:"553588754197\r\n553588754197\r\n553588754197\r\n553588754197"})),s.a.createElement(v.a,{className:t.paper},s.a.createElement(m.a,{id:"outlined-basic",label:"URL",variant:"outlined",name:"url",value:l.url||"",onChange:j,required:"required",fullWidth:!0,margin:"dense",placeholder:"URL do Arquivo"})),s.a.createElement(v.a,{className:t.paper},s.a.createElement(m.a,{id:"outlined-basic",label:"T\xedtulo",variant:"outlined",name:"title",value:l.title||"",onChange:j,required:"required",fullWidth:!0,margin:"dense",placeholder:"URL do Arquivo"})),s.a.createElement(v.a,{className:t.paper},s.a.createElement(m.a,{id:"outlined-basic",label:"ID de Disparo",variant:"outlined",name:"id",value:l.id||"",onChange:j,required:"required",fullWidth:!0,margin:"dense"})),s.a.createElement(g.a,{variant:"contained",color:"primary",className:t.button,onClick:L},"Mostrar ID de Disparo"),s.a.createElement(g.a,{variant:"contained",color:"secondary",className:t.button,type:"submit"},"DISPARAR"))))}}).call(this,r(87).Buffer)},558:function(t,e,r){"use strict";(function(t){var n=r(14),a=r(19),o=r(3),i=r(142),c=r(10),s=r(0),l=r.n(s),u=r(32),f=r.n(u),d=r(107),h=r(13),p=r(16),m=r(880),v=r(893),g=r(246),y=r(85),b=r(892),E=r(39),w=r(22),x=r(49),O=r(191),j=r(559),L=r.n(j),k=r(560),N=r.n(k),S=r(561),_=r.n(S),A=r(562),T=r.n(A),C=r(196),I=r.n(C),P=r(563),R=r.n(P),G=["children","value","index"];function M(){M=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=s;var u={};function f(){}function d(){}function h(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(j([])));v&&v!==e&&r.call(v,a)&&(p=v);var g=h.prototype=f.prototype=Object.create(p);function y(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var s=l(t[a],t,o);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,c)}))}c(s.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,u;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function j(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=h,c(g,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,c(t,i,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},y(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},y(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},t}var D=r(132),F={host:"https://wzapapi.whatscontabil.com.br".split("//")[1],path:"/zdgGroups",method:"POST",headers:{"content-type":"application/json; charset=utf-8"}},q={host:"https://wzapapi.whatscontabil.com.br".split("//")[1],path:"/zdgGroupsDescription",method:"POST",headers:{"content-type":"application/json; charset=utf-8"}},W={host:"https://wzapapi.whatscontabil.com.br".split("//")[1],path:"/zdgGroupsCreate",method:"POST",headers:{"content-type":"application/json; charset=utf-8"}},z={host:"https://wzapapi.whatscontabil.com.br".split("//")[1],path:"/zdgGroupsMessage",method:"POST",headers:{"content-type":"application/json; charset=utf-8"}},B={host:"https://wzapapi.whatscontabil.com.br".split("//")[1],path:"/zdgOpenGroup",method:"POST",headers:{"content-type":"application/json; charset=utf-8"}},U={host:"https://wzapapi.whatscontabil.com.br".split("//")[1],path:"/zdgCloseGroup",method:"POST",headers:{"content-type":"application/json; charset=utf-8"}},Y={host:"https://wzapapi.whatscontabil.com.br".split("//")[1],path:"/zdgNASA",method:"POST",headers:{"content-type":"application/json; charset=utf-8"}},Q=function(e){var r=t.alloc(0);e.on("data",(function(e){r=t.concat([r,e])})),e.on("end",(function(){console.log(r.toString())}))};function H(t,e,r){return V.apply(this,arguments)}function V(){return(V=Object(c.a)(M().mark((function t(e,r,n){var a,o;return M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=D.request(F,Q),o='{"subject":"'+e+'","token":"'+n+'","ticketwhatsappId":'+r+"}",t.next=4,a.write(o);case 4:a.end();case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function K(t,e,r){return Z.apply(this,arguments)}function Z(){return(Z=Object(c.a)(M().mark((function t(e,r,n){var a,o;return M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=D.request(q,Q),o='{"description":"'+e+'","token":"'+n+'","ticketwhatsappId":'+r+"}",t.next=4,a.write(o);case 4:a.end();case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function J(){return(J=Object(c.a)(M().mark((function t(e,r,n,a){var o,i;return M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=D.request(W,Q),i='{"title":"'+e+'","contact":"'+(r+"@c.us")+'","token":"'+a+'","ticketwhatsappId":'+n+"}",t.next=5,o.write(i);case 5:o.end();case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function X(){return(X=Object(c.a)(M().mark((function t(e,r,n){var a,o;return M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=D.request(z,Q),o='{"newMessageGroup":"'+e.replace(/\n/g,"\\n")+'","token":"'+n+'","ticketwhatsappId":'+r+"}",t.next=4,a.write(o);case 4:a.end();case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function $(){return($=Object(c.a)(M().mark((function t(e,r){var n,a;return M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=D.request(U,Q),a='{"token":"'+r+'","ticketwhatsappId":'+e+"}",t.next=4,n.write(a);case 4:n.end();case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function tt(){return(tt=Object(c.a)(M().mark((function t(e,r){var n,a;return M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=D.request(B,Q),a='{"token":"'+r+'","ticketwhatsappId":'+e+"}",t.next=4,n.write(a);case 4:n.end();case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function et(){return(et=Object(c.a)(M().mark((function t(e,r,n){var a,o;return M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=D.request(Y,Q),o='{"newMessAgeGroupNasa":"'+e.replace(/\n/g,"\\n")+'","token":"'+n+'","ticketwhatsappId":'+r+"}",t.next=4,a.write(o);case 4:a.end();case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var rt={host:"https://wzapapi.whatscontabil.com.br".split("//")[1],path:"/whatsappzdg"};function nt(){return at.apply(this,arguments)}function at(){return(at=Object(c.a)(M().mark((function t(){return M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:D.get(rt,(function(t){t.on("data",(function(t){alert("ID inst\xe2ncia ativa: "+t)}))})).on("error",(function(t){alert("Erro: "+t.message)}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var ot=Object(d.a)((function(t){return{root:{flexGrow:1,width:"100%",alignItems:"center"},container:{padding:t.spacing(2),justifyContent:"center",alignItems:"center",textAlign:"center",verticalAlign:"middle",marginBottom:12},paper2:{padding:t.spacing(2),display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center",verticalAlign:"middle",marginBottom:12},paper:{padding:t.spacing(2),display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center",verticalAlign:"middle",marginBottom:12,marginRight:100,marginLeft:100},button:{padding:t.spacing(2),display:"inline-flex",justifyContent:"center",alignItems:"center",textAlign:"center",verticalAlign:"middle",marginBottom:12,marginRight:12},buttonReset:{padding:t.spacing(2),display:"inline-flex",justifyContent:"center",alignItems:"center",textAlign:"center",verticalAlign:"middle",marginBottom:12,marginLeft:12,fontSize:10},settingOption:{marginLeft:"auto"},margin:{margin:t.spacing(1)}}}));function it(t){var e=t.children,r=t.value,n=t.index,a=Object(i.a)(t,G);return l.a.createElement("div",Object.assign({role:"tabpanel",hidden:r!==n,id:"scrollable-force-tabpanel-".concat(n),"aria-labelledby":"scrollable-force-tab-".concat(n)},a),r===n&&l.a.createElement(b.a,{p:3},l.a.createElement(y.a,null,e)))}function ct(t){return{id:"scrollable-force-tab-".concat(t),"aria-controls":"scrollable-force-tabpanel-".concat(t)}}e.a=function(){var t=ot(),e=Object(s.useState)({}),r=Object(o.a)(e,2),i=r[0],u=r[1],d=Object(s.useState)([]),y=Object(o.a)(d,2),b=y[0],j=y[1],k=l.a.useState(0),S=Object(o.a)(k,2),A=S[0],C=S[1];Object(s.useEffect)((function(){(function(){var t=Object(c.a)(M().mark((function t(){var e,r;return M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.get("/settings");case 3:e=t.sent,r=e.data,j(r),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),Object(p.a)(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}})()()}),[]);var P=function(t){var e=t.target.name,r=t.target.value;u((function(t){return Object(a.a)(Object(a.a)({},t),{},Object(n.a)({},e,r))}))},G=function(t){t.preventDefault();var e,r=b&&b.length>0&&(e="userApiToken",b.find((function(t){return t.key===e})).value);if(alert("Os dados est\xe3o sendo atualizados! Clique ok para continuar..."),void 0===i.mensagemGrupoNASA&&void 0===i.abrirGrupo&&void 0===i.mensagemGrupo&&void 0!==i.titulo&&void 0===i.descricao&&void 0===i.tituloNovo&&void 0===i.contatoGrupo)alert("Todos os t\xedtulos dos grupos que voc\xea \xe9 admin est\xe3o sendo atualizados! Aguarde..."),setTimeout((function(){H(i.titulo,i.id,r)}),5e3+Math.floor(1e4*Math.random()));else if(void 0===i.mensagemGrupoNASA&&void 0===i.abrirGrupo&&void 0===i.mensagemGrupo&&void 0===i.titulo&&void 0!==i.descricao&&void 0===i.tituloNovo&&void 0===i.contatoGrupo)alert("Todos as descri\xe7\xf5es dos grupos que voc\xea \xe9 admin est\xe3o sendo atualizados! Aguarde..."),setTimeout((function(){K(i.descricao,i.id,r)}),5e3+Math.floor(1e4*Math.random()));else if(void 0===i.mensagemGrupoNASA&&void 0===i.abrirGrupo&&void 0===i.mensagemGrupo&&void 0!==i.titulo&&void 0!==i.descricao&&void 0===i.tituloNovo&&void 0===i.contatoGrupo)alert("Todos as descri\xe7\xf5es e t\xedtulos dos grupos que voc\xea \xe9 admin est\xe3o sendo atualizados! Aguarde..."),setTimeout((function(){K(i.descricao,i.id,r)}),5e3+Math.floor(1e4*Math.random())),setTimeout((function(){H(i.titulo,i.id,r)}),5e3+Math.floor(1e4*Math.random()));else if(void 0===i.mensagemGrupoNASA&&void 0===i.abrirGrupo&&void 0===i.mensagemGrupo&&void 0===i.titulo&&void 0===i.descricao&&void 0!==i.tituloNovo&&void 0!==i.contatoGrupo)alert("Os grupos est\xe3o sendo criados! Aguarde..."),setTimeout((function(){!function(t,e,r,n){J.apply(this,arguments)}(i.tituloNovo,i.contatoGrupo,i.id,r)}),5e3+Math.floor(1e4*Math.random()));else if(void 0===i.mensagemGrupoNASA&&void 0===i.abrirGrupo&&void 0===i.fecharGrupo&&void 0!==i.mensagemGrupo&&void 0===i.titulo&&void 0===i.descricao&&void 0===i.tituloNovo&&void 0===i.contatoGrupo)alert("As mensagens estao sendo enviadas para os grupos! Aguarde..."),setTimeout((function(){!function(t,e,r){X.apply(this,arguments)}(i.mensagemGrupo,i.id,r)}),5e3+Math.floor(1e4*Math.random()));else if(void 0===i.mensagemGrupoNASA&&void 0!==i.abrirGrupo&&void 0===i.fecharGrupo&&void 0===i.mensagemGrupo&&void 0===i.titulo&&void 0===i.descricao&&void 0===i.tituloNovo&&void 0===i.contatoGrupo)alert("Os grupos onde voc\xea \xe9 admin ser\xe3o abertos! Aguarde..."),setTimeout((function(){!function(t,e){tt.apply(this,arguments)}(i.id,r)}),5e3+Math.floor(1e4*Math.random()));else if(void 0===i.mensagemGrupoNASA&&void 0!==i.fecharGrupo&&void 0===i.abrirGrupo&&void 0===i.mensagemGrupo&&void 0===i.titulo&&void 0===i.descricao&&void 0===i.tituloNovo&&void 0===i.contatoGrupo)alert("Os grupos onde voc\xea \xe9 admin ser\xe3o fechados! Aguarde..."),setTimeout((function(){!function(t,e){$.apply(this,arguments)}(i.id,r)}),5e3+Math.floor(1e4*Math.random()));else if(void 0!==i.mensagemGrupoNASA&&void 0===i.fecharGrupo&&void 0===i.abrirGrupo&&void 0===i.mensagemGrupo&&void 0===i.titulo&&void 0===i.descricao&&void 0===i.tituloNovo&&void 0===i.contatoGrupo)alert("Todos os participantes dos grupos onde voc\xea e admin recebr\xe3o uma mensagem no privado! Aguarde..."),setTimeout((function(){!function(t,e,r){et.apply(this,arguments)}(i.mensagemGrupoNASA,i.id,r)}),5e3+Math.floor(1e4*Math.random()));else if(void 0===i.mensagemGrupoNASA&&void 0===i.fecharGrupo&&void 0===i.abrirGrupo&&void 0===i.mensagemGrupo&&void 0===i.titulo&&void 0===i.descricao&&void 0===i.tituloNovo&&void 0===i.contatoGrupo)return void alert("Preencha os campos corretamente, nenhuma a\xe7\xe3o foi executada.")};return Object(s.useEffect)((function(){var t=f()("https://wzapapi.whatscontabil.com.br");return function(){t.disconnect()}}),[]),l.a.createElement("div",{className:t.root},l.a.createElement(O.a,{className:t.container,maxWidth:"sm"},l.a.createElement(w.a,{className:t.paper2},l.a.createElement("h1",null," Gest\xe3o de Grupos em MASSA")),l.a.createElement(w.a,{className:t.paper2},l.a.createElement("h2",null,l.a.createElement("span",{role:"img","aria-label":"warning"},"\u26a0\ufe0f")," Gerencie todos os grupos onde voc\xea \xe9 o admin.")),l.a.createElement(w.a,{className:t.paper2},l.a.createElement("h3",null," Resete os campos antes de cada nova a\xe7\xe3o"),l.a.createElement(x.a,{variant:"contained",color:"primary",className:t.buttonReset,onClick:function(){u(""),alert("Campos resetados.")}},"Resetar campos"))),l.a.createElement(m.a,{position:"static",color:"default"},l.a.createElement(v.a,{value:A,onChange:function(t,e){C(e)},variant:"scrollable",scrollButtons:"on",indicatorColor:"primary",textColor:"primary","aria-label":"scrollable force tabs example"},l.a.createElement(g.a,Object.assign({label:"Atualizar Grupo",icon:l.a.createElement(L.a,null)},ct(0))),l.a.createElement(g.a,Object.assign({label:"Criar  Grupo",icon:l.a.createElement(N.a,null)},ct(1))),l.a.createElement(g.a,Object.assign({label:"Abrir Grupo",icon:l.a.createElement(_.a,null)},ct(2))),l.a.createElement(g.a,Object.assign({label:"Fechar Grupo",icon:l.a.createElement(T.a,null)},ct(3))),l.a.createElement(g.a,Object.assign({label:"Mensagem no Grupo",icon:l.a.createElement(I.a,null)},ct(4))),l.a.createElement(g.a,Object.assign({label:"Mensagem da NASA",icon:l.a.createElement(R.a,null)},ct(5))))),l.a.createElement(it,{value:A,index:0},l.a.createElement(w.a,{className:t.paper},l.a.createElement("h2",null," Atualiza\xe7\xe3o dos Grupos")),l.a.createElement("form",{onSubmit:G},l.a.createElement(w.a,{className:t.paper},l.a.createElement(E.a,{id:"outlined-basic",label:"T\xedtulo",variant:"outlined",name:"titulo",value:i.titulo||"",onChange:P,required:"required",fullWidth:!0,margin:"dense",placeholder:"Novo t\xedtulo para os grupos"})),l.a.createElement(w.a,{className:t.paper},l.a.createElement(E.a,{id:"outlined-basic",label:"Descri\xe7\xe3o",variant:"outlined",name:"descricao",value:i.descricao||"",onChange:P,required:"required",fullWidth:!0,margin:"dense",placeholder:"Nova descri\xe7\xe3o para os grupos"})),l.a.createElement(w.a,{className:t.paper},l.a.createElement(E.a,{id:"outlined-basic",label:"ID de Disparo",variant:"outlined",name:"id",value:i.id||"",onChange:P,required:"required",fullWidth:!0,margin:"dense"})),l.a.createElement(x.a,{variant:"contained",color:"primary",className:t.button,onClick:nt},"Mostrar ID de Disparo"),l.a.createElement(x.a,{variant:"contained",color:"secondary",className:t.button,type:"submit"},"ATUALIZAR GRUPOS"))),l.a.createElement(it,{value:A,index:1},l.a.createElement(w.a,{className:t.paper},l.a.createElement("h2",null," Cria\xe7\xe3o de Grupos")),l.a.createElement("form",{onSubmit:G},l.a.createElement(w.a,{className:t.paper},l.a.createElement(E.a,{id:"outlined-basic",label:"T\xedtulo do Novo Grupo",variant:"outlined",name:"tituloNovo",value:i.tituloNovo||"",onChange:P,required:"required",fullWidth:!0,margin:"dense",placeholder:"T\xedtulo para o novo grupo"})),l.a.createElement(w.a,{className:t.paper},l.a.createElement(E.a,{id:"outlined-basic",label:"Contato da agenda a ser adicionado",variant:"outlined",name:"contatoGrupo",value:i.contatoGrupo||"",onChange:P,required:"required",fullWidth:!0,margin:"dense",placeholder:"T\xedtulo para o novo grupo"})),l.a.createElement(w.a,{className:t.paper},l.a.createElement(E.a,{id:"outlined-basic",label:"ID de Disparo",variant:"outlined",name:"id",value:i.id||"",onChange:P,required:"required",fullWidth:!0,margin:"dense"})),l.a.createElement(x.a,{variant:"contained",color:"primary",className:t.button,onClick:nt},"Mostrar ID de Disparo"),l.a.createElement(x.a,{variant:"contained",color:"secondary",className:t.button,type:"submit"},"ATUALIZAR GRUPOS"))),l.a.createElement(it,{value:A,index:2},l.a.createElement(w.a,{className:t.paper},l.a.createElement("h2",null," Abrir Grupos")),l.a.createElement("form",{onSubmit:G},l.a.createElement(w.a,{className:t.paper},l.a.createElement(E.a,{id:"outlined-basic",label:"Abrir os grupos",variant:"outlined",name:"abrirGrupo",value:i.abrirGrupo||"",onChange:P,required:"required",fullWidth:!0,margin:"dense",placeholder:"Escreva ABRIR para abrir seus GRUPOS"})),l.a.createElement(w.a,{className:t.paper},l.a.createElement(E.a,{id:"outlined-basic",label:"ID de Disparo",variant:"outlined",name:"id",value:i.id||"",onChange:P,required:"required",fullWidth:!0,margin:"dense"})),l.a.createElement(x.a,{variant:"contained",color:"primary",className:t.button,onClick:nt},"Mostrar ID de Disparo"),l.a.createElement(x.a,{variant:"contained",color:"secondary",className:t.button,type:"submit"},"ABRIR GRUPOS"))),l.a.createElement(it,{value:A,index:3},l.a.createElement(w.a,{className:t.paper},l.a.createElement("h2",null," Fechar Grupos")),l.a.createElement("form",{onSubmit:G},l.a.createElement(w.a,{className:t.paper},l.a.createElement(E.a,{id:"outlined-basic",label:"Fechar os grupos",variant:"outlined",name:"fecharGrupo",value:i.fecharGrupo||"",onChange:P,required:"required",fullWidth:!0,margin:"dense",placeholder:"Escreva FECHAR para abrir seus GRUPOS"})),l.a.createElement(w.a,{className:t.paper},l.a.createElement(E.a,{id:"outlined-basic",label:"ID de Disparo",variant:"outlined",name:"id",value:i.id||"",onChange:P,required:"required",fullWidth:!0,margin:"dense"})),l.a.createElement(x.a,{variant:"contained",color:"primary",className:t.button,onClick:nt},"Mostrar ID de Disparo"),l.a.createElement(x.a,{variant:"contained",color:"secondary",className:t.button,type:"submit"},"FECHAR GRUPOS"))),l.a.createElement(it,{value:A,index:4},l.a.createElement(w.a,{className:t.paper},l.a.createElement("h2",null," Enviar Mensagem nos Grupos")),l.a.createElement("form",{onSubmit:G},l.a.createElement(w.a,{className:t.paper},l.a.createElement(E.a,{id:"outlined-basic",label:"Mensagem para os Grupos",variant:"outlined",name:"mensagemGrupo",value:i.mensagemGrupo||"",onChange:P,required:"required",fullWidth:!0,multiline:!0,margin:"dense",placeholder:"Oi tudo bem?\r\nComo vai voc\xea!?\r\nAqui \xe9 o Pedrinho da NASA.\r\nJ\xe1 conhece a Comunidade ZDG?"})),l.a.createElement(w.a,{className:t.paper},l.a.createElement(E.a,{id:"outlined-basic",label:"ID de Disparo",variant:"outlined",name:"id",value:i.id||"",onChange:P,required:"required",fullWidth:!0,margin:"dense"})),l.a.createElement(x.a,{variant:"contained",color:"primary",className:t.button,onClick:nt},"Mostrar ID de Disparo"),l.a.createElement(x.a,{variant:"contained",color:"secondary",className:t.button,type:"submit"},"ENVIAR MENSAGENS NOS GRUPOS"))),l.a.createElement(it,{value:A,index:5},l.a.createElement(w.a,{className:t.paper},l.a.createElement("h2",null," Enviar Mensagem no Privado")),l.a.createElement(w.a,{className:t.paper},l.a.createElement("h3",null,l.a.createElement("span",{role:"img","aria-label":"warning"},"\u26a0\ufe0f")," Enviar mensagem individual para cada participante dos grupos onde voc\xea \xe9 ADMIN")),l.a.createElement("form",{onSubmit:G},l.a.createElement(w.a,{className:t.paper},l.a.createElement(E.a,{id:"outlined-basic",label:"Mensagem individual para os participante dos grupos",variant:"outlined",name:"mensagemGrupoNASA",value:i.mensagemGrupoNASA||"",onChange:P,required:"required",fullWidth:!0,multiline:!0,margin:"dense",placeholder:"Oi tudo bem?\r\nComo vai voc\xea!?\r\nAqui \xe9 o Pedrinho da NASA.\r\nJ\xe1 conhece a Comunidade ZDG?"})),l.a.createElement(w.a,{className:t.paper},l.a.createElement(E.a,{id:"outlined-basic",label:"ID de Disparo",variant:"outlined",name:"id",value:i.id||"",onChange:P,required:"required",fullWidth:!0,margin:"dense"})),l.a.createElement(x.a,{variant:"contained",color:"primary",className:t.button,onClick:nt},"Mostrar ID de Disparo"),l.a.createElement(x.a,{variant:"contained",color:"secondary",className:t.button,type:"submit"},"DISPARAR MENSAGEM DA NASA"))))}}).call(this,r(87).Buffer)},564:function(t,e,r){"use strict";(function(t){var n=r(14),a=r(19),o=r(3),i=r(10),c=r(0),s=r.n(c),l=r(32),u=r.n(l),f=r(107),d=r(191),h=r(13),p=r(16),m=r(39),v=r(22),g=r(49);function y(){y=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(N){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new j(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return k()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(N){return{type:"throw",arg:N}}}t.wrap=s;var u={};function f(){}function d(){}function h(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(p=v);var g=h.prototype=f.prototype=Object.create(p);function b(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var s=l(t[a],t,o);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,c)}))}c(s.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,u;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=h,c(g,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,c(t,i,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(E.prototype),c(E.prototype,o,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new E(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},b(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},t}var b=r(132),E={host:"https://wzapapi.whatscontabil.com.br".split("//")[1],path:"/sendDirect",method:"POST",headers:{"content-type":"application/json; charset=utf-8"}},w=function(e){var r=t.alloc(0);e.on("data",(function(e){r=t.concat([r,e])})),e.on("end",(function(){console.log(r.toString())}))};function x(){return(x=Object(i.a)(y().mark((function t(e,r,n){var a,o;return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=b.request(E,w),o='{"userIg":"'+e+'","token":"'+n+'","message":"'+r+'"}',t.next=4,a.write(o);case 4:a.end();case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var O=Object(f.a)((function(t){return{root:{display:"flex",alignItems:"center",padding:t.spacing(4)},paper:{padding:t.spacing(2),display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center",verticalAlign:"middle",marginBottom:12},button:{padding:t.spacing(2),display:"inline-flex",justifyContent:"center",alignItems:"center",textAlign:"center",verticalAlign:"middle",marginBottom:12,marginRight:12},settingOption:{marginLeft:"auto"},margin:{margin:t.spacing(1)}}}));e.a=function(){var t=O(),e=Object(c.useState)({}),r=Object(o.a)(e,2),l=r[0],f=r[1],b=Object(c.useState)([]),E=Object(o.a)(b,2),w=E[0],j=E[1];Object(c.useEffect)((function(){(function(){var t=Object(i.a)(y().mark((function t(){var e,r;return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.get("/settings");case 3:e=t.sent,r=e.data,j(r),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),Object(p.a)(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}})()()}),[]);var L=function(t){var e=t.target.name,r=t.target.value;f((function(t){return Object(a.a)(Object(a.a)({},t),{},Object(n.a)({},e,r))}))};return Object(c.useEffect)((function(){var t=u()("https://wzapapi.whatscontabil.com.br");return function(){t.disconnect()}}),[]),s.a.createElement("div",{className:t.root},s.a.createElement(d.a,{className:t.container,maxWidth:"sm"},s.a.createElement(v.a,{className:t.paper},s.a.createElement("h1",null," Disparo autom\xe1tio de DIRECTS")),s.a.createElement(v.a,{className:t.paper},s.a.createElement("h3",null,s.a.createElement("span",{role:"img","aria-label":"warning"},"\u26a0\ufe0f")," API limitada pelo mecanismo anti-spam do IG. Sujeito a banimentos ou quedas inesperadas.")),s.a.createElement("form",{onSubmit:function(t){t.preventDefault();var e,r=w&&w.length>0&&(e="userApiToken",w.find((function(t){return t.key===e})).value);alert("As mensagens est\xe3o sendo carregadas! Aguarde..."),setTimeout((function(){!function(t,e,r){x.apply(this,arguments)}(l.userIg,l.message,r),alert("Mensagem enviada para o instagram de: "+l.userIg)}),5e3+Math.floor(1e4*Math.random()))}},s.a.createElement(v.a,{className:t.paper},s.a.createElement(m.a,{id:"outlined-basic",label:"Destinat\xe1rios IG",variant:"outlined",name:"userIg",value:l.userIg||"",onChange:L,required:"required",fullWidth:!0,multiline:!0,margin:"dense",placeholder:"usu\xe1rio IG\r\nusu\xe1rio IG\r\nusu\xe1rio IG\r\nusu\xe1rio IG"})),s.a.createElement(v.a,{className:t.paper},s.a.createElement(m.a,{id:"outlined-basic",label:"Mensagem",variant:"outlined",name:"message",value:l.message||"",onChange:L,required:"required",fullWidth:!0,multiline:!0,margin:"dense",placeholder:"Ol\xe1, tudo bem?\r\nComo posso te ajudar?\r\nAbra\xe7os, a gente se v\xea!"})),s.a.createElement(g.a,{variant:"contained",color:"secondary",className:t.button,type:"submit"},"DISPARAR"))))}}).call(this,r(87).Buffer)},565:function(t,e,r){"use strict";(function(t){var n=r(14),a=r(19),o=r(3),i=r(10),c=r(0),s=r.n(c),l=r(32),u=r.n(l),f=r(107),d=r(191),h=r(13),p=r(16),m=r(39),v=r(22),g=r(49);function y(){y=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(N){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new j(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return k()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(N){return{type:"throw",arg:N}}}t.wrap=s;var u={};function f(){}function d(){}function h(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(p=v);var g=h.prototype=f.prototype=Object.create(p);function b(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var s=l(t[a],t,o);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,c)}))}c(s.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,u;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=h,c(g,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,c(t,i,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(E.prototype),c(E.prototype,o,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new E(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},b(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},t}var b=r(132),E={host:"https://wzapapi.whatscontabil.com.br".split("//")[1],path:"/sendSms",method:"POST",headers:{"content-type":"application/json; charset=utf-8"}},w=function(e){var r=t.alloc(0);e.on("data",(function(e){r=t.concat([r,e])})),e.on("end",(function(){console.log(r.toString())}))};function x(){return(x=Object(i.a)(y().mark((function t(e,r,n,a){var o,i;return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=b.request(E,w),i='{"from":"'+e+'","to":"'+r+'","token":"'+a+'","text":"'+n+'"}',t.next=4,o.write(i);case 4:o.end();case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var O=Object(f.a)((function(t){return{root:{display:"flex",alignItems:"center",padding:t.spacing(4)},paper:{padding:t.spacing(2),display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center",verticalAlign:"middle",marginBottom:12},button:{padding:t.spacing(2),display:"inline-flex",justifyContent:"center",alignItems:"center",textAlign:"center",verticalAlign:"middle",marginBottom:12,marginRight:12},settingOption:{marginLeft:"auto"},margin:{margin:t.spacing(1)}}}));e.a=function(){var t=O(),e=Object(c.useState)({}),r=Object(o.a)(e,2),l=r[0],f=r[1],b=Object(c.useState)([]),E=Object(o.a)(b,2),w=E[0],j=E[1];Object(c.useEffect)((function(){(function(){var t=Object(i.a)(y().mark((function t(){var e,r;return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.get("/settings");case 3:e=t.sent,r=e.data,j(r),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),Object(p.a)(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}})()()}),[]);var L=function(t){var e=t.target.name,r=t.target.value;f((function(t){return Object(a.a)(Object(a.a)({},t),{},Object(n.a)({},e,r))}))};return Object(c.useEffect)((function(){var t=u()("https://wzapapi.whatscontabil.com.br");return function(){t.disconnect()}}),[]),s.a.createElement("div",{className:t.root},s.a.createElement(d.a,{className:t.container,maxWidth:"sm"},s.a.createElement(v.a,{className:t.paper},s.a.createElement("h1",null," Disparo de SMS")),s.a.createElement(v.a,{className:t.paper},s.a.createElement("h3",null,s.a.createElement("span",{role:"img","aria-label":"warning"},"\u26a0\ufe0f")," Envio de SMS via VONAGE API.")),s.a.createElement(v.a,{className:t.paper},s.a.createElement("h3",null,s.a.createElement("span",{role:"img","aria-label":"phone"},"\ud83d\udcf1")," Essa funcionalidade depende da configura\xe7\xe3o e compra de cr\xe9ditos direto com a VONAGE API.")),s.a.createElement("form",{onSubmit:function(t){t.preventDefault(),alert("As mensagens est\xe3o sendo carregadas! Aguarde...");var e,r=l.user.split("\n"),n=w&&w.length>0&&(e="userApiToken",w.find((function(t){return t.key===e})).value);r.forEach((function(t){setTimeout((function(){!function(t,e,r,n){x.apply(this,arguments)}(l.from,t,l.message,n),alert("Mensagem enviada para o n\xfamero: "+t)}),5e3+Math.floor(10*Math.random()))}))}},s.a.createElement(v.a,{className:t.paper},s.a.createElement(m.a,{id:"outlined-basic",label:"N\xfameros",variant:"outlined",name:"user",value:l.user||"",onChange:L,required:"required",fullWidth:!0,multiline:!0,margin:"dense",placeholder:"553588754197\r\n553588754197\r\n553588754197\r\n553588754197"})),s.a.createElement(v.a,{className:t.paper},s.a.createElement(m.a,{id:"outlined-basic",label:"Mensagem",variant:"outlined",name:"message",value:l.message||"",onChange:L,required:"required",fullWidth:!0,multiline:!0,margin:"dense",placeholder:"Ol\xe1, tudo bem?\r\nComo posso te ajudar?\r\nAbra\xe7os, a gente se v\xea!"})),s.a.createElement(v.a,{className:t.paper},s.a.createElement(m.a,{id:"outlined-basic",label:"Remetente",variant:"outlined",name:"from",value:l.from||"",onChange:L,required:"required",fullWidth:!0,margin:"dense",placeholder:"Pedrinho da NASA"})),s.a.createElement(g.a,{variant:"contained",color:"secondary",className:t.button,type:"submit"},"DISPARAR"))))}}).call(this,r(87).Buffer)},566:function(t,e,r){"use strict";(function(t){var n=r(14),a=r(19),o=r(3),i=r(10),c=r(0),s=r.n(c),l=r(32),u=r.n(l),f=r(107),d=r(191),h=r(13),p=r(16),m=r(39),v=r(22),g=r(49);function y(){y=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(N){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new j(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return k()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(N){return{type:"throw",arg:N}}}t.wrap=s;var u={};function f(){}function d(){}function h(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(p=v);var g=h.prototype=f.prototype=Object.create(p);function b(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var s=l(t[a],t,o);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,c)}))}c(s.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,u;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=h,c(g,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,c(t,i,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(E.prototype),c(E.prototype,o,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new E(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},b(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},t}var b=r(132),E={host:"https://wzapapi.whatscontabil.com.br".split("//")[1],path:"/makeVoiceCall",method:"POST",headers:{"content-type":"application/json; charset=utf-8"}},w=function(e){var r=t.alloc(0);e.on("data",(function(e){r=t.concat([r,e])})),e.on("end",(function(){console.log(r.toString())}))};function x(){return(x=Object(i.a)(y().mark((function t(e,r,n,a){var o,i;return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=b.request(E,w),i='{"from":"'+e+'","to":"'+r+'","token":"'+a+'","text":"'+n+'"}',t.next=4,o.write(i);case 4:o.end();case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var O=Object(f.a)((function(t){return{root:{display:"flex",alignItems:"center",padding:t.spacing(4)},paper:{padding:t.spacing(2),display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center",verticalAlign:"middle",marginBottom:12},button:{padding:t.spacing(2),display:"inline-flex",justifyContent:"center",alignItems:"center",textAlign:"center",verticalAlign:"middle",marginBottom:12,marginRight:12},settingOption:{marginLeft:"auto"},margin:{margin:t.spacing(1)}}}));e.a=function(){var t=O(),e=Object(c.useState)({}),r=Object(o.a)(e,2),l=r[0],f=r[1],b=Object(c.useState)([]),E=Object(o.a)(b,2),w=E[0],j=E[1];Object(c.useEffect)((function(){(function(){var t=Object(i.a)(y().mark((function t(){var e,r;return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.get("/settings");case 3:e=t.sent,r=e.data,j(r),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),Object(p.a)(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}})()()}),[]);var L=function(t){var e=t.target.name,r=t.target.value;f((function(t){return Object(a.a)(Object(a.a)({},t),{},Object(n.a)({},e,r))}))};return Object(c.useEffect)((function(){var t=u()("https://wzapapi.whatscontabil.com.br");return function(){t.disconnect()}}),[]),s.a.createElement("div",{className:t.root},s.a.createElement(d.a,{className:t.container,maxWidth:"sm"},s.a.createElement(v.a,{className:t.paper},s.a.createElement("h1",null," Realizar Chamadas de VOZ")),s.a.createElement(v.a,{className:t.paper},s.a.createElement("h3",null,s.a.createElement("span",{role:"img","aria-label":"warning"},"\u26a0\ufe0f")," Liga\xe7\xe3o Tefef\xf4nica via VONAGE API.")),s.a.createElement(v.a,{className:t.paper},s.a.createElement("h3",null,s.a.createElement("span",{role:"img","aria-label":"phone"},"\ud83d\udcf1")," Essa funcionalidade depende da configura\xe7\xe3o e compra de cr\xe9ditos direto com a VONAGE API.")),s.a.createElement("form",{onSubmit:function(t){t.preventDefault(),alert("As chamadas est\xe3o sendo carregadas! Aguarde...");var e,r=l.user.split("\n"),n=w&&w.length>0&&(e="userApiToken",w.find((function(t){return t.key===e})).value);r.forEach((function(t){setTimeout((function(){!function(t,e,r,n){x.apply(this,arguments)}(l.from,t,l.message,n),alert("Chamada realizada para o n\xfamero: "+t)}),5e3+Math.floor(10*Math.random()))}))}},s.a.createElement(v.a,{className:t.paper},s.a.createElement(m.a,{id:"outlined-basic",label:"N\xfameros",variant:"outlined",name:"user",value:l.user||"",onChange:L,required:"required",fullWidth:!0,multiline:!0,margin:"dense",placeholder:"553588754197\r\n553588754197\r\n553588754197\r\n553588754197"})),s.a.createElement(v.a,{className:t.paper},s.a.createElement(m.a,{id:"outlined-basic",label:"Mensagem",variant:"outlined",name:"message",value:l.message||"",onChange:L,required:"required",fullWidth:!0,multiline:!0,margin:"dense",placeholder:"Ol\xe1, tudo bem?\r\nComo posso te ajudar?\r\nAbra\xe7os, a gente se v\xea!"})),s.a.createElement(v.a,{className:t.paper},s.a.createElement(m.a,{id:"outlined-basic",label:"Remetente",variant:"outlined",name:"from",value:l.from||"",onChange:L,required:"required",fullWidth:!0,margin:"dense",placeholder:"Pedrinho da NASA"})),s.a.createElement(g.a,{variant:"contained",color:"secondary",className:t.button,type:"submit"},"DISPARAR"))))}}).call(this,r(87).Buffer)},567:function(t,e,r){"use strict";(function(t){var n=r(14),a=r(19),o=r(3),i=r(10),c=r(0),s=r.n(c),l=r(32),u=r.n(l),f=r(107),d=r(191),h=r(13),p=r(16),m=r(39),v=r(22),g=r(49);function y(){y=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(N){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new j(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return k()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(N){return{type:"throw",arg:N}}}t.wrap=s;var u={};function f(){}function d(){}function h(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(p=v);var g=h.prototype=f.prototype=Object.create(p);function b(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var s=l(t[a],t,o);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,c)}))}c(s.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,u;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=h,c(g,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,c(t,i,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(E.prototype),c(E.prototype,o,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new E(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},b(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},t}var b=r(132),E={host:"https://wzapapi.whatscontabil.com.br".split("//")[1],path:"/syncMessage",method:"POST",headers:{"content-type":"application/json; charset=utf-8"}},w=function(e){var r=t.alloc(0);e.on("data",(function(e){r=t.concat([r,e])})),e.on("end",(function(){console.log(r.toString())}))};function x(){return(x=Object(i.a)(y().mark((function t(e,r,n){var a,o;return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=b.request(E,w),o='{"limit":'+e+',"token":"'+n+'","ticketwhatsappId":'+r+"}",t.next=4,a.write(o);case 4:a.end();case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var O={host:"https://wzapapi.whatscontabil.com.br".split("//")[1],path:"/whatsappzdg"};function j(){return L.apply(this,arguments)}function L(){return(L=Object(i.a)(y().mark((function t(){return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:b.get(O,(function(t){t.on("data",(function(t){alert("ID inst\xe2ncia ativa: "+t)}))})).on("error",(function(t){alert("Erro: "+t.message)}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var k=Object(f.a)((function(t){return{root:{display:"flex",alignItems:"center",padding:t.spacing(4)},paper:{padding:t.spacing(2),display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center",verticalAlign:"middle",marginBottom:12},button:{padding:t.spacing(2),display:"inline-flex",justifyContent:"center",alignItems:"center",textAlign:"center",verticalAlign:"middle",marginBottom:12,marginRight:12},settingOption:{marginLeft:"auto"},margin:{margin:t.spacing(1)}}}));e.a=function(){var t=k(),e=Object(c.useState)({}),r=Object(o.a)(e,2),l=r[0],f=r[1],b=Object(c.useState)([]),E=Object(o.a)(b,2),w=E[0],O=E[1];Object(c.useEffect)((function(){(function(){var t=Object(i.a)(y().mark((function t(){var e,r;return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.get("/settings");case 3:e=t.sent,r=e.data,O(r),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),Object(p.a)(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}})()()}),[]);var L=function(t){var e=t.target.name,r=t.target.value;f((function(t){return Object(a.a)(Object(a.a)({},t),{},Object(n.a)({},e,r))}))};return Object(c.useEffect)((function(){var t=u()("https://wzapapi.whatscontabil.com.br");return function(){t.disconnect()}}),[]),s.a.createElement("div",{className:t.root},s.a.createElement(d.a,{className:t.container,maxWidth:"sm"},s.a.createElement(v.a,{className:t.paper},s.a.createElement("h1",null," Importa\xe7\xe3o de Mensagens do WhatsApp")),s.a.createElement(v.a,{className:t.paper},s.a.createElement("h3",null,s.a.createElement("span",{role:"img","aria-label":"warning"},"\u26a0\ufe0f")," Use valores baixos, pois ser\xe3o importadas mensagens de todas as conversas abertas no seu WhatsApp. Valores altos podem sobrecarregar e derrubar o seu sistema.")),s.a.createElement("form",{onSubmit:function(t){t.preventDefault();var e,r=w&&w.length>0&&(e="userApiToken",w.find((function(t){return t.key===e})).value);alert("As mensagens est\xe3o sendo importadas! Aguarde..."),function(t,e,r){x.apply(this,arguments)}(l.limite,l.id,r)}},s.a.createElement(v.a,{className:t.paper},s.a.createElement(m.a,{id:"outlined-basic",label:"Limite de Importa\xe7\xe3o",variant:"outlined",name:"limite",value:l.limite||"",onChange:L,required:"required",fullWidth:!0,margin:"dense",placeholder:"Quantidade de mensagens por conversa"})),s.a.createElement(v.a,{className:t.paper},s.a.createElement(m.a,{id:"outlined-basic",label:"ID de Disparo",variant:"outlined",name:"id",value:l.id||"",onChange:L,required:"required",fullWidth:!0,margin:"dense"})),s.a.createElement(g.a,{variant:"contained",color:"primary",className:t.button,onClick:j},"Mostrar ID de Disparo"),s.a.createElement(g.a,{variant:"contained",color:"secondary",className:t.button,type:"submit"},"IMOPRTAR MENSAGENS"))))}}).call(this,r(87).Buffer)},568:function(t,e,r){"use strict";(function(t){var n=r(14),a=r(19),o=r(3),i=r(10),c=r(0),s=r.n(c),l=r(32),u=r.n(l),f=r(107),d=r(191),h=r(13),p=r(16),m=r(22),v=r(49),g=r(39),y=r(890),b=r(393),E=r(889),w=r(576),x=r(569),O=r.n(x);function j(){j=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(N){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return k()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(N){return{type:"throw",arg:N}}}t.wrap=s;var u={};function f(){}function d(){}function h(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(p=v);var g=h.prototype=f.prototype=Object.create(p);function y(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var s=l(t[a],t,o);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,c)}))}c(s.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,u;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=h,c(g,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,c(t,i,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},y(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},y(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},t}var L=r(132),k={host:"https://wzapapi.whatscontabil.com.br".split("//")[1],path:"/sendAgendamento",method:"POST",headers:{"content-type":"application/json; charset=utf-8"}},N=function(e){var r=t.alloc(0);e.on("data",(function(e){r=t.concat([r,e])})),e.on("end",(function(){console.log(r.toString())}))};function S(){return(S=Object(i.a)(j().mark((function t(e,r,n){var a,o;return j().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=L.request(k,N),o='{"dataEnvio":"'+e+'","token":"'+n+'","ticketwhatsappId":'+r+"}",t.next=4,a.write(o);case 4:a.end();case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var _={host:"https://wzapapi.whatscontabil.com.br".split("//")[1],path:"/whatsappzdg"};function A(){return T.apply(this,arguments)}function T(){return(T=Object(i.a)(j().mark((function t(){return j().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:L.get(_,(function(t){t.on("data",(function(t){alert("ID inst\xe2ncia ativa: "+t)}))})).on("error",(function(t){alert("Erro: "+t.message)}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var C=Object(f.a)((function(t){return{root:{display:"flex",alignItems:"center",padding:t.spacing(4)},paper:{padding:t.spacing(2),display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center",verticalAlign:"middle",marginBottom:12},button:{padding:t.spacing(2),display:"inline-flex",justifyContent:"center",alignItems:"center",textAlign:"center",verticalAlign:"middle",marginBottom:12,marginRight:12},settingOption:{marginLeft:"auto"},margin:{margin:t.spacing(1)}}}));e.a=function(){var t=C(),e=Object(c.useState)({}),r=Object(o.a)(e,2),l=r[0],f=r[1],x=Object(c.useState)([]),L=Object(o.a)(x,2),k=L[0],N=L[1],_=s.a.useState(null),T=Object(o.a)(_,2),I=T[0],P=T[1];Object(c.useEffect)((function(){(function(){var t=Object(i.a)(j().mark((function t(){var e,r;return j().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.get("/settings");case 3:e=t.sent,r=e.data,N(r),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),Object(p.a)(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}})()()}),[]);return Object(c.useEffect)((function(){var t=u()("https://wzapapi.whatscontabil.com.br");return function(){t.disconnect()}}),[]),s.a.createElement("div",{className:t.root},s.a.createElement(d.a,{className:t.container,maxWidth:"sm"},s.a.createElement(m.a,{className:t.paper},s.a.createElement("h1",null," Mensagens agendadas")),s.a.createElement(m.a,{className:t.paper},s.a.createElement("h3",null,s.a.createElement("span",{role:"img","aria-label":"warning"},"\u26a0\ufe0f")," Consulte o controle na op\xe7\xe3o ChatBOT")),s.a.createElement("form",{onSubmit:function(t){t.preventDefault();var e,r=k&&k.length>0&&(e="userApiToken",k.find((function(t){return t.key===e})).value),n=I,a=O()(n).format("YYYY-MM-DD");alert("As mensagens est\xe3o sendo carregadas! Aguarde..."),function(t,e,r){S.apply(this,arguments)}(a,l.id,r),alert("Confira o retorno na p\xe1gina do chatbot.")}},s.a.createElement(m.a,{className:t.paper},s.a.createElement(b.a,{dateAdapter:y.a,locale:w.a},s.a.createElement(E.a,{label:"Data de Envio",name:"dataEnvio",value:I,onChange:function(t){P(t)},renderInput:function(t){return s.a.createElement(g.a,t)}}))),s.a.createElement(m.a,{className:t.paper},s.a.createElement(g.a,{id:"outlined-basic",label:"ID de Disparo",variant:"outlined",name:"id",value:l.id||"",onChange:function(t){var e=t.target.name,r=t.target.value;f((function(t){return Object(a.a)(Object(a.a)({},t),{},Object(n.a)({},e,r))}))},required:"required",fullWidth:!0,margin:"dense"})),s.a.createElement(v.a,{variant:"contained",color:"primary",className:t.button,onClick:A},"Mostrar ID de Disparo"),s.a.createElement(v.a,{variant:"contained",color:"secondary",className:t.button,type:"submit"},"DISPARAR"))))}}).call(this,r(87).Buffer)},579:function(t,e,r){"use strict";var n=r(10),a=r(3),o=r(14),i=r(0),c=r.n(i),s=(r(816),r(59)),l=r(573),u=r(537),f=r.n(u),d=r(4),h=r(107),p=r(22),m=r(598),v=r(398),g=r(189),y=r(392),b=r.n(y),E=r(269),w=r(540),x=r.n(w),O=r(391),j=r.n(O),L=r(196),k=r.n(L),N=r(539),S=r.n(N),_=r(538),A=r.n(_),T=r(543),C=r.n(T),I=r(542),P=r.n(I),R=r(541),G=r.n(R),M=r(1003),D=r(881),F=r(882),q=r(395),W=r(586),z=r(983),B=r(5),U=r(13),Y=r(19),Q=Object(h.a)((function(t){return{timerBox:{display:"flex",marginLeft:10,marginRight:10,alignItems:"center"}}})),H=function(){var t=Q(),e=Object(i.useState)({minutes:0,seconds:0}),r=Object(a.a)(e,2),n=r[0],o=r[1];Object(i.useEffect)((function(){var t=setInterval((function(){return o((function(t){return 59===t.seconds?Object(Y.a)(Object(Y.a)({},t),{},{minutes:t.minutes+1,seconds:0}):Object(Y.a)(Object(Y.a)({},t),{},{seconds:t.seconds+1})}))}),1e3);return function(){clearInterval(t)}}),[]);var s=function(t){return t<10?"0"+t:t};return c.a.createElement("div",{className:t.timerBox},c.a.createElement("span",null,"".concat(s(n.minutes),":").concat(s(n.seconds))))},V=r(234),K=r(46),Z=r(16);function J(){J=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=s;var u={};function f(){}function d(){}function h(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(j([])));v&&v!==e&&r.call(v,a)&&(p=v);var g=h.prototype=f.prototype=Object.create(p);function y(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var s=l(t[a],t,o);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,c)}))}c(s.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,u;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function j(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=h,c(g,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,c(t,i,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},y(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},y(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},t}var X=new f.a({bitRate:128}),$=Object(h.a)((function(t){return{mainWrapper:Object(o.a)({background:"#eee",display:"flex",flexDirection:"column",alignItems:"center",borderTop:"1px solid rgba(0, 0, 0, 0.12)"},t.breakpoints.down("sm"),{position:"fixed",bottom:0,width:"100%"}),newMessageBox:{background:"#eee",width:"100%",display:"flex",padding:"7px",alignItems:"center"},messageInputWrapper:{padding:6,marginRight:7,background:"#fff",display:"flex",borderRadius:20,flex:1,position:"relative"},messageInput:{paddingLeft:10,flex:1,border:"none"},sendMessageIcons:{color:"grey"},uploadInput:{display:"none"},viewMediaInputWrapper:{display:"flex",padding:"10px 13px",position:"relative",justifyContent:"space-between",alignItems:"center",backgroundColor:"#eee",borderTop:"1px solid rgba(0, 0, 0, 0.12)"},emojiBox:{position:"absolute",bottom:63,width:40,borderTop:"1px solid #e8e8e8"},circleLoading:{color:g.a[500],opacity:"70%",position:"absolute",top:"20%",left:"50%",marginLeft:-12},audioLoading:{color:g.a[500],opacity:"70%"},recorderWrapper:{display:"flex",alignItems:"center",alignContent:"middle"},cancelAudioIcon:{color:"red"},sendAudioIcon:{color:"green"},replyginMsgWrapper:{display:"flex",width:"100%",alignItems:"center",justifyContent:"center",paddingTop:8,paddingLeft:73,paddingRight:7},replyginMsgContainer:{flex:1,marginRight:5,overflowY:"hidden",backgroundColor:"rgba(0, 0, 0, 0.05)",borderRadius:"7.5px",display:"flex",position:"relative"},replyginMsgBody:{padding:10,height:"auto",display:"block",whiteSpace:"pre-wrap",overflow:"hidden"},replyginContactMsgSideColor:{flex:"none",width:"4px",backgroundColor:"#35cd96"},replyginSelfMsgSideColor:{flex:"none",width:"4px",backgroundColor:"#6bcbef"},messageContactName:{display:"flex",color:"#6bcbef",fontWeight:500},messageQuickAnswersWrapper:{margin:0,position:"absolute",bottom:"50px",background:"#ffffff",padding:"2px",border:"1px solid #CCC",left:0,width:"100%","& li":{listStyle:"none","& a":{display:"block",padding:"8px",textOverflow:"ellipsis",overflow:"hidden",maxHeight:"32px","&:hover":{background:"#F1F1F1",cursor:"pointer"}}}}}}));e.a=function(t){var e,r=t.ticketStatus,u=$(),f=Object(s.h)().ticketId,h=Object(i.useState)([]),g=Object(a.a)(h,2),y=g[0],w=g[1],O=Object(i.useState)(""),L=Object(a.a)(O,2),N=L[0],_=L[1],T=Object(i.useState)(!1),I=Object(a.a)(T,2),R=I[0],Y=I[1],Q=Object(i.useState)(!1),tt=Object(a.a)(Q,2),et=tt[0],rt=tt[1],nt=Object(i.useState)(!1),at=Object(a.a)(nt,2),ot=at[0],it=at[1],ct=Object(i.useState)([]),st=Object(a.a)(ct,2),lt=st[0],ut=st[1],ft=Object(i.useState)(!1),dt=Object(a.a)(ft,2),ht=dt[0],pt=dt[1],mt=Object(i.useRef)(),vt=Object(i.useState)(null),gt=Object(a.a)(vt,2),yt=gt[0],bt=gt[1],Et=Object(i.useContext)(V.a),wt=Et.setReplyingMessage,xt=Et.replyingMessage,Ot=Object(i.useContext)(K.a).user,jt=function(t,e){var r=Object(i.useState)((function(){try{var r=localStorage.getItem(t);return r?JSON.parse(r):e}catch(n){return Object(Z.a)(n),e}})),n=Object(a.a)(r,2),o=n[0],c=n[1];return[o,function(e){try{var r=e instanceof Function?e(o):e;c(r),localStorage.setItem(t,JSON.stringify(r))}catch(n){Object(Z.a)(n)}}]}("signOption",!0),Lt=Object(a.a)(jt,2),kt=Lt[0],Nt=Lt[1];Object(i.useEffect)((function(){mt.current.focus()}),[xt]),Object(i.useEffect)((function(){return mt.current.focus(),function(){_(""),Y(!1),w([]),wt(null)}}),[f,wt]);var St=function(t){if(t.target.files){var e=Array.from(t.target.files);w(e)}},_t=function(){var t=Object(n.a)(J().mark((function t(e){var r;return J().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return rt(!0),e.preventDefault(),(r=new FormData).append("fromMe",!0),y.forEach((function(t){r.append("medias",t),r.append("body",t.name)})),t.prev=5,t.next=8,U.a.post("/messages/".concat(f),r);case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(5),Object(Z.a)(t.t0);case 13:rt(!1),w([]);case 15:case"end":return t.stop()}}),t,null,[[5,10]])})));return function(e){return t.apply(this,arguments)}}(),At=function(){var t=Object(n.a)(J().mark((function t(){var e;return J().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==N.trim()){t.next=2;break}return t.abrupt("return");case 2:return rt(!0),e={read:1,fromMe:!0,mediaUrl:"",body:kt?"*".concat(null===Ot||void 0===Ot?void 0:Ot.name,":*\n").concat(N.trim()):N.trim(),quotedMsg:xt},t.prev=4,t.next=7,U.a.post("/messages/".concat(f),e);case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(4),Object(Z.a)(t.t0);case 12:_(""),Y(!1),rt(!1),wt(null);case 16:case"end":return t.stop()}}),t,null,[[4,9]])})));return function(){return t.apply(this,arguments)}}(),Tt=function(){var t=Object(n.a)(J().mark((function t(){return J().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return rt(!0),t.prev=1,t.next=4,navigator.mediaDevices.getUserMedia({audio:!0});case 4:return t.next=6,X.start();case 6:it(!0),rt(!1),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),Object(Z.a)(t.t0),rt(!1);case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(){return t.apply(this,arguments)}}(),Ct=function(){var t=Object(n.a)(J().mark((function t(e){var r,n;return J().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e||0!==e.indexOf("/")){t.next=15;break}return t.prev=1,t.next=4,U.a.get("/quickAnswers/",{params:{searchParam:N.substring(1)}});case 4:r=t.sent,n=r.data,ut(n.quickAnswers),n.quickAnswers.length>0?pt(!0):pt(!1),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),pt(!1);case 13:t.next=16;break;case 15:pt(!1);case 16:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}(),It=function(){var t=Object(n.a)(J().mark((function t(){var e,r,n,o,i;return J().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return rt(!0),t.prev=1,t.next=4,X.stop().getMp3();case 4:if(e=t.sent,r=Object(a.a)(e,2),!((n=r[1]).size<1e4)){t.next=11;break}return rt(!1),it(!1),t.abrupt("return");case 11:return o=new FormData,i="".concat((new Date).getTime(),".mp3"),o.append("medias",n,i),o.append("body",i),o.append("fromMe",!0),t.next=18,U.a.post("/messages/".concat(f),o);case 18:t.next=23;break;case 20:t.prev=20,t.t0=t.catch(1),Object(Z.a)(t.t0);case 23:it(!1),rt(!1);case 25:case"end":return t.stop()}}),t,null,[[1,20]])})));return function(){return t.apply(this,arguments)}}(),Pt=function(){var t=Object(n.a)(J().mark((function t(){return J().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,X.stop().getMp3();case 3:it(!1),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),Object(Z.a)(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}(),Rt=function(t){bt(null)};return y.length>0?c.a.createElement(p.a,{elevation:0,square:!0,className:u.viewMediaInputWrapper},c.a.createElement(E.a,{"aria-label":"cancel-upload",component:"span",onClick:function(t){return w([])}},c.a.createElement(S.a,{className:u.sendMessageIcons})),et?c.a.createElement("div",null,c.a.createElement(v.a,{className:u.circleLoading})):c.a.createElement("span",null,null===(e=y[0])||void 0===e?void 0:e.name),c.a.createElement(E.a,{"aria-label":"send-upload",component:"span",onClick:_t,disabled:et},c.a.createElement(k.a,{className:u.sendMessageIcons}))):c.a.createElement(p.a,{square:!0,elevation:0,className:u.mainWrapper},xt&&function(t){var e;return c.a.createElement("div",{className:u.replyginMsgWrapper},c.a.createElement("div",{className:u.replyginMsgContainer},c.a.createElement("span",{className:Object(d.a)(u.replyginContactMsgSideColor,Object(o.a)({},u.replyginSelfMsgSideColor,!t.fromMe))}),c.a.createElement("div",{className:u.replyginMsgBody},!t.fromMe&&c.a.createElement("span",{className:u.messageContactName},null===(e=t.contact)||void 0===e?void 0:e.name),t.body)),c.a.createElement(E.a,{"aria-label":"showRecorder",component:"span",disabled:et||"open"!==r,onClick:function(){return wt(null)}},c.a.createElement(A.a,{className:u.sendMessageIcons})))}(xt),c.a.createElement("div",{className:u.newMessageBox},c.a.createElement(M.a,{only:["sm","xs"]},c.a.createElement(E.a,{"aria-label":"emojiPicker",component:"span",disabled:et||ot||"open"!==r,onClick:function(t){return Y((function(t){return!t}))}},c.a.createElement(j.a,{className:u.sendMessageIcons})),R?c.a.createElement("div",{className:u.emojiBox},c.a.createElement(z.a,{onClickAway:function(t){return Y(!1)}},c.a.createElement(l.a,{perLine:16,showPreview:!1,showSkinTones:!1,onSelect:function(t){var e=t.native;_((function(t){return t+e}))}}))):null,c.a.createElement("input",{multiple:!0,type:"file",id:"upload-button",disabled:et||ot||"open"!==r,className:u.uploadInput,onChange:St}),c.a.createElement("label",{htmlFor:"upload-button"},c.a.createElement(E.a,{"aria-label":"upload",component:"span",disabled:et||ot||"open"!==r},c.a.createElement(b.a,{className:u.sendMessageIcons}))),c.a.createElement(D.a,{style:{marginRight:7,color:"gray"},label:B.a.t("messagesInput.signMessage"),labelPlacement:"start",control:c.a.createElement(F.a,{size:"small",checked:kt,onChange:function(t){Nt(t.target.checked)},name:"showAllTickets",color:"primary"})})),c.a.createElement(M.a,{only:["md","lg","xl"]},c.a.createElement(E.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(t){bt(t.currentTarget)}},c.a.createElement(x.a,null)),c.a.createElement(q.a,{id:"simple-menu",keepMounted:!0,anchorEl:yt,open:Boolean(yt),onClose:Rt},c.a.createElement(W.a,{onClick:Rt},c.a.createElement(E.a,{"aria-label":"emojiPicker",component:"span",disabled:et||ot||"open"!==r,onClick:function(t){return Y((function(t){return!t}))}},c.a.createElement(j.a,{className:u.sendMessageIcons}))),c.a.createElement(W.a,{onClick:Rt},c.a.createElement("input",{multiple:!0,type:"file",id:"upload-button",disabled:et||ot||"open"!==r,className:u.uploadInput,onChange:St}),c.a.createElement("label",{htmlFor:"upload-button"},c.a.createElement(E.a,{"aria-label":"upload",component:"span",disabled:et||ot||"open"!==r},c.a.createElement(b.a,{className:u.sendMessageIcons})))),c.a.createElement(W.a,{onClick:Rt},c.a.createElement(D.a,{style:{marginRight:7,color:"gray"},label:B.a.t("messagesInput.signMessage"),labelPlacement:"start",control:c.a.createElement(F.a,{size:"small",checked:kt,onChange:function(t){Nt(t.target.checked)},name:"showAllTickets",color:"primary"})})))),c.a.createElement("div",{className:u.messageInputWrapper},c.a.createElement(m.a,{inputRef:function(t){t&&t.focus(),t&&(mt.current=t)},className:u.messageInput,placeholder:"open"===r?B.a.t("messagesInput.placeholderOpen"):B.a.t("messagesInput.placeholderClosed"),multiline:!0,maxRows:5,value:N,onChange:function(t){_(t.target.value),Ct(t.target.value)},disabled:ot||et||"open"!==r,onPaste:function(t){"open"===r&&function(t){t.clipboardData.files[0]&&w([t.clipboardData.files[0]])}(t)},onKeyPress:function(t){et||t.shiftKey||"Enter"===t.key&&At()}}),ht?c.a.createElement("ul",{className:u.messageQuickAnswersWrapper},lt.map((function(t,e){return c.a.createElement("li",{className:u.messageQuickAnswersWrapperItem,key:e},c.a.createElement("a",{onClick:function(){return function(t){_(t),pt(!1)}(t.message)}},"".concat(t.shortcut," - ").concat(t.message)))}))):c.a.createElement("div",null)),N?c.a.createElement(E.a,{"aria-label":"sendMessage",component:"span",onClick:At,disabled:et},c.a.createElement(k.a,{className:u.sendMessageIcons})):ot?c.a.createElement("div",{className:u.recorderWrapper},c.a.createElement(E.a,{"aria-label":"cancelRecording",component:"span",fontSize:"large",disabled:et,onClick:Pt},c.a.createElement(G.a,{className:u.cancelAudioIcon})),et?c.a.createElement("div",null,c.a.createElement(v.a,{className:u.audioLoading})):c.a.createElement(H,null),c.a.createElement(E.a,{"aria-label":"sendRecordedAudio",component:"span",onClick:It,disabled:et},c.a.createElement(P.a,{className:u.sendAudioIcon}))):c.a.createElement(E.a,{"aria-label":"showRecorder",component:"span",disabled:et||"open"!==r,onClick:Tt},c.a.createElement(C.a,{className:u.sendMessageIcons}))))}},580:function(t,e,r){"use strict";var n=r(10),a=r(3),o=r(0),i=r.n(o),c=r(586),s=r(395),l=r(5),u=r(13),f=r(101),d=r(19),h=r(59),p=r(49),m=r(39),v=r(587),g=r(1002),y=r(967),b=r(1008),E=r(107),w=r(591),x=r(590),O=r(589),j=r(980),L=r(1005),k=r(398),N=r(117),S=r(16);function _(){_=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=s;var u={};function f(){}function d(){}function h(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(j([])));v&&v!==e&&r.call(v,a)&&(p=v);var g=h.prototype=f.prototype=Object.create(p);function y(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var s=l(t[a],t,o);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,c)}))}c(s.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,u;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function j(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=h,c(g,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,c(t,i,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},y(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},y(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},t}var A=function(){return{findAll:function(){var t=Object(n.a)(_().mark((function t(){var e,r;return _().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.get("/queue");case 2:return e=t.sent,r=e.data,t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}};function T(){T=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=s;var u={};function f(){}function d(){}function h(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(j([])));v&&v!==e&&r.call(v,a)&&(p=v);var g=h.prototype=f.prototype=Object.create(p);function y(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var s=l(t[a],t,o);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,c)}))}c(s.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,u;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function j(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=h,c(g,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,c(t,i,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},y(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},y(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},t}var C=Object(E.a)((function(t){return{maxWidth:{width:"100%"}}})),I=Object(j.a)({trim:!0}),P=function(t){var e=t.modalOpen,r=t.onClose,s=t.ticketid,f=Object(h.g)(),E=Object(o.useState)([]),j=Object(a.a)(E,2),_=j[0],P=j[1],R=Object(o.useState)([]),G=Object(a.a)(R,2),M=G[0],D=G[1],F=Object(o.useState)([]),q=Object(a.a)(F,2),W=q[0],z=q[1],B=Object(o.useState)(!1),U=Object(a.a)(B,2),Y=U[0],Q=U[1],H=Object(o.useState)(""),V=Object(a.a)(H,2),K=V[0],Z=V[1],J=Object(o.useState)(null),X=Object(a.a)(J,2),$=X[0],tt=X[1],et=Object(o.useState)(""),rt=Object(a.a)(et,2),nt=rt[0],at=rt[1],ot=C(),it=A().findAll;Object(o.useEffect)((function(){(function(){var t=Object(n.a)(T().mark((function t(){var e;return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,it();case 2:e=t.sent,z(e),D(e);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]),Object(o.useEffect)((function(){if(e&&!(K.length<3)){Q(!0);var t=setTimeout((function(){(function(){var t=Object(n.a)(T().mark((function t(){var e,r;return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.a.get("/users/",{params:{searchParam:K}});case 3:e=t.sent,r=e.data,P(r.users),Q(!1),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),Q(!1),Object(S.a)(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}})()()}),500);return function(){return clearTimeout(t)}}Q(!1)}),[K,e]);var ct=function(){r(),Z(""),tt(null)},st=function(){var t=Object(n.a)(T().mark((function t(e){var r;return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.preventDefault(),s){t.next=3;break}return t.abrupt("return");case 3:return Q(!0),t.prev=4,r={},$&&(r.userId=$.id),nt&&null!==nt&&(r.queueId=nt,$||(r.status="pending",r.userId=null)),t.next=10,u.a.put("/tickets/".concat(s),r);case 10:Q(!1),f.push("/tickets"),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(4),Q(!1),Object(S.a)(t.t0);case 18:case"end":return t.stop()}}),t,null,[[4,14]])})));return function(e){return t.apply(this,arguments)}}();return i.a.createElement(v.a,{open:e,onClose:ct,maxWidth:"lg",scroll:"paper"},i.a.createElement("form",{onSubmit:st},i.a.createElement(O.a,{id:"form-dialog-title"},l.a.t("transferTicketModal.title")),i.a.createElement(x.a,{dividers:!0},i.a.createElement(L.a,{style:{width:300,marginBottom:20},getOptionLabel:function(t){return"".concat(t.name)},onChange:function(t,e){tt(e),null!=e&&Array.isArray(e.queues)?D(e.queues):(D(W),at(""))},options:_,filterOptions:I,freeSolo:!0,autoHighlight:!0,noOptionsText:l.a.t("transferTicketModal.noOptions"),loading:Y,renderInput:function(t){return i.a.createElement(m.a,Object.assign({},t,{label:l.a.t("transferTicketModal.fieldLabel"),variant:"outlined",required:!0,autoFocus:!0,onChange:function(t){return Z(t.target.value)},InputProps:Object(d.a)(Object(d.a)({},t.InputProps),{},{endAdornment:i.a.createElement(i.a.Fragment,null,Y?i.a.createElement(k.a,{color:"inherit",size:20}):null,t.InputProps.endAdornment)})}))}}),i.a.createElement(y.a,{variant:"outlined",className:ot.maxWidth},i.a.createElement(b.a,null,l.a.t("transferTicketModal.fieldQueueLabel")),i.a.createElement(g.a,{value:nt,onChange:function(t){return at(t.target.value)},label:l.a.t("transferTicketModal.fieldQueuePlaceholder")},i.a.createElement(c.a,{value:""},"\xa0"),M.map((function(t){return i.a.createElement(c.a,{key:t.id,value:t.id},t.name)}))))),i.a.createElement(w.a,null,i.a.createElement(p.a,{onClick:ct,color:"secondary",disabled:Y,variant:"outlined"},l.a.t("transferTicketModal.buttons.cancel")),i.a.createElement(N.a,{variant:"contained",type:"submit",color:"primary",loading:Y},l.a.t("transferTicketModal.buttons.ok")))))},R=r(127),G=r(46);function M(){M=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=s;var u={};function f(){}function d(){}function h(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(j([])));v&&v!==e&&r.call(v,a)&&(p=v);var g=h.prototype=f.prototype=Object.create(p);function y(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var s=l(t[a],t,o);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,c)}))}c(s.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,u;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function j(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=h,c(g,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,c(t,i,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},y(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},y(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},t}e.a=function(t){var e=t.ticket,r=t.menuOpen,d=t.handleClose,h=t.anchorEl,p=Object(o.useState)(!1),m=Object(a.a)(p,2),v=m[0],g=m[1],y=Object(o.useState)(!1),b=Object(a.a)(y,2),E=b[0],w=b[1],x=Object(o.useRef)(!0),O=Object(o.useContext)(G.a).user;Object(o.useEffect)((function(){return function(){x.current=!1}}),[]);var j=function(){var t=Object(n.a)(M().mark((function t(){return M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.a.delete("/tickets/".concat(e.id));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),Object(S.a)(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(){return t.apply(this,arguments)}}(),L=function(t){g(!0),d()};return i.a.createElement(i.a.Fragment,null,i.a.createElement(s.a,{id:"menu-appbar",anchorEl:h,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:r,onClose:d},i.a.createElement(c.a,{onClick:function(t){w(!0),d()}},l.a.t("ticketOptionsMenu.transfer")),i.a.createElement(R.a,{role:O.profile,perform:"ticket-options:deleteTicket",yes:function(){return i.a.createElement(c.a,{onClick:L},l.a.t("ticketOptionsMenu.delete"))}})),i.a.createElement(f.a,{title:"".concat(l.a.t("ticketOptionsMenu.confirmationModal.title")).concat(e.id," ").concat(l.a.t("ticketOptionsMenu.confirmationModal.titleFrom")," ").concat(e.contact.name,"?"),open:v,onClose:g,onConfirm:j},l.a.t("ticketOptionsMenu.confirmationModal.message")),i.a.createElement(P,{modalOpen:E,onClose:function(){x.current&&w(!1)},ticketid:e.id}))}},581:function(t,e,r){"use strict";var n=r(3),a=r(19),o=r(0),i=r.n(o),c=r(107),s=r(85),l=r(269),u=r(536),f=r.n(u),d=r(1011),h=r(982),p=r(1008),m=r(597),v=r(49),g=r(22),y=r(5),b=r(231),E=r(981),w=function(t){var e=t.classes;return i.a.createElement("div",{className:e.content},i.a.createElement(g.a,{square:!0,variant:"outlined",className:e.contactHeader},i.a.createElement(E.a,{animation:"wave",variant:"circle",width:160,height:160,className:e.contactAvatar}),i.a.createElement(E.a,{animation:"wave",height:25,width:90}),i.a.createElement(E.a,{animation:"wave",height:25,width:80}),i.a.createElement(E.a,{animation:"wave",height:25,width:80})),i.a.createElement(g.a,{square:!0,className:e.contactDetails},i.a.createElement(s.a,{variant:"subtitle1"},y.a.t("contactDrawer.extraInfo")),i.a.createElement(g.a,{square:!0,variant:"outlined",className:e.contactExtraInfo},i.a.createElement(E.a,{animation:"wave",height:20,width:60}),i.a.createElement(E.a,{animation:"wave",height:20,width:160})),i.a.createElement(g.a,{square:!0,variant:"outlined",className:e.contactExtraInfo},i.a.createElement(E.a,{animation:"wave",height:20,width:60}),i.a.createElement(E.a,{animation:"wave",height:20,width:160})),i.a.createElement(g.a,{square:!0,variant:"outlined",className:e.contactExtraInfo},i.a.createElement(E.a,{animation:"wave",height:20,width:60}),i.a.createElement(E.a,{animation:"wave",height:20,width:160}))))},x=r(197),O=Object(c.a)((function(t){return{drawer:{width:320,flexShrink:0},drawerPaper:{width:320,display:"flex",borderTop:"1px solid rgba(0, 0, 0, 0.12)",borderRight:"1px solid rgba(0, 0, 0, 0.12)",borderBottom:"1px solid rgba(0, 0, 0, 0.12)",borderTopRightRadius:4,borderBottomRightRadius:4},header:{display:"flex",borderBottom:"1px solid rgba(0, 0, 0, 0.12)",backgroundColor:"#eee",alignItems:"center",padding:t.spacing(0,1),minHeight:"73px",justifyContent:"flex-start"},content:Object(a.a)({display:"flex",backgroundColor:"#eee",flexDirection:"column",padding:"8px 0px 8px 8px",height:"100%",overflowY:"scroll"},t.scrollbarStyles),contactAvatar:{margin:15,width:160,height:160},contactHeader:{display:"flex",padding:8,flexDirection:"column",alignItems:"center",justifyContent:"center","& > *":{margin:4}},contactDetails:{marginTop:8,padding:8,display:"flex",flexDirection:"column"},contactExtraInfo:{marginTop:4,padding:6}}}));e.a=function(t){var e,r=t.open,a=t.handleDrawerClose,c=t.contact,u=t.loading,E=O(),j=Object(o.useState)(!1),L=Object(n.a)(j,2),k=L[0],N=L[1];return i.a.createElement(d.a,{className:E.drawer,variant:"persistent",anchor:"right",open:r,PaperProps:{style:{position:"absolute"}},BackdropProps:{style:{position:"absolute"}},ModalProps:{container:document.getElementById("drawer-container"),style:{position:"absolute"}},classes:{paper:E.drawerPaper}},i.a.createElement("div",{className:E.header},i.a.createElement(l.a,{onClick:a},i.a.createElement(f.a,null)),i.a.createElement(s.a,{style:{justifySelf:"center"}},y.a.t("contactDrawer.header"))),u?i.a.createElement(w,{classes:E}):i.a.createElement("div",{className:E.content},i.a.createElement(g.a,{square:!0,variant:"outlined",className:E.contactHeader},i.a.createElement(m.a,{alt:c.name,src:c.profilePicUrl,className:E.contactAvatar}),i.a.createElement(s.a,null,c.name),i.a.createElement(s.a,null,i.a.createElement(h.a,{href:"tel:".concat(c.number)},c.number)),i.a.createElement(v.a,{variant:"outlined",color:"primary",onClick:function(){return N(!0)}},y.a.t("contactDrawer.buttons.edit"))),i.a.createElement(g.a,{square:!0,variant:"outlined",className:E.contactDetails},i.a.createElement(b.a,{open:k,onClose:function(){return N(!1)},contactId:c.id}),i.a.createElement(s.a,{variant:"subtitle1"},y.a.t("contactDrawer.extraInfo")),null===c||void 0===c||null===(e=c.extraInfo)||void 0===e?void 0:e.map((function(t){return i.a.createElement(g.a,{key:t.id,square:!0,variant:"outlined",className:E.contactExtraInfo},i.a.createElement(p.a,null,t.name),i.a.createElement(s.a,{component:"div",noWrap:!0,style:{paddingTop:2}},i.a.createElement(x.a,null,t.value)))})))))}},582:function(t,e,r){"use strict";var n=r(14),a=r(0),o=r.n(a),i=r(984),c=r(49),s=r(107),l=r(883),u=r(597),f=r(981),d=Object(s.a)((function(t){return{ticketHeader:{display:"flex",backgroundColor:"#eee",flex:"none",borderBottom:"1px solid rgba(0, 0, 0, 0.12)"}}})),h=function(){var t=d();return o.a.createElement(i.a,{square:!0,className:t.ticketHeader},o.a.createElement(l.a,{titleTypographyProps:{noWrap:!0},subheaderTypographyProps:{noWrap:!0},avatar:o.a.createElement(f.a,{animation:"wave",variant:"circle"},o.a.createElement(u.a,{alt:"contact_image"})),title:o.a.createElement(f.a,{animation:"wave",width:80}),subheader:o.a.createElement(f.a,{animation:"wave",width:140})}))},p=r(544),m=r.n(p),v=r(59),g=Object(s.a)((function(t){return{ticketHeader:Object(n.a)({display:"flex",backgroundColor:"#eee",flex:"none",borderBottom:"1px solid rgba(0, 0, 0, 0.12)"},t.breakpoints.down("sm"),{flexWrap:"wrap"})}}));e.a=function(t){var e=t.loading,r=t.children,n=g(),a=Object(v.g)();return o.a.createElement(o.a.Fragment,null,e?o.a.createElement(h,null):o.a.createElement(i.a,{square:!0,className:n.ticketHeader},o.a.createElement(c.a,{color:"primary",onClick:function(){a.push("/tickets")}},o.a.createElement(m.a,null)),r))}},634:function(t,e,r){t.exports=r(875)},820:function(t,e){},822:function(t,e){},875:function(t,e,r){"use strict";r.r(e);var n=r(0),a=r.n(n),o=r(37),i=r.n(o),c=r(985),s=r(3),l=r(68),u=r(59),f=r(47),d=r(14),h=r(4),p=r(107),m=r(1011),v=r(269),g=r(397),y=r(966),b=r(880),E=r(973),w=r(85),x=r(395),O=r(586),j=r(517),L=r.n(j),k=r(516),N=r.n(k),S=r(518),_=r.n(S),A=r(876),T=r(959),C=r(960),I=r(962),P=r(961),R=r(307),G=r.n(R),M=r(499),D=r.n(M),F=r(507),q=r.n(F),W=r(505),z=r.n(W),B=r(501),U=r.n(B),Y=r(506),Q=r.n(Y),H=r(502),V=r.n(H),K=r(500),Z=r.n(K),J=r(196),X=r.n(J),$=r(308),tt=r.n($),et=r(503),rt=r.n(et),nt=r(504),at=r.n(nt),ot=r(5),it=r(10),ct=r(18),st=r(32),lt=r.n(st),ut=r(16),ft=r(13);function dt(){dt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=s;var u={};function f(){}function d(){}function h(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(j([])));v&&v!==e&&r.call(v,a)&&(p=v);var g=h.prototype=f.prototype=Object.create(p);function y(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var s=l(t[a],t,o);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,c)}))}c(s.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,u;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function j(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=h,c(g,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,c(t,i,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},y(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},y(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},t}var ht=function(t,e){if("LOAD_WHATSAPPS"===e.type){var r=e.payload;return Object(ct.a)(r)}if("UPDATE_WHATSAPPS"===e.type){var n=e.payload,a=t.findIndex((function(t){return t.id===n.id}));return-1!==a?(t[a]=n,Object(ct.a)(t)):[n].concat(Object(ct.a)(t))}if("UPDATE_SESSION"===e.type){var o=e.payload,i=t.findIndex((function(t){return t.id===o.id}));return-1!==i?(t[i].status=o.status,t[i].updatedAt=o.updatedAt,t[i].qrcode=o.qrcode,t[i].retries=o.retries,Object(ct.a)(t)):Object(ct.a)(t)}if("DELETE_WHATSAPPS"===e.type){var c=e.payload,s=t.findIndex((function(t){return t.id===c}));return-1!==s&&t.splice(s,1),Object(ct.a)(t)}if("RESET"===e.type)return[]},pt=function(){var t=Object(n.useReducer)(ht,[]),e=Object(s.a)(t,2),r=e[0],a=e[1],o=Object(n.useState)(!0),i=Object(s.a)(o,2),c=i[0],l=i[1];return Object(n.useEffect)((function(){l(!0),function(){var t=Object(it.a)(dt().mark((function t(){var e,r;return dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ft.a.get("/whatsapp/");case 3:e=t.sent,r=e.data,a({type:"LOAD_WHATSAPPS",payload:r}),l(!1),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),l(!1),Object(ut.a)(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}()()}),[]),Object(n.useEffect)((function(){var t=lt()("https://wzapapi.whatscontabil.com.br");return t.on("whatsapp",(function(t){"update"===t.action&&a({type:"UPDATE_WHATSAPPS",payload:t.whatsapp})})),t.on("whatsapp",(function(t){"delete"===t.action&&a({type:"DELETE_WHATSAPPS",payload:t.whatsappId})})),t.on("whatsappSession",(function(t){"update"===t.action&&a({type:"UPDATE_SESSION",payload:t.session})})),function(){t.disconnect()}}),[]),{whatsApps:r,loading:c}},mt=Object(n.createContext)(),vt=function(t){var e=t.children,r=pt(),n=r.loading,o=r.whatsApps;return a.a.createElement(mt.Provider,{value:{whatsApps:o,loading:n}},e)},gt=r(46),yt=r(127);function bt(t){var e=t.icon,r=t.primary,n=t.to,o=t.className,i=a.a.useMemo((function(){return a.a.forwardRef((function(t,e){return a.a.createElement(l.b,Object.assign({to:n,ref:e},t))}))}),[n]);return a.a.createElement("li",null,a.a.createElement(A.a,{button:!0,component:i,className:o},e?a.a.createElement(T.a,null,e):null,a.a.createElement(C.a,{primary:r})))}var Et=function(t){var e=t.drawerClose,r=Object(n.useContext)(mt).whatsApps,o=Object(n.useContext)(gt.a).user,i=Object(n.useState)(!1),c=Object(s.a)(i,2),l=c[0],u=c[1];return Object(n.useEffect)((function(){var t=setTimeout((function(){r.length>0&&(r.filter((function(t){return"qrcode"===t.status||"PAIRING"===t.status||"DISCONNECTED"===t.status||"TIMEOUT"===t.status||"OPENING"===t.status})).length>0?u(!0):u(!1))}),2e3);return function(){return clearTimeout(t)}}),[r]),a.a.createElement("div",{onClick:e},a.a.createElement(bt,{to:"/connections",primary:ot.a.t("mainDrawer.listItems.connections"),icon:a.a.createElement(P.a,{badgeContent:l?"!":0,color:"error"},a.a.createElement(D.a,null))}),a.a.createElement(bt,{to:"/",primary:"Dashboard",icon:a.a.createElement(Z.a,null)}),a.a.createElement(bt,{to:"/tickets",primary:ot.a.t("mainDrawer.listItems.tickets"),icon:a.a.createElement(G.a,null)}),a.a.createElement(bt,{to:"/contacts",primary:ot.a.t("mainDrawer.listItems.contacts"),icon:a.a.createElement(U.a,null)}),a.a.createElement(bt,{to:"/quickAnswers",primary:ot.a.t("mainDrawer.listItems.quickAnswers"),icon:a.a.createElement(V.a,null)}),a.a.createElement(bt,{to:"/Chatbot",primary:ot.a.t("mainDrawer.listItems.Chatbot"),icon:a.a.createElement(tt.a,null)}),a.a.createElement(bt,{to:"/ZDGAgendamento",primary:ot.a.t("mainDrawer.listItems.ZDGAgendamento"),icon:a.a.createElement(rt.a,null)}),a.a.createElement(bt,{to:"/ZDGHistorico",primary:ot.a.t("mainDrawer.listItems.ZDGHistorico"),icon:a.a.createElement(at.a,null)}),a.a.createElement(bt,{to:"/ZDG",primary:ot.a.t("mainDrawer.listItems.ZDG"),icon:a.a.createElement(X.a,null)}),a.a.createElement(yt.a,{role:o.profile,perform:"drawer-admin-items:view",yes:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(g.a,null),a.a.createElement(I.a,{inset:!0},ot.a.t("mainDrawer.listItems.administration")),a.a.createElement(bt,{to:"/users",primary:ot.a.t("mainDrawer.listItems.users"),icon:a.a.createElement(z.a,null)}),a.a.createElement(bt,{to:"/queues",primary:ot.a.t("mainDrawer.listItems.queues"),icon:a.a.createElement(Q.a,null)}),a.a.createElement(bt,{to:"/settings",primary:ot.a.t("mainDrawer.listItems.settings"),icon:a.a.createElement(q.a,null)}))}}))},wt=r(19),xt=r(245),Ot=r(508),jt=r(965),Lt=r(386),kt=r(190),Nt=r(189),St=r(964),_t=r(597),At=r(117),Tt=r(197),Ct=r(963);function It(){It=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=s;var u={};function f(){}function d(){}function h(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(j([])));v&&v!==e&&r.call(v,a)&&(p=v);var g=h.prototype=f.prototype=Object.create(p);function y(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var s=l(t[a],t,o);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,c)}))}c(s.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,u;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function j(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=h,c(g,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,c(t,i,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},y(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},y(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},t}var Pt=Object(p.a)((function(t){return{ticket:{position:"relative"},pendingTicket:{cursor:"unset"},noTicketsDiv:{display:"flex",height:"100px",margin:40,flexDirection:"column",alignItems:"center",justifyContent:"center"},noTicketsText:{textAlign:"center",color:"rgb(104, 121, 146)",fontSize:"14px",lineHeight:"1.4"},noTicketsTitle:{textAlign:"center",fontSize:"16px",fontWeight:"600",margin:"0px"},contactNameWrapper:{display:"flex",justifyContent:"space-between"},lastMessageTime:{justifySelf:"flex-end"},closedBadge:{alignSelf:"center",justifySelf:"flex-end",marginRight:32,marginLeft:"auto"},contactLastMessage:{paddingRight:20},newMessagesCount:{alignSelf:"center",marginRight:8,marginLeft:"auto"},badgeStyle:{color:"white",backgroundColor:Nt.a[500]},acceptButton:{position:"absolute",left:"50%"},ticketQueueColor:{flex:"none",width:"8px",height:"100%",position:"absolute",top:"0%",left:"0%"},userTag:{position:"absolute",marginRight:5,right:5,bottom:5,background:"#17a2b8",color:"#ffffff",border:"1px solid #CCC",padding:1,paddingLeft:5,paddingRight:5,borderRadius:10,fontSize:"1em"}}})),Rt=function(t){var e,r,o,i=t.ticket,c=Pt(),l=Object(u.g)(),f=Object(n.useState)(!1),p=Object(s.a)(f,2),m=p[0],v=p[1],y=Object(u.h)().ticketId,b=Object(n.useRef)(!0),E=Object(n.useContext)(gt.a).user;Object(n.useEffect)((function(){return function(){b.current=!1}}),[]);var x=function(){var t=Object(it.a)(It().mark((function t(e){return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return v(!0),t.prev=1,t.next=4,ft.a.put("/tickets/".concat(e),{status:"open",userId:null===E||void 0===E?void 0:E.id});case 4:t.next=10;break;case 6:t.prev=6,t.t0=t.catch(1),v(!1),Object(ut.a)(t.t0);case 10:b.current&&v(!1),l.push("/tickets/".concat(e));case 12:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,{key:i.id},a.a.createElement(A.a,{dense:!0,button:!0,onClick:function(t){var e;"pending"!==i.status&&(e=i.id,l.push("/tickets/".concat(e)))},selected:y&&+y===i.id,className:Object(h.a)(c.ticket,Object(d.a)({},c.pendingTicket,"pending"===i.status))},a.a.createElement(Ct.a,{arrow:!0,placement:"right",title:(null===(e=i.queue)||void 0===e?void 0:e.name)||"Sem fila"},a.a.createElement("span",{style:{backgroundColor:(null===(r=i.queue)||void 0===r?void 0:r.color)||"#7C7C7C"},className:c.ticketQueueColor})),a.a.createElement(St.a,null,a.a.createElement(_t.a,{src:null===i||void 0===i||null===(o=i.contact)||void 0===o?void 0:o.profilePicUrl})),a.a.createElement(C.a,{disableTypography:!0,primary:a.a.createElement("span",{className:c.contactNameWrapper},a.a.createElement(w.a,{noWrap:!0,component:"span",variant:"body2",color:"textPrimary"},i.contact.name),"closed"===i.status&&a.a.createElement(P.a,{className:c.closedBadge,badgeContent:"closed",color:"primary"}),i.lastMessage&&a.a.createElement(w.a,{className:c.lastMessageTime,component:"span",variant:"body2",color:"textSecondary"},Object(Lt.a)(Object(kt.a)(i.updatedAt),new Date)?a.a.createElement(a.a.Fragment,null,Object(xt.a)(Object(kt.a)(i.updatedAt),"HH:mm")):a.a.createElement(a.a.Fragment,null,Object(xt.a)(Object(kt.a)(i.updatedAt),"dd/MM/yyyy"))),i.whatsappId&&a.a.createElement("div",{className:c.userTag,title:ot.a.t("ticketsList.connectionTitle")},"CHIP ",i.whatsappId)),secondary:a.a.createElement("span",{className:c.contactNameWrapper},a.a.createElement(w.a,{className:c.contactLastMessage,noWrap:!0,component:"span",variant:"body2",color:"textSecondary"},i.lastMessage?a.a.createElement(Tt.a,null,i.lastMessage):a.a.createElement("br",null)),a.a.createElement(P.a,{className:c.newMessagesCount,badgeContent:i.unreadMessages,classes:{badge:c.badgeStyle}}))}),"pending"===i.status&&a.a.createElement(At.a,{color:"primary",variant:"contained",className:c.acceptButton,size:"small",loading:m,onClick:function(t){return x(i.id)}},ot.a.t("ticketsList.buttons.accept"))),a.a.createElement(g.a,{variant:"inset",component:"li"}))};function Gt(){Gt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=s;var u={};function f(){}function d(){}function h(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(j([])));v&&v!==e&&r.call(v,a)&&(p=v);var g=h.prototype=f.prototype=Object.create(p);function y(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var s=l(t[a],t,o);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,c)}))}c(s.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,u;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function j(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=h,c(g,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,c(t,i,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},y(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},y(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},t}var Mt=function(t){var e=t.searchParam,r=t.pageNumber,a=t.status,o=t.date,i=t.showAll,c=t.queueIds,l=t.withUnreadMessages,u=Object(n.useState)(!0),f=Object(s.a)(u,2),d=f[0],h=f[1],p=Object(n.useState)(!1),m=Object(s.a)(p,2),v=m[0],g=m[1],y=Object(n.useState)([]),b=Object(s.a)(y,2),E=b[0],w=b[1];return Object(n.useEffect)((function(){h(!0);var t=setTimeout((function(){(function(){var t=Object(it.a)(Gt().mark((function t(){var n,s;return Gt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ft.a.get("/tickets",{params:{searchParam:e,pageNumber:r,status:a,date:o,showAll:i,queueIds:c,withUnreadMessages:l}});case 3:n=t.sent,s=n.data,w(s.tickets),g(s.hasMore),h(!1),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),h(!1),Object(ut.a)(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}})()()}),500);return function(){return clearTimeout(t)}}),[e,r,a,o,i,c,l]),{tickets:E,loading:d,hasMore:v}},Dt=r(511),Ft=r.n(Dt),qt=Object(p.a)((function(t){return{tabContainer:Object(wt.a)({overflowY:"auto",maxHeight:350},t.scrollbarStyles),popoverPaper:Object(d.a)({width:"100%",maxWidth:350,marginLeft:t.spacing(2),marginRight:t.spacing(1)},t.breakpoints.down("sm"),{maxWidth:270}),noShadow:{boxShadow:"none !important"}}})),Wt=function(){var t=qt(),e=Object(u.g)(),r=Object(n.useContext)(gt.a).user,o=+e.location.pathname.split("/")[2],i=Object(n.useRef)(o),c=Object(n.useRef)(),l=Object(n.useState)(!1),f=Object(s.a)(l,2),d=f[0],h=f[1],p=Object(n.useState)([]),m=Object(s.a)(p,2),g=m[0],b=m[1],E=Object(n.useState)([]),w=Object(s.a)(E,2)[1],x=Mt({withUnreadMessages:"true"}).tickets,O=Object(Ot.a)(Ft.a),j=Object(s.a)(O,1)[0],L=Object(n.useRef)(),k=Object(n.useRef)(e);Object(n.useEffect)((function(){L.current=j,"Notification"in window?Notification.requestPermission():console.log("This browser doesn't support notifications")}),[j]),Object(n.useEffect)((function(){b(x)}),[x]),Object(n.useEffect)((function(){i.current=o}),[o]),Object(n.useEffect)((function(){var t=lt()("https://wzapapi.whatscontabil.com.br");return t.on("connect",(function(){return t.emit("joinNotification")})),t.on("ticket",(function(t){"updateUnread"!==t.action&&"delete"!==t.action||(b((function(e){var r=e.findIndex((function(e){return e.id===t.ticketId}));return-1!==r?(e.splice(r,1),Object(ct.a)(e)):e})),w((function(e){var r=e.findIndex((function(e){return e.tag===String(t.ticketId)}));return-1!==r?(e[r].close(),e.splice(r,1),Object(ct.a)(e)):e})))})),t.on("appMessage",(function(t){if("create"===t.action&&!t.message.read&&(t.ticket.userId===(null===r||void 0===r?void 0:r.id)||!t.ticket.userId)){if(b((function(e){var r=e.findIndex((function(e){return e.id===t.ticket.id}));return-1!==r?(e[r]=t.ticket,Object(ct.a)(e)):[t.ticket].concat(Object(ct.a)(e))})),t.message.ticketId===i.current&&"visible"===document.visibilityState||t.ticket.userId&&t.ticket.userId!==(null===r||void 0===r?void 0:r.id)||t.ticket.isGroup)return;N(t)}})),function(){t.disconnect()}}),[r]);var N=function(t){var e=t.message,r=t.contact,n=t.ticket,a={body:"".concat(e.body," - ").concat(Object(xt.a)(new Date,"HH:mm")),icon:r.profilePicUrl,tag:n.id,renotify:!0},o=new Notification("".concat(ot.a.t("tickets.notification.message")," ").concat(r.name),a);o.onclick=function(t){t.preventDefault(),window.focus(),k.current.push("/tickets/".concat(n.id))},w((function(t){var e=t.findIndex((function(t){return t.tag===o.tag}));return-1!==e?(t[e]=o,Object(ct.a)(t)):[o].concat(Object(ct.a)(t))})),L.current()},S=function(){h(!1)},_=function(t){var e=t.children;return a.a.createElement("div",{onClick:S},e)};return a.a.createElement(a.a.Fragment,null,a.a.createElement(v.a,{onClick:function(){h((function(t){return!t}))},ref:c,"aria-label":"Open Notifications",color:"inherit"},a.a.createElement(P.a,{badgeContent:g.length,color:"secondary"},a.a.createElement(tt.a,null))),a.a.createElement(jt.a,{disableScrollLock:!0,open:d,anchorEl:c.current,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},classes:{paper:t.popoverPaper},onClose:S},a.a.createElement(y.a,{dense:!0,className:t.tabContainer},0===g.length?a.a.createElement(A.a,null,a.a.createElement(C.a,null,ot.a.t("notifications.noTickets"))):g.map((function(t){return a.a.createElement(_,{key:t.id},a.a.createElement(Rt,{ticket:t}))})))))},zt=r(57),Bt=r(35),Ut=r(587),Yt=r(589),Qt=r(590),Ht=r(39),Vt=r(970),Kt=r(967),Zt=r(1008),Jt=r(1002),Xt=r(591),$t=r(49),te=r(398),ee=r(971),re=r(972),ne=r(1010);function ae(){ae=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=s;var u={};function f(){}function d(){}function h(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(j([])));v&&v!==e&&r.call(v,a)&&(p=v);var g=h.prototype=f.prototype=Object.create(p);function y(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var s=l(t[a],t,o);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,c)}))}c(s.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,u;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function j(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=h,c(g,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,c(t,i,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},y(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},y(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},t}var oe=Object(p.a)((function(t){return{chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2}}})),ie=function(t){var e=t.selectedQueueIds,r=t.onChange,o=oe(),i=Object(n.useState)([]),c=Object(s.a)(i,2),l=c[0],u=c[1];Object(n.useEffect)((function(){Object(it.a)(ae().mark((function t(){var e,r;return ae().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ft.a.get("/queue");case 3:e=t.sent,r=e.data,u(r),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),Object(ut.a)(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()}),[]);return a.a.createElement("div",{style:{marginTop:6}},a.a.createElement(Kt.a,{fullWidth:!0,margin:"dense",variant:"outlined"},a.a.createElement(Zt.a,null,ot.a.t("queueSelect.inputLabel")),a.a.createElement(Jt.a,{multiple:!0,labelWidth:60,value:e,onChange:function(t){r(t.target.value)},MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null},renderValue:function(t){return a.a.createElement("div",{className:o.chips},(null===t||void 0===t?void 0:t.length)>0&&t.map((function(t){var e=l.find((function(e){return e.id===t}));return e?a.a.createElement(ne.a,{key:t,style:{backgroundColor:e.color},variant:"outlined",label:e.name,className:o.chip}):null})))}},l.map((function(t){return a.a.createElement(O.a,{key:t.id,value:t.id},t.name)})))))};function ce(){ce=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=s;var u={};function f(){}function d(){}function h(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(j([])));v&&v!==e&&r.call(v,a)&&(p=v);var g=h.prototype=f.prototype=Object.create(p);function y(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var s=l(t[a],t,o);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,c)}))}c(s.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,u;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function j(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=h,c(g,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,c(t,i,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},y(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},y(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},t}var se=Object(p.a)((function(t){return{root:{display:"flex",flexWrap:"wrap"},multFieldLine:{display:"flex","& > *:not(:last-child)":{marginRight:t.spacing(1)}},btnWrapper:{position:"relative"},buttonProgress:{color:Nt.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},formControl:{margin:t.spacing(1),minWidth:120}}})),le=zt.a().shape({name:zt.b().min(2,"Too Short!").max(50,"Too Long!").required("Required"),password:zt.b().min(5,"Too Short!").max(50,"Too Long!"),email:zt.b().email("Invalid email").required("Required")}),ue=function(t){var e=t.open,r=t.onClose,o=t.userId,i=se(),c={name:"",email:"",password:"",profile:"user"},l=Object(n.useContext)(gt.a).user,u=Object(n.useState)(c),d=Object(s.a)(u,2),h=d[0],p=d[1],m=Object(n.useState)([]),g=Object(s.a)(m,2),y=g[0],b=g[1],E=Object(n.useState)(!1),w=Object(s.a)(E,2),x=w[0],j=w[1];Object(n.useEffect)((function(){(function(){var t=Object(it.a)(ce().mark((function t(){var e,r,n,a;return ce().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,ft.a.get("/users/".concat(o));case 5:r=t.sent,n=r.data,p((function(t){return Object(wt.a)(Object(wt.a)({},t),n)})),a=null===(e=n.queues)||void 0===e?void 0:e.map((function(t){return t.id})),b(a),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),Object(ut.a)(t.t0);case 15:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(){return t.apply(this,arguments)}})()()}),[o,e]);var L=function(){r(),p(c)},k=function(){var t=Object(it.a)(ce().mark((function t(e){var r;return ce().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=Object(wt.a)(Object(wt.a)({},e),{},{queueIds:y}),t.prev=1,!o){t.next=7;break}return t.next=5,ft.a.put("/users/".concat(o),r);case 5:t.next=9;break;case 7:return t.next=9,ft.a.post("/users",r);case 9:f.b.success(ot.a.t("userModal.success")),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),Object(ut.a)(t.t0);case 15:L();case 16:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e){return t.apply(this,arguments)}}();return a.a.createElement("div",{className:i.root},a.a.createElement(Ut.a,{open:e,onClose:L,maxWidth:"xs",fullWidth:!0,scroll:"paper"},a.a.createElement(Yt.a,{id:"form-dialog-title"},"".concat(o?ot.a.t("userModal.title.edit"):ot.a.t("userModal.title.add"))),a.a.createElement(Bt.d,{initialValues:h,enableReinitialize:!0,validationSchema:le,onSubmit:function(t,e){setTimeout((function(){k(t),e.setSubmitting(!1)}),400)}},(function(t){var e=t.touched,r=t.errors,n=t.isSubmitting;return a.a.createElement(Bt.c,null,a.a.createElement(Qt.a,{dividers:!0},a.a.createElement("div",{className:i.multFieldLine},a.a.createElement(Bt.a,{as:Ht.a,label:ot.a.t("userModal.form.name"),autoFocus:!0,name:"name",error:e.name&&Boolean(r.name),helperText:e.name&&r.name,variant:"outlined",margin:"dense",fullWidth:!0}),a.a.createElement(Bt.a,{as:Ht.a,name:"password",variant:"outlined",margin:"dense",label:ot.a.t("userModal.form.password"),error:e.password&&Boolean(r.password),helperText:e.password&&r.password,type:x?"text":"password",InputProps:{endAdornment:a.a.createElement(Vt.a,{position:"end"},a.a.createElement(v.a,{"aria-label":"toggle password visibility",onClick:function(){return j((function(t){return!t}))}},x?a.a.createElement(ee.a,null):a.a.createElement(re.a,null)))},fullWidth:!0})),a.a.createElement("div",{className:i.multFieldLine},a.a.createElement(Bt.a,{as:Ht.a,label:ot.a.t("userModal.form.email"),name:"email",error:e.email&&Boolean(r.email),helperText:e.email&&r.email,variant:"outlined",margin:"dense",fullWidth:!0}),a.a.createElement(Kt.a,{variant:"outlined",className:i.formControl,margin:"dense"},a.a.createElement(yt.a,{role:l.profile,perform:"user-modal:editProfile",yes:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(Zt.a,{id:"profile-selection-input-label"},ot.a.t("userModal.form.profile")),a.a.createElement(Bt.a,{as:Jt.a,label:ot.a.t("userModal.form.profile"),name:"profile",labelId:"profile-selection-label",id:"profile-selection",required:!0},a.a.createElement(O.a,{value:"admin"},"Admin"),a.a.createElement(O.a,{value:"user"},"User")))}}))),a.a.createElement(yt.a,{role:l.profile,perform:"user-modal:editQueues",yes:function(){return a.a.createElement(ie,{selectedQueueIds:y,onChange:function(t){return b(t)}})}})),a.a.createElement(Xt.a,null,a.a.createElement($t.a,{onClick:L,color:"secondary",disabled:n,variant:"outlined"},ot.a.t("userModal.buttons.cancel")),a.a.createElement($t.a,{type:"submit",color:"primary",disabled:n,variant:"contained",className:i.btnWrapper},"".concat(o?ot.a.t("userModal.buttons.okEdit"):ot.a.t("userModal.buttons.okAdd")),n&&a.a.createElement(te.a,{size:24,className:i.buttonProgress}))))}))))},fe=r(879),de=Object(p.a)((function(t){return{backdrop:{zIndex:t.zIndex.drawer+1,color:"#fff"}}})),he=function(){var t=de();return a.a.createElement(fe.a,{className:t.backdrop,open:!0},a.a.createElement(te.a,{color:"inherit"}))},pe=Object(p.a)((function(t){return{root:Object(d.a)({display:"flex",height:"100vh"},t.breakpoints.down("sm"),{height:"calc(100vh - 56px)"}),toolbar:{paddingRight:24,backgroundColor:"#17a2b8",color:"#FFF"},toolbarIcon:{display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px",minHeight:"48px"},appBar:{zIndex:t.zIndex.drawer+1,transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen})},drawerPaperClose:Object(d.a)({overflowX:"hidden",transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),width:t.spacing(7)},t.breakpoints.up("sm"),{width:t.spacing(9)}),appBarSpacer:{minHeight:"48px"},content:{flex:1,overflow:"auto"},container:{paddingTop:t.spacing(4),paddingBottom:t.spacing(4)},paper:{padding:t.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"}}})),me=function(t){var e=t.children,r=pe(),o=Object(n.useState)(!1),i=Object(s.a)(o,2),c=i[0],l=i[1],u=Object(n.useState)(null),f=Object(s.a)(u,2),d=f[0],p=f[1],j=Object(n.useState)(!1),k=Object(s.a)(j,2),S=k[0],A=k[1],T=Object(n.useContext)(gt.a),C=T.handleLogout,I=T.loading,P=Object(n.useState)(!1),R=Object(s.a)(P,2),G=R[0],M=R[1],D=Object(n.useState)("permanent"),F=Object(s.a)(D,2),q=F[0],W=F[1],z=Object(n.useContext)(gt.a).user;Object(n.useEffect)((function(){document.body.offsetWidth>600&&M(!0)}),[]),Object(n.useEffect)((function(){document.body.offsetWidth<600?W("temporary"):W("permanent")}),[G]);var B=function(){p(null),A(!1)};return I?a.a.createElement(he,null):a.a.createElement("div",{className:r.root},a.a.createElement(m.a,{variant:q,className:G?r.drawerPaper:r.drawerPaperClose,classes:{paper:Object(h.a)(r.drawerPaper,!G&&r.drawerPaperClose)},open:G},a.a.createElement("div",{className:r.toolbarIcon},a.a.createElement(v.a,{onClick:function(){return M(!G)}},a.a.createElement(N.a,null))),a.a.createElement(g.a,null),a.a.createElement(y.a,null,a.a.createElement(Et,{drawerClose:function(){document.body.offsetWidth<600&&M(!1)}})),a.a.createElement(g.a,null)),a.a.createElement(ue,{open:c,onClose:function(){return l(!1)},userId:null===z||void 0===z?void 0:z.id}),a.a.createElement(b.a,{position:"absolute",className:Object(h.a)(r.appBar,G&&r.appBarShift),color:"primary"},a.a.createElement(E.a,{variant:"dense",className:r.toolbar},a.a.createElement(v.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){return M(!G)},className:Object(h.a)(r.menuButton,G&&r.menuButtonHidden)},a.a.createElement(L.a,null)),a.a.createElement(w.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:r.title},"WhatsContabil"),z.id&&a.a.createElement(Wt,null),a.a.createElement("div",null,a.a.createElement(v.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(t){p(t.currentTarget),A(!0)},color:"inherit"},a.a.createElement(_.a,null)),a.a.createElement(x.a,{id:"menu-appbar",anchorEl:d,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:S,onClose:B},a.a.createElement(O.a,{onClick:function(){l(!0),B()}},ot.a.t("mainDrawer.appBar.user.profile")),a.a.createElement(O.a,{onClick:function(){B(),C()}},ot.a.t("mainDrawer.appBar.user.logout")))))),a.a.createElement("main",{className:r.content},a.a.createElement("div",{className:r.appBarSpacer}),e||null))},ve=r(22),ge=r(191),ye=r(343),be=r(69),Ee=r(974),we=r(975),xe=r(979),Oe=r(531),je=r(532),Le=r(126),ke=r(578),Ne=r(388),Se=function(t){return a.a.createElement(w.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},t.children)},_e=function(){var t=Object(be.a)(),e=Object(n.useRef)((new Date).toISOString()),r=Mt({date:e.current}).tickets,o=Object(n.useState)([{time:"08:00",amount:0},{time:"09:00",amount:0},{time:"10:00",amount:0},{time:"11:00",amount:0},{time:"12:00",amount:0},{time:"13:00",amount:0},{time:"14:00",amount:0},{time:"15:00",amount:0},{time:"16:00",amount:0},{time:"17:00",amount:0},{time:"18:00",amount:0},{time:"19:00",amount:0}]),i=Object(s.a)(o,2),c=i[0],l=i[1];return Object(n.useEffect)((function(){l((function(t){var e=Object(ct.a)(t);return e.forEach((function(t){r.forEach((function(e){Object(xt.a)(Object(Ne.a)(Object(kt.a)(e.createdAt)),"HH:mm")===t.time&&t.amount++}))})),e}))}),[r]),a.a.createElement(a.a.Fragment,null,a.a.createElement(Se,null,"".concat(ot.a.t("dashboard.charts.perDay.title")).concat(r.length)),a.a.createElement(Ee.a,null,a.a.createElement(we.a,{data:c,barSize:40,width:730,height:250,margin:{top:16,right:16,bottom:0,left:24}},a.a.createElement(xe.a,{strokeDasharray:"3 3"}),a.a.createElement(Oe.a,{dataKey:"time",stroke:t.palette.text.secondary}),a.a.createElement(je.a,{type:"number",allowDecimals:!1,stroke:t.palette.text.secondary},a.a.createElement(Le.a,{angle:270,position:"left",style:{textAnchor:"middle",fill:t.palette.text.primary}},"Tickets")),a.a.createElement(ke.a,{dataKey:"amount",fill:t.palette.primary.main}))))},Ae=Object(p.a)((function(t){return{container:{paddingTop:t.spacing(4),paddingBottom:t.spacing(4)},fixedHeightPaper:{padding:t.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",height:240},customFixedHeightPaper:{padding:t.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",height:120},customFixedHeightPaperLg:{padding:t.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",height:"100%"}}})),Te=function(){var t=Ae(),e=Object(n.useContext)(gt.a).user,r=[];e.queues&&e.queues.length>0&&(r=e.queues.map((function(t){return t.id})));var o=function(t,e,n){return Mt({status:t,showAll:e,withUnreadMessages:n,queueIds:JSON.stringify(r)}).tickets.length};return a.a.createElement("div",null,a.a.createElement(ge.a,{maxWidth:"lg",className:t.container},a.a.createElement(ye.a,{container:!0,spacing:3},a.a.createElement(ye.a,{item:!0,xs:4},a.a.createElement(ve.a,{className:t.customFixedHeightPaper,style:{overflow:"hidden"}},a.a.createElement(w.a,{component:"h3",variant:"h6",color:"primary",paragraph:!0},ot.a.t("dashboard.messages.inAttendance.title")),a.a.createElement(ye.a,{item:!0},a.a.createElement(w.a,{component:"h1",variant:"h4"},o("open","true","false"))))),a.a.createElement(ye.a,{item:!0,xs:4},a.a.createElement(ve.a,{className:t.customFixedHeightPaper,style:{overflow:"hidden"}},a.a.createElement(w.a,{component:"h3",variant:"h6",color:"primary",paragraph:!0},ot.a.t("dashboard.messages.waiting.title")),a.a.createElement(ye.a,{item:!0},a.a.createElement(w.a,{component:"h1",variant:"h4"},o("pending","true","false"))))),a.a.createElement(ye.a,{item:!0,xs:4},a.a.createElement(ve.a,{className:t.customFixedHeightPaper,style:{overflow:"hidden"}},a.a.createElement(w.a,{component:"h3",variant:"h6",color:"primary",paragraph:!0},ot.a.t("dashboard.messages.closed.title")),a.a.createElement(ye.a,{item:!0},a.a.createElement(w.a,{component:"h1",variant:"h4"},o("closed","true","false"))))),a.a.createElement(ye.a,{item:!0,xs:12},a.a.createElement(ve.a,{className:t.fixedHeightPaper},a.a.createElement(_e,null))))))},Ce=r(165),Ie=r.n(Ce),Pe=r(598),Re=r(893),Ge=r(246),Me=r(533),De=r.n(Me),Fe=r(534),qe=r.n(Fe),We=r(881),ze=r(882),Be=r(980),Ue=r(1005),Ye=r(231);function Qe(){Qe=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=s;var u={};function f(){}function d(){}function h(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(j([])));v&&v!==e&&r.call(v,a)&&(p=v);var g=h.prototype=f.prototype=Object.create(p);function y(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var s=l(t[a],t,o);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,c)}))}c(s.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,u;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function j(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=h,c(g,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,c(t,i,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},y(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},y(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},t}var He=Object(Be.a)({trim:!0}),Ve=function(t){var e=t.modalOpen,r=t.onClose,o=Object(u.g)(),i=Object(n.useState)([]),c=Object(s.a)(i,2),l=c[0],f=c[1],d=Object(n.useState)(!1),h=Object(s.a)(d,2),p=h[0],m=h[1],v=Object(n.useState)(""),g=Object(s.a)(v,2),y=g[0],b=g[1],E=Object(n.useState)(null),w=Object(s.a)(E,2),x=w[0],O=w[1],j=Object(n.useState)({}),L=Object(s.a)(j,2),k=L[0],N=L[1],S=Object(n.useState)(!1),_=Object(s.a)(S,2),A=_[0],T=_[1],C=Object(n.useContext)(gt.a).user;Object(n.useEffect)((function(){if(e&&!(y.length<3)){m(!0);var t=setTimeout((function(){(function(){var t=Object(it.a)(Qe().mark((function t(){var e,r;return Qe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ft.a.get("contacts",{params:{searchParam:y}});case 3:e=t.sent,r=e.data,f(r.contacts),m(!1),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),m(!1),Object(ut.a)(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}})()()}),500);return function(){return clearTimeout(t)}}m(!1)}),[y,e]);var I=function(){r(),b(""),O(null)},P=function(){var t=Object(it.a)(Qe().mark((function t(e){var r,n;return Qe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return m(!0),t.prev=3,t.next=6,ft.a.post("/tickets",{contactId:e,userId:C.id,status:"open"});case 6:r=t.sent,n=r.data,o.push("/tickets/".concat(n.id)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),Object(ut.a)(t.t0);case 14:m(!1),I();case 16:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(e){return t.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Ye.a,{open:A,initialValues:k,onClose:function(){T(!1)},onSave:function(t){P(t.id)}}),a.a.createElement(Ut.a,{open:e,onClose:I},a.a.createElement(Yt.a,{id:"form-dialog-title"},ot.a.t("newTicketModal.title")),a.a.createElement(Qt.a,{dividers:!0},a.a.createElement(Ue.a,{options:l,loading:p,style:{width:300},clearOnBlur:!0,autoHighlight:!0,freeSolo:!0,clearOnEscape:!0,getOptionLabel:function(t){return t.number?"".concat(t.name," - ").concat(t.number):"".concat(t.name)},renderOption:function(t){return t.number?"".concat(t.name," - ").concat(t.number):"".concat(ot.a.t("newTicketModal.add")," ").concat(t.name)},filterOptions:function(t,e){var r=He(t,e);return""!==e.inputValue&&!p&&y.length>=3&&r.push({name:"".concat(e.inputValue)}),r},onChange:function(t,e){return function(t,e){(null===e||void 0===e?void 0:e.number)?O(e):(null===e||void 0===e?void 0:e.name)&&(N({name:e.name}),T(!0))}(0,e)},renderInput:function(t){return a.a.createElement(Ht.a,Object.assign({},t,{label:ot.a.t("newTicketModal.fieldLabel"),variant:"outlined",autoFocus:!0,onChange:function(t){return b(t.target.value)},onKeyPress:function(t){!p&&x&&"Enter"===t.key&&P(x.id)},InputProps:Object(wt.a)(Object(wt.a)({},t.InputProps),{},{endAdornment:a.a.createElement(a.a.Fragment,null,p?a.a.createElement(te.a,{color:"inherit",size:20}):null,t.InputProps.endAdornment)})}))}})),a.a.createElement(Xt.a,null,a.a.createElement($t.a,{onClick:I,color:"secondary",disabled:p,variant:"outlined"},ot.a.t("newTicketModal.buttons.cancel")),a.a.createElement(At.a,{variant:"contained",type:"button",disabled:!x,onClick:function(){return P(x.id)},color:"primary",loading:p},ot.a.t("newTicketModal.buttons.ok")))))},Ke=r(981),Ze=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(A.a,{dense:!0},a.a.createElement(St.a,null,a.a.createElement(Ke.a,{animation:"wave",variant:"circle",width:40,height:40})),a.a.createElement(C.a,{primary:a.a.createElement(Ke.a,{animation:"wave",height:20,width:60}),secondary:a.a.createElement(Ke.a,{animation:"wave",height:20,width:90})})),a.a.createElement(g.a,{variant:"inset"}),a.a.createElement(A.a,{dense:!0},a.a.createElement(St.a,null,a.a.createElement(Ke.a,{animation:"wave",variant:"circle",width:40,height:40})),a.a.createElement(C.a,{primary:a.a.createElement(Ke.a,{animation:"wave",height:20,width:70}),secondary:a.a.createElement(Ke.a,{animation:"wave",height:20,width:120})})),a.a.createElement(g.a,{variant:"inset"}),a.a.createElement(A.a,{dense:!0},a.a.createElement(St.a,null,a.a.createElement(Ke.a,{animation:"wave",variant:"circle",width:40,height:40})),a.a.createElement(C.a,{primary:a.a.createElement(Ke.a,{animation:"wave",height:20,width:60}),secondary:a.a.createElement(Ke.a,{animation:"wave",height:20,width:90})})),a.a.createElement(g.a,{variant:"inset"}))},Je=Object(p.a)((function(t){return{ticketsListWrapper:{position:"relative",display:"flex",height:"100%",flexDirection:"column",overflow:"hidden",borderTopRightRadius:0,borderBottomRightRadius:0},ticketsList:Object(wt.a)(Object(wt.a)({flex:1,overflowY:"scroll"},t.scrollbarStyles),{},{borderTop:"2px solid rgba(0, 0, 0, 0.12)"}),ticketsListHeader:{color:"rgb(67, 83, 105)",zIndex:2,backgroundColor:"white",borderBottom:"1px solid rgba(0, 0, 0, 0.12)",display:"flex",alignItems:"center",justifyContent:"space-between"},ticketsCount:{fontWeight:"normal",color:"rgb(104, 121, 146)",marginLeft:"8px",fontSize:"14px"},noTicketsText:{textAlign:"center",color:"rgb(104, 121, 146)",fontSize:"14px",lineHeight:"1.4"},noTicketsTitle:{textAlign:"center",fontSize:"16px",fontWeight:"600",margin:"0px"},noTicketsDiv:{display:"flex",height:"100px",margin:40,flexDirection:"column",alignItems:"center",justifyContent:"center"}}})),Xe=function(t,e){if("LOAD_TICKETS"===e.type)return e.payload.forEach((function(e){var r=t.findIndex((function(t){return t.id===e.id}));-1!==r?(t[r]=e,e.unreadMessages>0&&t.unshift(t.splice(r,1)[0])):t.push(e)})),Object(ct.a)(t);if("RESET_UNREAD"===e.type){var r=e.payload,n=t.findIndex((function(t){return t.id===r}));return-1!==n&&(t[n].unreadMessages=0),Object(ct.a)(t)}if("UPDATE_TICKET"===e.type){var a=e.payload,o=t.findIndex((function(t){return t.id===a.id}));return-1!==o?t[o]=a:t.unshift(a),Object(ct.a)(t)}if("UPDATE_TICKET_UNREAD_MESSAGES"===e.type){var i=e.payload,c=t.findIndex((function(t){return t.id===i.id}));return-1!==c?(t[c]=i,t.unshift(t.splice(c,1)[0])):t.unshift(i),Object(ct.a)(t)}if("UPDATE_TICKET_CONTACT"===e.type){var s=e.payload,l=t.findIndex((function(t){return t.contactId===s.id}));return-1!==l&&(t[l].contact=s),Object(ct.a)(t)}if("DELETE_TICKET"===e.type){var u=e.payload,f=t.findIndex((function(t){return t.id===u}));return-1!==f&&t.splice(f,1),Object(ct.a)(t)}return"RESET"===e.type?[]:void 0},$e=function(t){var e=t.status,r=t.searchParam,o=t.showAll,i=t.selectedQueueIds,c=t.updateCount,l=t.style,u=Je(),f=Object(n.useState)(1),d=Object(s.a)(f,2),h=d[0],p=d[1],m=Object(n.useReducer)(Xe,[]),v=Object(s.a)(m,2),g=v[0],b=v[1],E=Object(n.useContext)(gt.a).user;Object(n.useEffect)((function(){b({type:"RESET"}),p(1)}),[e,r,b,o,i]);var w=Mt({pageNumber:h,searchParam:r,status:e,showAll:o,queueIds:JSON.stringify(i)}),x=w.tickets,O=w.hasMore,j=w.loading;Object(n.useEffect)((function(){(e||r)&&b({type:"LOAD_TICKETS",payload:x})}),[x,e,r]),Object(n.useEffect)((function(){var t=lt()("https://wzapapi.whatscontabil.com.br"),r=function(t){return(!t.userId||t.userId===(null===E||void 0===E?void 0:E.id)||o)&&(!t.queueId||i.indexOf(t.queueId)>-1)};return t.on("connect",(function(){e?t.emit("joinTickets",e):t.emit("joinNotification")})),t.on("ticket",(function(t){var e;"updateUnread"===t.action&&b({type:"RESET_UNREAD",payload:t.ticketId}),"update"===t.action&&r(t.ticket)&&b({type:"UPDATE_TICKET",payload:t.ticket}),"update"===t.action&&((e=t.ticket).queueId&&-1===i.indexOf(e.queueId))&&b({type:"DELETE_TICKET",payload:t.ticket.id}),"delete"===t.action&&b({type:"DELETE_TICKET",payload:t.ticketId})})),t.on("appMessage",(function(t){"create"===t.action&&r(t.ticket)&&b({type:"UPDATE_TICKET_UNREAD_MESSAGES",payload:t.ticket})})),t.on("contact",(function(t){"update"===t.action&&b({type:"UPDATE_TICKET_CONTACT",payload:t.contact})})),function(){t.disconnect()}}),[e,o,E,i]),Object(n.useEffect)((function(){"function"===typeof c&&c(g.length)}),[g]);return a.a.createElement(ve.a,{className:u.ticketsListWrapper,style:l},a.a.createElement(ve.a,{square:!0,name:"closed",elevation:0,className:u.ticketsList,onScroll:function(t){if(O&&!j){var e=t.currentTarget,r=e.scrollTop;e.scrollHeight-(r+100)<e.clientHeight&&p((function(t){return t+1}))}}},a.a.createElement(y.a,{style:{paddingTop:0}},0!==g.length||j?a.a.createElement(a.a.Fragment,null,g.map((function(t){return a.a.createElement(Rt,{ticket:t,key:t.id})}))):a.a.createElement("div",{className:u.noTicketsDiv},a.a.createElement("span",{className:u.noTicketsTitle},ot.a.t("ticketsList.noTicketsTitle")),a.a.createElement("p",{className:u.noTicketsText},ot.a.t("ticketsList.noTicketsMessage"))),j&&a.a.createElement(Ze,null))))},tr=r(142),er=["children","value","name"],rr=function(t){var e=t.children,r=t.value,n=t.name,o=Object(tr.a)(t,er);return r===n?a.a.createElement("div",Object.assign({role:"tabpanel",id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},o),a.a.createElement(a.a.Fragment,null,e)):null},nr=r(1004),ar=function(t){var e=t.userQueues,r=t.selectedQueueIds,n=void 0===r?[]:r,o=t.onChange;return a.a.createElement("div",{style:{width:120,marginTop:-4}},a.a.createElement(Kt.a,{fullWidth:!0,margin:"dense"},a.a.createElement(Jt.a,{multiple:!0,displayEmpty:!0,variant:"outlined",value:n,onChange:function(t){o(t.target.value)},MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null},renderValue:function(){return ot.a.t("ticketsQueueSelect.placeholder")}},(null===e||void 0===e?void 0:e.length)>0&&e.map((function(t){return a.a.createElement(O.a,{dense:!0,key:t.id,value:t.id},a.a.createElement(nr.a,{style:{color:t.color},size:"small",color:"primary",checked:n.indexOf(t.id)>-1}),a.a.createElement(C.a,{primary:t.name}))})))))},or=Object(p.a)((function(t){return{ticketsWrapper:{position:"relative",display:"flex",height:"100%",flexDirection:"column",overflow:"hidden",borderTopRightRadius:0,borderBottomRightRadius:0},tabsHeader:{flex:"none",backgroundColor:"#eee"},settingsIcon:{alignSelf:"center",marginLeft:"auto",padding:8},tab:{minWidth:120,width:120},ticketOptionsBox:{display:"flex",justifyContent:"space-between",alignItems:"center",background:"#fafafa",padding:t.spacing(1)},serachInputWrapper:{flex:1,background:"#fff",display:"flex",borderRadius:40,padding:4,marginRight:t.spacing(1)},searchIcon:{color:"grey",marginLeft:6,marginRight:6,alignSelf:"center"},searchInput:{flex:1,border:"none",borderRadius:30},badge:{right:"-10px"},show:{display:"block"},hide:{display:"none !important"}}})),ir=function(){var t,e=or(),r=Object(n.useState)(""),o=Object(s.a)(r,2),i=o[0],c=o[1],l=Object(n.useState)("open"),u=Object(s.a)(l,2),f=u[0],d=u[1],h=Object(n.useState)("open"),p=Object(s.a)(h,2),m=p[0],v=p[1],g=Object(n.useState)(!1),y=Object(s.a)(g,2),b=y[0],E=y[1],w=Object(n.useState)(!1),x=Object(s.a)(w,2),O=x[0],j=x[1],L=Object(n.useRef)(),k=Object(n.useContext)(gt.a).user,N=Object(n.useState)(0),S=Object(s.a)(N,2),_=S[0],A=S[1],T=Object(n.useState)(0),C=Object(s.a)(T,2),I=C[0],R=C[1],G=k.queues.map((function(t){return t.id})),M=Object(n.useState)(G||[]),D=Object(s.a)(M,2),F=D[0],q=D[1];Object(n.useEffect)((function(){"ADMIN"===k.profile.toUpperCase()&&j(!0)}),[]),Object(n.useEffect)((function(){"search"===f&&L.current.focus()}),[f]);var W=function(t){if(m!==t)return{width:0,height:0}};return a.a.createElement(ve.a,{elevation:0,variant:"outlined",className:e.ticketsWrapper},a.a.createElement(Ve,{modalOpen:b,onClose:function(t){return E(!1)}}),a.a.createElement(ve.a,{elevation:0,square:!0,className:e.tabsHeader},a.a.createElement(Re.a,{value:f,onChange:function(t,e){d(e)},variant:"fullWidth",indicatorColor:"primary",textColor:"primary","aria-label":"icon label tabs example"},a.a.createElement(Ge.a,{value:"open",icon:a.a.createElement(De.a,null),label:ot.a.t("tickets.tabs.open.title"),classes:{root:e.tab}}),a.a.createElement(Ge.a,{value:"closed",icon:a.a.createElement(qe.a,null),label:ot.a.t("tickets.tabs.closed.title"),classes:{root:e.tab}}),a.a.createElement(Ge.a,{value:"search",icon:a.a.createElement(Ie.a,null),label:ot.a.t("tickets.tabs.search.title"),classes:{root:e.tab}}))),a.a.createElement(ve.a,{square:!0,elevation:0,className:e.ticketOptionsBox},"search"===f?a.a.createElement("div",{className:e.serachInputWrapper},a.a.createElement(Ie.a,{className:e.searchIcon}),a.a.createElement(Pe.a,{className:e.searchInput,inputRef:L,placeholder:ot.a.t("tickets.search.placeholder"),type:"search",onChange:function(e){var r=e.target.value.toLowerCase();if(clearTimeout(t),""===r)return c(r),void d("open");t=setTimeout((function(){c(r)}),500)}})):a.a.createElement(a.a.Fragment,null,a.a.createElement($t.a,{variant:"outlined",color:"primary",onClick:function(){return E(!0)}},ot.a.t("ticketsManager.buttons.newTicket")),a.a.createElement(yt.a,{role:k.profile,perform:"tickets-manager:showall",yes:function(){return a.a.createElement(We.a,{label:ot.a.t("tickets.buttons.showAll"),labelPlacement:"start",control:a.a.createElement(ze.a,{size:"small",checked:O,onChange:function(){return j((function(t){return!t}))},name:"showAllTickets",color:"primary"})})}})),a.a.createElement(ar,{style:{marginLeft:6},selectedQueueIds:F,userQueues:null===k||void 0===k?void 0:k.queues,onChange:function(t){return q(t)}})),a.a.createElement(rr,{value:f,name:"open",className:e.ticketsWrapper},a.a.createElement(Re.a,{value:m,onChange:function(t,e){v(e)},indicatorColor:"primary",textColor:"primary",variant:"fullWidth"},a.a.createElement(Ge.a,{label:a.a.createElement(P.a,{className:e.badge,badgeContent:_,color:"primary"},ot.a.t("ticketsList.assignedHeader")),value:"open"}),a.a.createElement(Ge.a,{label:a.a.createElement(P.a,{className:e.badge,badgeContent:I,color:"secondary"},ot.a.t("ticketsList.pendingHeader")),value:"pending"})),a.a.createElement(ve.a,{className:e.ticketsWrapper},a.a.createElement($e,{status:"open",showAll:O,selectedQueueIds:F,updateCount:function(t){return A(t)},style:W("open")}),a.a.createElement($e,{status:"pending",selectedQueueIds:F,updateCount:function(t){return R(t)},style:W("pending")}))),a.a.createElement(rr,{value:f,name:"closed",className:e.ticketsWrapper},a.a.createElement($e,{status:"closed",showAll:!0,selectedQueueIds:F})),a.a.createElement(rr,{value:f,name:"search",className:e.ticketsWrapper},a.a.createElement($e,{searchParam:i,showAll:!0,selectedQueueIds:F})))},cr=r(535),sr=r(1003),lr=Object(p.a)((function(t){return{chatContainer:{flex:1,height:"calc(100% - 48px)",overflowY:"hidden"},chatPapper:{display:"flex",height:"100%"},contactsWrapper:{display:"flex",height:"100%",flexDirection:"column",overflowY:"hidden"},contactsWrapperSmall:Object(d.a)({display:"flex",height:"100%",flexDirection:"column",overflowY:"hidden"},t.breakpoints.down("sm"),{display:"none"}),messagessWrapper:{display:"flex",height:"100%",flexDirection:"column"},welcomeMsg:{backgroundColor:"#eee",display:"flex",justifyContent:"space-evenly",alignItems:"center",height:"100%",textAlign:"center",borderRadius:0},ticketsManager:{},ticketsManagerClosed:Object(d.a)({},t.breakpoints.down("sm"),{display:"none"})}})),ur=function(){var t=lr(),e=Object(u.h)().ticketId;return a.a.createElement("div",{className:t.chatContainer},a.a.createElement("div",{className:t.chatPapper},a.a.createElement(ye.a,{container:!0,spacing:0},a.a.createElement(ye.a,{item:!0,xs:12,md:4,className:e?t.contactsWrapperSmall:t.contactsWrapper},a.a.createElement(ir,null)),a.a.createElement(ye.a,{item:!0,xs:12,md:8,className:t.messagessWrapper},e?a.a.createElement(a.a.Fragment,null,a.a.createElement(cr.a,null)):a.a.createElement(sr.a,{only:["sm","xs"]},a.a.createElement(ve.a,{className:t.welcomeMsg},a.a.createElement("span",null,ot.a.t("chat.noTicketMessage"))))))))},fr=r(982),dr=r(892),hr=r(986);function pr(){pr=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=s;var u={};function f(){}function d(){}function h(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(j([])));v&&v!==e&&r.call(v,a)&&(p=v);var g=h.prototype=f.prototype=Object.create(p);function y(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var s=l(t[a],t,o);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,c)}))}c(s.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,u;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function j(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=h,c(g,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,c(t,i,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},y(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},y(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},t}var mr=Object(p.a)((function(t){return{paper:{marginTop:t.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:t.spacing(1),backgroundColor:t.palette.secondary.main},form:{width:"100%",marginTop:t.spacing(3)},submit:{margin:t.spacing(3,0,2)}}})),vr=zt.a().shape({name:zt.b().min(2,"Too Short!").max(50,"Too Long!").required("Required"),password:zt.b().min(5,"Too Short!").max(50,"Too Long!"),email:zt.b().email("Invalid email").required("Required")}),gr=function(){var t=mr(),e=Object(u.g)(),r=Object(n.useState)(!1),o=Object(s.a)(r,2),i=o[0],d=o[1],h=Object(n.useState)({name:"",email:"",password:""}),p=Object(s.a)(h,1)[0],m=function(){var t=Object(it.a)(pr().mark((function t(r){return pr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ft.a.post("/auth/signup",r);case 3:f.b.success(ot.a.t("signup.toasts.success")),e.push("/login"),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),Object(ut.a)(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}();return a.a.createElement(ge.a,{component:"main",maxWidth:"xs"},a.a.createElement(c.a,null),a.a.createElement("div",{className:t.paper},a.a.createElement(_t.a,{className:t.avatar},a.a.createElement(hr.a,null)),a.a.createElement(w.a,{component:"h1",variant:"h5"},ot.a.t("signup.title")),a.a.createElement(Bt.d,{initialValues:p,enableReinitialize:!0,validationSchema:vr,onSubmit:function(t,e){setTimeout((function(){m(t),e.setSubmitting(!1)}),400)}},(function(e){var r=e.touched,n=e.errors;e.isSubmitting;return a.a.createElement(Bt.c,{className:t.form},a.a.createElement(ye.a,{container:!0,spacing:2},a.a.createElement(ye.a,{item:!0,xs:12},a.a.createElement(Bt.a,{as:Ht.a,autoComplete:"name",name:"name",error:r.name&&Boolean(n.name),helperText:r.name&&n.name,variant:"outlined",fullWidth:!0,id:"name",label:ot.a.t("signup.form.name"),autoFocus:!0})),a.a.createElement(ye.a,{item:!0,xs:12},a.a.createElement(Bt.a,{as:Ht.a,variant:"outlined",fullWidth:!0,id:"email",label:ot.a.t("signup.form.email"),name:"email",error:r.email&&Boolean(n.email),helperText:r.email&&n.email,autoComplete:"email"})),a.a.createElement(ye.a,{item:!0,xs:12},a.a.createElement(Bt.a,{as:Ht.a,variant:"outlined",fullWidth:!0,name:"password",id:"password",autoComplete:"current-password",error:r.password&&Boolean(n.password),helperText:r.password&&n.password,label:ot.a.t("signup.form.password"),type:i?"text":"password",InputProps:{endAdornment:a.a.createElement(Vt.a,{position:"end"},a.a.createElement(v.a,{"aria-label":"toggle password visibility",onClick:function(){return d((function(t){return!t}))}},i?a.a.createElement(ee.a,null):a.a.createElement(re.a,null)))}}))),a.a.createElement($t.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit},ot.a.t("signup.buttons.submit")),a.a.createElement(ye.a,{container:!0,justify:"flex-end"},a.a.createElement(ye.a,{item:!0},a.a.createElement(fr.a,{href:"#",variant:"body2",component:l.b,to:"/login"},ot.a.t("signup.buttons.login")))))}))),a.a.createElement(dr.a,{mt:5}))},yr=Object(p.a)((function(t){return{paper:{marginTop:t.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:t.spacing(1),backgroundColor:t.palette.secondary.main},form:{width:"100%",marginTop:t.spacing(1)},submit:{margin:t.spacing(3,0,2)}}})),br=function(){var t=yr(),e=Object(n.useState)({email:"",password:""}),r=Object(s.a)(e,2),o=r[0],i=r[1],u=Object(n.useState)(!1),f=Object(s.a)(u,2),h=f[0],p=f[1],m=Object(n.useContext)(gt.a).handleLogin,g=function(t){i(Object(wt.a)(Object(wt.a)({},o),{},Object(d.a)({},t.target.name,t.target.value)))};return a.a.createElement(ge.a,{component:"main",maxWidth:"xs"},a.a.createElement(c.a,null),a.a.createElement("div",{className:t.paper},a.a.createElement(_t.a,{className:t.avatar},a.a.createElement(hr.a,null)),a.a.createElement(w.a,{component:"h1",variant:"h5"},ot.a.t("login.title")),a.a.createElement("form",{className:t.form,noValidate:!0,onSubmit:function(t){t.preventDefault(),m(o)}},a.a.createElement(Ht.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:ot.a.t("login.form.email"),name:"email",value:o.email,onChange:g,autoComplete:"email",autoFocus:!0}),a.a.createElement(Ht.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:ot.a.t("login.form.password"),id:"password",value:o.password,onChange:g,autoComplete:"current-password",type:h?"text":"password",InputProps:{endAdornment:a.a.createElement(Vt.a,{position:"end"},a.a.createElement(v.a,{"aria-label":"toggle password visibility",onClick:function(){return p((function(t){return!t}))}},h?a.a.createElement(ee.a,null):a.a.createElement(re.a,null)))}}),a.a.createElement($t.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit},ot.a.t("login.buttons.submit")),a.a.createElement(ye.a,{container:!0},a.a.createElement(ye.a,{item:!0},a.a.createElement(fr.a,{href:"#",variant:"body2",component:l.b,to:"/signup"},ot.a.t("login.buttons.register")))))),a.a.createElement(dr.a,{mt:8}))},Er=r(993),wr=r(994),xr=r(987),Or=r(988),jr=r(995),Lr=r(989),kr=r(990),Nr=r(991),Sr=r(992),_r=r(996),Ar=r(997),Tr=r(998),Cr=Object(p.a)((function(t){return{mainContainer:{flex:1,padding:0,height:"100%"},contentWrapper:{height:"100%",overflowY:"hidden",display:"flex",flexDirection:"column"}}})),Ir=function(t){var e=t.children,r=Cr();return a.a.createElement(ge.a,{className:r.mainContainer,maxWidth:!1},a.a.createElement("div",{className:r.contentWrapper},e))},Pr=Object(p.a)((function(t){return{contactsHeader:{display:"flex",alignItems:"center",padding:"0px 6px 6px 6px"}}})),Rr=function(t){var e=t.children,r=Pr();return a.a.createElement("div",{className:r.contactsHeader},e)},Gr=Object(p.a)((function(t){return{MainHeaderButtonsWrapper:{flex:"none",marginLeft:"auto","& > *":{margin:t.spacing(1)}}}})),Mr=function(t){var e=t.children,r=Gr();return a.a.createElement("div",{className:r.MainHeaderButtonsWrapper},e)};function Dr(t){return a.a.createElement(w.a,{variant:"h5",color:"primary",gutterBottom:!0},t.children)}var Fr=Object(p.a)((function(t){return{customTableCell:{display:"flex",alignItems:"center",justifyContent:"center"}}})),qr=function(t){var e=t.avatar,r=t.columns,n=Fr();return a.a.createElement(a.a.Fragment,null,a.a.createElement(xr.a,null,e&&a.a.createElement(a.a.Fragment,null,a.a.createElement(Or.a,{style:{paddingRight:0}},a.a.createElement(Ke.a,{animation:"wave",variant:"circle",width:40,height:40})),a.a.createElement(Or.a,null,a.a.createElement(Ke.a,{animation:"wave",height:30,width:80}))),Array.from({length:r},(function(t,e){return a.a.createElement(Or.a,{align:"center",key:e},a.a.createElement("div",{className:n.customTableCell},a.a.createElement(Ke.a,{align:"center",animation:"wave",height:30,width:80})))}))))};function Wr(){Wr=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=s;var u={};function f(){}function d(){}function h(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(j([])));v&&v!==e&&r.call(v,a)&&(p=v);var g=h.prototype=f.prototype=Object.create(p);function y(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var s=l(t[a],t,o);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,c)}))}c(s.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,u;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function j(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=h,c(g,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,c(t,i,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},y(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},y(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},t}var zr=Object(p.a)((function(t){return{root:{display:"flex",flexWrap:"wrap"},multFieldLine:{display:"flex","& > *:not(:last-child)":{marginRight:t.spacing(1)}},btnWrapper:{position:"relative"},buttonProgress:{color:Nt.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}})),Br=zt.a().shape({name:zt.b().min(2,"Too Short!").max(50,"Too Long!").required("Required")}),Ur=a.a.memo((function(t){var e=t.open,r=t.onClose,o=t.whatsAppId,i=zr(),c={name:"",greetingMessage:"",farewellMessage:"",isDefault:!1},l=Object(n.useState)(c),u=Object(s.a)(l,2),d=u[0],h=u[1],p=Object(n.useState)([]),m=Object(s.a)(p,2),v=m[0],g=m[1];Object(n.useEffect)((function(){(function(){var t=Object(it.a)(Wr().mark((function t(){var e,r,n,a;return Wr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,ft.a.get("whatsapp/".concat(o));case 5:r=t.sent,n=r.data,h(n),a=null===(e=n.queues)||void 0===e?void 0:e.map((function(t){return t.id})),g(a),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),Object(ut.a)(t.t0);case 15:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(){return t.apply(this,arguments)}})()()}),[o]);var y=function(){var t=Object(it.a)(Wr().mark((function t(e){var r;return Wr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=Object(wt.a)(Object(wt.a)({},e),{},{queueIds:v}),t.prev=1,!o){t.next=7;break}return t.next=5,ft.a.put("/whatsapp/".concat(o),r);case 5:t.next=9;break;case 7:return t.next=9,ft.a.post("/whatsapp",r);case 9:f.b.success(ot.a.t("whatsappModal.success")),b(),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),Object(ut.a)(t.t0);case 16:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e){return t.apply(this,arguments)}}(),b=function(){r(),h(c)};return a.a.createElement("div",{className:i.root},a.a.createElement(Ut.a,{open:e,onClose:b,maxWidth:"sm",fullWidth:!0,scroll:"paper"},a.a.createElement(Yt.a,null,o?ot.a.t("whatsappModal.title.edit"):ot.a.t("whatsappModal.title.add")),a.a.createElement(Bt.d,{initialValues:d,enableReinitialize:!0,validationSchema:Br,onSubmit:function(t,e){setTimeout((function(){y(t),e.setSubmitting(!1)}),400)}},(function(t){var e=t.values,r=t.touched,n=t.errors,c=t.isSubmitting;return a.a.createElement(Bt.c,null,a.a.createElement(Qt.a,{dividers:!0},a.a.createElement("div",{className:i.multFieldLine},a.a.createElement(Bt.a,{as:Ht.a,label:ot.a.t("whatsappModal.form.name"),autoFocus:!0,name:"name",error:r.name&&Boolean(n.name),helperText:r.name&&n.name,variant:"outlined",margin:"dense",className:i.textField}),a.a.createElement(We.a,{control:a.a.createElement(Bt.a,{as:ze.a,color:"primary",name:"isDefault",checked:e.isDefault}),label:ot.a.t("whatsappModal.form.default")})),a.a.createElement("div",null,a.a.createElement(Bt.a,{as:Ht.a,label:ot.a.t("queueModal.form.greetingMessage"),type:"greetingMessage",multiline:!0,rows:5,fullWidth:!0,name:"greetingMessage",error:r.greetingMessage&&Boolean(n.greetingMessage),helperText:r.greetingMessage&&n.greetingMessage,variant:"outlined",margin:"dense"})),a.a.createElement("div",null,a.a.createElement(Bt.a,{as:Ht.a,label:ot.a.t("whatsappModal.form.farewellMessage"),type:"farewellMessage",multiline:!0,rows:5,fullWidth:!0,name:"farewellMessage",error:r.farewellMessage&&Boolean(n.farewellMessage),helperText:r.farewellMessage&&n.farewellMessage,variant:"outlined",margin:"dense"})),a.a.createElement(ie,{selectedQueueIds:v,onChange:function(t){return g(t)}})),a.a.createElement(Xt.a,null,a.a.createElement($t.a,{onClick:b,color:"secondary",disabled:c,variant:"outlined"},ot.a.t("whatsappModal.buttons.cancel")),a.a.createElement($t.a,{type:"submit",color:"primary",disabled:c,variant:"contained",className:i.btnWrapper},o?ot.a.t("whatsappModal.buttons.okEdit"):ot.a.t("whatsappModal.buttons.okAdd"),c&&a.a.createElement(te.a,{size:24,className:i.buttonProgress}))))}))))})),Yr=r(101),Qr=r(553),Hr=r.n(Qr);function Vr(){Vr=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=s;var u={};function f(){}function d(){}function h(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(j([])));v&&v!==e&&r.call(v,a)&&(p=v);var g=h.prototype=f.prototype=Object.create(p);function y(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var s=l(t[a],t,o);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,c)}))}c(s.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,u;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function j(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=h,c(g,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,c(t,i,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},y(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},y(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},t}var Kr=a.a.memo((function(t){var e=t.open,r=t.onClose,o=t.whatsAppId,i=Object(n.useState)(""),c=Object(s.a)(i,2),l=c[0],u=c[1];return Object(n.useEffect)((function(){(function(){var t=Object(it.a)(Vr().mark((function t(){var e,r;return Vr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,ft.a.get("/whatsapp/".concat(o));case 5:e=t.sent,r=e.data,u(r.qrcode),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),Object(ut.a)(t.t0);case 13:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(){return t.apply(this,arguments)}})()()}),[o]),Object(n.useEffect)((function(){if(o){var t=lt()("https://wzapapi.whatscontabil.com.br");return t.on("whatsappSession",(function(t){"update"===t.action&&t.session.id===o&&u(t.session.qrcode),"update"===t.action&&""===t.session.qrcode&&r()})),function(){t.disconnect()}}}),[o,r]),a.a.createElement(Ut.a,{open:e,onClose:r,maxWidth:"lg",scroll:"paper"},a.a.createElement(Qt.a,null,a.a.createElement(ve.a,{elevation:0},a.a.createElement(w.a,{color:"primary",gutterBottom:!0},ot.a.t("qrCode.message")),l?a.a.createElement(Hr.a,{value:l,size:256}):a.a.createElement("span",null,"Waiting for QR Code"))))}));function Zr(){Zr=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=s;var u={};function f(){}function d(){}function h(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(j([])));v&&v!==e&&r.call(v,a)&&(p=v);var g=h.prototype=f.prototype=Object.create(p);function y(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var s=l(t[a],t,o);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,c)}))}c(s.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,u;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function j(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=h,c(g,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,c(t,i,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},y(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},y(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},t}var Jr=Object(p.a)((function(t){return{mainPaper:Object(wt.a)({flex:1,padding:t.spacing(1),overflowY:"scroll"},t.scrollbarStyles),customTableCell:{display:"flex",alignItems:"center",justifyContent:"center"},tooltip:{backgroundColor:"#f5f5f9",color:"rgba(0, 0, 0, 0.87)",fontSize:t.typography.pxToRem(14),border:"1px solid #dadde9",maxWidth:450},tooltipPopper:{textAlign:"center"},buttonProgress:{color:Nt.a[500]}}})),Xr=function(t){var e=t.title,r=t.content,n=t.children,o=Jr();return a.a.createElement(Ct.a,{arrow:!0,classes:{tooltip:o.tooltip,popper:o.tooltipPopper},title:a.a.createElement(a.a.Fragment,null,a.a.createElement(w.a,{gutterBottom:!0,color:"inherit"},e),r&&a.a.createElement(w.a,null,r))},n)},$r=function(){var t=Jr(),e=Object(n.useContext)(mt),r=e.whatsApps,o=e.loading,i=Object(n.useState)(!1),c=Object(s.a)(i,2),l=c[0],u=c[1],d=Object(n.useState)(!1),h=Object(s.a)(d,2),p=h[0],m=h[1],g=Object(n.useState)(null),y=Object(s.a)(g,2),b=y[0],E=y[1],w=Object(n.useState)(!1),x=Object(s.a)(w,2),O=x[0],j=x[1],L={action:"",title:"",message:"",whatsAppId:"",open:!1},k=Object(n.useState)(L),N=Object(s.a)(k,2),S=N[0],_=N[1],A=function(){var t=Object(it.a)(Zr().mark((function t(e){return Zr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ft.a.post("/whatsappsession/".concat(e));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),Object(ut.a)(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}(),T=function(){var t=Object(it.a)(Zr().mark((function t(e){return Zr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ft.a.put("/whatsappsession/".concat(e));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),Object(ut.a)(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}(),C=Object(n.useCallback)((function(){u(!1),E(null)}),[E,u]),I=Object(n.useCallback)((function(){E(null),m(!1)}),[m,E]),P=function(t,e){"disconnect"===t&&_({action:t,title:ot.a.t("connections.confirmationModal.disconnectTitle"),message:ot.a.t("connections.confirmationModal.disconnectMessage"),whatsAppId:e}),"delete"===t&&_({action:t,title:ot.a.t("connections.confirmationModal.deleteTitle"),message:ot.a.t("connections.confirmationModal.deleteMessage"),whatsAppId:e}),j(!0)},R=function(){var t=Object(it.a)(Zr().mark((function t(){return Zr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("disconnect"!==S.action){t.next=9;break}return t.prev=1,t.next=4,ft.a.delete("/whatsappsession/".concat(S.whatsAppId));case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),Object(ut.a)(t.t0);case 9:if("delete"!==S.action){t.next=19;break}return t.prev=10,t.next=13,ft.a.delete("/whatsapp/".concat(S.whatsAppId));case 13:f.b.success(ot.a.t("connections.toasts.deleted")),t.next=19;break;case 16:t.prev=16,t.t1=t.catch(10),Object(ut.a)(t.t1);case 19:_(L);case 20:case"end":return t.stop()}}),t,null,[[1,6],[10,16]])})));return function(){return t.apply(this,arguments)}}(),G=function(t){return a.a.createElement(a.a.Fragment,null,"qrcode"===t.status&&a.a.createElement($t.a,{size:"small",variant:"contained",color:"primary",onClick:function(){return function(t){E(t),m(!0)}(t)}},ot.a.t("connections.buttons.qrcode")),"DISCONNECTED"===t.status&&a.a.createElement(a.a.Fragment,null,a.a.createElement($t.a,{size:"small",variant:"outlined",color:"primary",onClick:function(){return A(t.id)}},ot.a.t("connections.buttons.tryAgain"))," ",a.a.createElement($t.a,{size:"small",variant:"outlined",color:"secondary",onClick:function(){return T(t.id)}},ot.a.t("connections.buttons.newQr"))),("CONNECTED"===t.status||"PAIRING"===t.status||"TIMEOUT"===t.status)&&a.a.createElement($t.a,{size:"small",variant:"outlined",color:"secondary",onClick:function(){P("disconnect",t.id)}},ot.a.t("connections.buttons.disconnect")),"OPENING"===t.status&&a.a.createElement($t.a,{size:"small",variant:"outlined",disabled:!0,color:"default"},ot.a.t("connections.buttons.connecting")))};return a.a.createElement(Ir,null,a.a.createElement(Yr.a,{title:S.title,open:O,onClose:j,onConfirm:R},S.message),a.a.createElement(Kr,{open:p,onClose:I,whatsAppId:!l&&(null===b||void 0===b?void 0:b.id)}),a.a.createElement(Ur,{open:l,onClose:C,whatsAppId:!p&&(null===b||void 0===b?void 0:b.id)}),a.a.createElement(Rr,null,a.a.createElement(Dr,null,ot.a.t("connections.title")),a.a.createElement(Mr,null,a.a.createElement($t.a,{variant:"contained",color:"primary",onClick:function(){E(null),u(!0)}},ot.a.t("connections.buttons.add")))),a.a.createElement(ve.a,{className:t.mainPaper,variant:"outlined"},a.a.createElement(Er.a,{size:"small"},a.a.createElement(wr.a,null,a.a.createElement(xr.a,null,a.a.createElement(Or.a,{align:"center"},"ID"),a.a.createElement(Or.a,{align:"center"},ot.a.t("connections.table.name")),a.a.createElement(Or.a,{align:"center"},ot.a.t("connections.table.status")),a.a.createElement(Or.a,{align:"center"},ot.a.t("connections.table.session")),a.a.createElement(Or.a,{align:"center"},ot.a.t("connections.table.lastUpdate")),a.a.createElement(Or.a,{align:"center"},ot.a.t("connections.table.default")),a.a.createElement(Or.a,{align:"center"},ot.a.t("connections.table.actions")))),a.a.createElement(jr.a,null,o?a.a.createElement(qr,null):a.a.createElement(a.a.Fragment,null,(null===r||void 0===r?void 0:r.length)>0&&r.map((function(e){return a.a.createElement(xr.a,{key:e.id},a.a.createElement(Or.a,{align:"center"},e.id),a.a.createElement(Or.a,{align:"center"},e.name),a.a.createElement(Or.a,{align:"center"},function(e){return a.a.createElement("div",{className:t.customTableCell},"DISCONNECTED"===e.status&&a.a.createElement(Xr,{title:ot.a.t("connections.toolTips.disconnected.title"),content:ot.a.t("connections.toolTips.disconnected.content")},a.a.createElement(Lr.a,{color:"secondary"})),"OPENING"===e.status&&a.a.createElement(te.a,{size:24,className:t.buttonProgress}),"qrcode"===e.status&&a.a.createElement(Xr,{title:ot.a.t("connections.toolTips.qrcode.title"),content:ot.a.t("connections.toolTips.qrcode.content")},a.a.createElement(kr.a,null)),"CONNECTED"===e.status&&a.a.createElement(Xr,{title:ot.a.t("connections.toolTips.connected.title")},a.a.createElement(Nr.a,{style:{color:Nt.a[500]}})),("TIMEOUT"===e.status||"PAIRING"===e.status)&&a.a.createElement(Xr,{title:ot.a.t("connections.toolTips.timeout.title"),content:ot.a.t("connections.toolTips.timeout.content")},a.a.createElement(Sr.a,{color:"secondary"})))}(e)),a.a.createElement(Or.a,{align:"center"},G(e)),a.a.createElement(Or.a,{align:"center"},Object(xt.a)(Object(kt.a)(e.updatedAt),"dd/MM/yy HH:mm")),a.a.createElement(Or.a,{align:"center"},e.isDefault&&a.a.createElement("div",{className:t.customTableCell},a.a.createElement(_r.a,{style:{color:Nt.a[500]}}))),a.a.createElement(Or.a,{align:"center"},a.a.createElement(v.a,{size:"small",onClick:function(){return function(t){E(t),u(!0)}(e)}},a.a.createElement(Ar.a,null)),a.a.createElement(v.a,{size:"small",onClick:function(t){P("delete",e.id)}},a.a.createElement(Tr.a,null))))})))))))};function tn(){tn=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=s;var u={};function f(){}function d(){}function h(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(j([])));v&&v!==e&&r.call(v,a)&&(p=v);var g=h.prototype=f.prototype=Object.create(p);function y(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var s=l(t[a],t,o);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,c)}))}c(s.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,u;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function j(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=h,c(g,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,c(t,i,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},y(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},y(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},t}var en=Object(p.a)((function(t){return{root:{display:"flex",alignItems:"center",padding:t.spacing(8,8,3)},paper:{padding:t.spacing(2),display:"flex",alignItems:"center",marginBottom:12},settingOption:{marginLeft:"auto"},margin:{margin:t.spacing(1)}}})),rn=function(){var t=en(),e=Object(n.useState)([]),r=Object(s.a)(e,2),o=r[0],i=r[1];Object(n.useEffect)((function(){(function(){var t=Object(it.a)(tn().mark((function t(){var e,r;return tn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ft.a.get("/settings");case 3:e=t.sent,r=e.data,i(r),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),Object(ut.a)(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}})()()}),[]),Object(n.useEffect)((function(){var t=lt()("https://wzapapi.whatscontabil.com.br");return t.on("settings",(function(t){"update"===t.action&&i((function(e){var r=Object(ct.a)(e),n=r.findIndex((function(e){return e.key===t.setting.key}));return r[n].value=t.setting.value,r}))})),function(){t.disconnect()}}),[]);var c=function(){var t=Object(it.a)(tn().mark((function t(e){var r,n;return tn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.target.value,n=e.target.name,t.prev=2,t.next=5,ft.a.put("/settings/".concat(n),{value:r});case 5:f.b.success(ot.a.t("settings.success")),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),Object(ut.a)(t.t0);case 11:case"end":return t.stop()}}),t,null,[[2,8]])})));return function(e){return t.apply(this,arguments)}}(),l=function(t){return o.find((function(e){return e.key===t})).value};return a.a.createElement("div",{className:t.root},a.a.createElement(ge.a,{className:t.container,maxWidth:"sm"},a.a.createElement(w.a,{variant:"body2",gutterBottom:!0},ot.a.t("settings.title")),a.a.createElement(ve.a,{className:t.paper},a.a.createElement(w.a,{variant:"body1"},ot.a.t("settings.settings.userCreation.name")),a.a.createElement(Jt.a,{margin:"dense",variant:"outlined",native:!0,id:"userCreation-setting",name:"userCreation",value:o&&o.length>0&&l("userCreation"),className:t.settingOption,onChange:c},a.a.createElement("option",{value:"enabled"},ot.a.t("settings.settings.userCreation.options.enabled")),a.a.createElement("option",{value:"disabled"},ot.a.t("settings.settings.userCreation.options.disabled")))),a.a.createElement(ve.a,{className:t.paper},a.a.createElement(Ht.a,{id:"api-token-setting",readonly:!0,label:"Token Api",margin:"dense",variant:"outlined",fullWidth:!0,value:o&&o.length>0&&l("userApiToken")}))))},nn=r(232),an=r.n(nn),on=r(331),cn=r.n(on);function sn(){sn=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=s;var u={};function f(){}function d(){}function h(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(j([])));v&&v!==e&&r.call(v,a)&&(p=v);var g=h.prototype=f.prototype=Object.create(p);function y(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var s=l(t[a],t,o);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,c)}))}c(s.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,u;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function j(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=h,c(g,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,c(t,i,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},y(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},y(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},t}var ln=function(t,e){if("LOAD_USERS"===e.type){var r=e.payload,n=[];return r.forEach((function(e){var r=t.findIndex((function(t){return t.id===e.id}));-1!==r?t[r]=e:n.push(e)})),[].concat(Object(ct.a)(t),n)}if("UPDATE_USERS"===e.type){var a=e.payload,o=t.findIndex((function(t){return t.id===a.id}));return-1!==o?(t[o]=a,Object(ct.a)(t)):[a].concat(Object(ct.a)(t))}if("DELETE_USER"===e.type){var i=e.payload,c=t.findIndex((function(t){return t.id===i}));return-1!==c&&t.splice(c,1),Object(ct.a)(t)}if("RESET"===e.type)return[]},un=Object(p.a)((function(t){return{mainPaper:Object(wt.a)({flex:1,padding:t.spacing(1),overflowY:"scroll"},t.scrollbarStyles)}})),fn=function(){var t=un(),e=Object(n.useState)(!1),r=Object(s.a)(e,2),o=r[0],i=r[1],c=Object(n.useState)(1),l=Object(s.a)(c,2),u=l[0],d=l[1],h=Object(n.useState)(!1),p=Object(s.a)(h,2),m=p[0],g=p[1],y=Object(n.useState)(null),b=Object(s.a)(y,2),E=b[0],w=b[1],x=Object(n.useState)(null),O=Object(s.a)(x,2),j=O[0],L=O[1],k=Object(n.useState)(!1),N=Object(s.a)(k,2),S=N[0],_=N[1],A=Object(n.useState)(!1),T=Object(s.a)(A,2),C=T[0],I=T[1],P=Object(n.useState)(""),R=Object(s.a)(P,2),G=R[0],M=R[1],D=Object(n.useReducer)(ln,[]),F=Object(s.a)(D,2),q=F[0],W=F[1];Object(n.useEffect)((function(){W({type:"RESET"}),d(1)}),[G]),Object(n.useEffect)((function(){i(!0);var t=setTimeout((function(){(function(){var t=Object(it.a)(sn().mark((function t(){var e,r;return sn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ft.a.get("/users/",{params:{searchParam:G,pageNumber:u}});case 3:e=t.sent,r=e.data,W({type:"LOAD_USERS",payload:r.users}),g(r.hasMore),i(!1),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),Object(ut.a)(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}})()()}),500);return function(){return clearTimeout(t)}}),[G,u]),Object(n.useEffect)((function(){var t=lt()("https://wzapapi.whatscontabil.com.br");return t.on("user",(function(t){"update"!==t.action&&"create"!==t.action||W({type:"UPDATE_USERS",payload:t.user}),"delete"===t.action&&W({type:"DELETE_USER",payload:+t.userId})})),function(){t.disconnect()}}),[]);var z=function(){var t=Object(it.a)(sn().mark((function t(e){return sn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ft.a.delete("/users/".concat(e));case 3:f.b.success(ot.a.t("users.toasts.deleted")),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),Object(ut.a)(t.t0);case 9:L(null),M(""),d(1);case 12:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}();return a.a.createElement(Ir,null,a.a.createElement(Yr.a,{title:j&&"".concat(ot.a.t("users.confirmationModal.deleteTitle")," ").concat(j.name,"?"),open:C,onClose:I,onConfirm:function(){return z(j.id)}},ot.a.t("users.confirmationModal.deleteMessage")),a.a.createElement(ue,{open:S,onClose:function(){w(null),_(!1)},"aria-labelledby":"form-dialog-title",userId:E&&E.id}),a.a.createElement(Rr,null,a.a.createElement(Dr,null,ot.a.t("users.title")),a.a.createElement(Mr,null,a.a.createElement(Ht.a,{placeholder:ot.a.t("contacts.searchPlaceholder"),type:"search",value:G,onChange:function(t){M(t.target.value.toLowerCase())},InputProps:{startAdornment:a.a.createElement(Vt.a,{position:"start"},a.a.createElement(Ie.a,{style:{color:"gray"}}))}}),a.a.createElement($t.a,{variant:"contained",color:"primary",onClick:function(){w(null),_(!0)}},ot.a.t("users.buttons.add")))),a.a.createElement(ve.a,{className:t.mainPaper,variant:"outlined",onScroll:function(t){if(m&&!o){var e=t.currentTarget,r=e.scrollTop;e.scrollHeight-(r+100)<e.clientHeight&&d((function(t){return t+1}))}}},a.a.createElement(Er.a,{size:"small"},a.a.createElement(wr.a,null,a.a.createElement(xr.a,null,a.a.createElement(Or.a,{align:"center"},ot.a.t("users.table.name")),a.a.createElement(Or.a,{align:"center"},ot.a.t("users.table.email")),a.a.createElement(Or.a,{align:"center"},ot.a.t("users.table.profile")),a.a.createElement(Or.a,{align:"center"},ot.a.t("users.table.actions")))),a.a.createElement(jr.a,null,a.a.createElement(a.a.Fragment,null,q.map((function(t){return a.a.createElement(xr.a,{key:t.id},a.a.createElement(Or.a,{align:"center"},t.name),a.a.createElement(Or.a,{align:"center"},t.email),a.a.createElement(Or.a,{align:"center"},t.profile),a.a.createElement(Or.a,{align:"center"},a.a.createElement(v.a,{size:"small",onClick:function(){return function(t){w(t),_(!0)}(t)}},a.a.createElement(cn.a,null)),a.a.createElement(v.a,{size:"small",onClick:function(e){I(!0),L(t)}},a.a.createElement(an.a,null))))})),o&&a.a.createElement(qr,{columns:4}))))))},dn=r(383);function hn(){hn=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=s;var u={};function f(){}function d(){}function h(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(j([])));v&&v!==e&&r.call(v,a)&&(p=v);var g=h.prototype=f.prototype=Object.create(p);function y(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var s=l(t[a],t,o);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,c)}))}c(s.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,u;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function j(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=h,c(g,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,c(t,i,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},y(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},y(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},t}var pn=function(t,e){if("LOAD_CONTACTS"===e.type){var r=e.payload,n=[];return r.forEach((function(e){var r=t.findIndex((function(t){return t.id===e.id}));-1!==r?t[r]=e:n.push(e)})),[].concat(Object(ct.a)(t),n)}if("UPDATE_CONTACTS"===e.type){var a=e.payload,o=t.findIndex((function(t){return t.id===a.id}));return-1!==o?(t[o]=a,Object(ct.a)(t)):[a].concat(Object(ct.a)(t))}if("DELETE_CONTACT"===e.type){var i=e.payload,c=t.findIndex((function(t){return t.id===i}));return-1!==c&&t.splice(c,1),Object(ct.a)(t)}if("RESET"===e.type)return[]},mn=Object(p.a)((function(t){return{mainPaper:Object(wt.a)({flex:1,padding:t.spacing(1),overflowY:"scroll"},t.scrollbarStyles),CSVLink:{color:"white"}}})),vn=function(){var t=mn(),e=Object(u.g)(),r=Object(n.useContext)(gt.a).user,o=Object(n.useState)(!1),i=Object(s.a)(o,2),c=i[0],l=i[1],d=Object(n.useState)(1),h=Object(s.a)(d,2),p=h[0],m=h[1],g=Object(n.useState)(""),y=Object(s.a)(g,2),b=y[0],E=y[1],w=Object(n.useReducer)(pn,[]),x=Object(s.a)(w,2),O=x[0],j=x[1],L=Object(n.useState)(null),k=Object(s.a)(L,2),N=k[0],S=k[1],_=Object(n.useState)(!1),A=Object(s.a)(_,2),T=A[0],C=A[1],I=Object(n.useState)(null),P=Object(s.a)(I,2),R=P[0],M=P[1],D=Object(n.useState)(!1),F=Object(s.a)(D,2),q=F[0],W=F[1],z=Object(n.useState)(!1),B=Object(s.a)(z,2),U=B[0],Y=B[1];Object(n.useEffect)((function(){j({type:"RESET"}),m(1)}),[b]),Object(n.useEffect)((function(){l(!0);var t=setTimeout((function(){(function(){var t=Object(it.a)(hn().mark((function t(){var e,r;return hn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ft.a.get("/contacts/",{params:{searchParam:b,pageNumber:p}});case 3:e=t.sent,r=e.data,j({type:"LOAD_CONTACTS",payload:r.contacts}),Y(r.hasMore),l(!1),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),Object(ut.a)(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}})()()}),500);return function(){return clearTimeout(t)}}),[b,p]),Object(n.useEffect)((function(){var t=lt()("https://wzapapi.whatscontabil.com.br");return t.on("contact",(function(t){"update"!==t.action&&"create"!==t.action||j({type:"UPDATE_CONTACTS",payload:t.contact}),"delete"===t.action&&j({type:"DELETE_CONTACT",payload:+t.contactId})})),function(){t.disconnect()}}),[]);var Q=function(){var t=Object(it.a)(hn().mark((function t(n){var a,o;return hn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=2;break}return t.abrupt("return");case 2:return l(!0),t.prev=3,t.next=6,ft.a.post("/tickets",{contactId:n,userId:null===r||void 0===r?void 0:r.id,status:"open"});case 6:a=t.sent,o=a.data,e.push("/tickets/".concat(o.id)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),Object(ut.a)(t.t0);case 14:l(!1);case 15:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(e){return t.apply(this,arguments)}}(),H=function(){var t=Object(it.a)(hn().mark((function t(e){return hn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ft.a.delete("/contacts/".concat(e));case 3:f.b.success(ot.a.t("contacts.toasts.deleted")),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),Object(ut.a)(t.t0);case 9:M(null),E(""),m(1);case 12:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}(),V=function(){var t=Object(it.a)(hn().mark((function t(){return hn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ft.a.post("/contacts/import");case 3:e.go(0),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),Object(ut.a)(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}();return a.a.createElement(Ir,{className:t.mainContainer},a.a.createElement(Ye.a,{open:T,onClose:function(){S(null),C(!1)},"aria-labelledby":"form-dialog-title",contactId:N}),a.a.createElement(Yr.a,{title:R?"".concat(ot.a.t("contacts.confirmationModal.deleteTitle")," ").concat(R.name,"?"):"".concat(ot.a.t("contacts.confirmationModal.importTitlte")),open:q,onClose:W,onConfirm:function(t){return R?H(R.id):V()}},"".concat(R?ot.a.t("contacts.confirmationModal.deleteMessage"):ot.a.t("contacts.confirmationModal.importMessage"))),a.a.createElement(Rr,null,a.a.createElement(Dr,null,ot.a.t("contacts.title")),a.a.createElement(Mr,null,a.a.createElement(Ht.a,{placeholder:ot.a.t("contacts.searchPlaceholder"),type:"search",value:b,onChange:function(t){E(t.target.value.toLowerCase())},InputProps:{startAdornment:a.a.createElement(Vt.a,{position:"start"},a.a.createElement(Ie.a,{style:{color:"gray"}}))}}),a.a.createElement($t.a,{variant:"contained",color:"primary",onClick:function(t){return W(!0)}},ot.a.t("contacts.buttons.import")),a.a.createElement($t.a,{variant:"contained",color:"primary",onClick:function(){S(null),C(!0)}},ot.a.t("contacts.buttons.add")),a.a.createElement(dn.CSVLink,{style:{textDecoration:"none"},separator:";",filename:"zdg.csv",data:O.map((function(t){return{name:t.name,number:t.number,email:t.email}}))},a.a.createElement($t.a,{variant:"contained",color:"primary"},"EXPORTAR CONTATOS")))),a.a.createElement(ve.a,{className:t.mainPaper,variant:"outlined",onScroll:function(t){if(U&&!c){var e=t.currentTarget,r=e.scrollTop;e.scrollHeight-(r+100)<e.clientHeight&&m((function(t){return t+1}))}}},a.a.createElement(Er.a,{size:"small"},a.a.createElement(wr.a,null,a.a.createElement(xr.a,null,a.a.createElement(Or.a,{padding:"checkbox"}),a.a.createElement(Or.a,null,ot.a.t("contacts.table.name")),a.a.createElement(Or.a,{align:"center"},ot.a.t("contacts.table.whatsapp")),a.a.createElement(Or.a,{align:"center"},ot.a.t("contacts.table.email")),a.a.createElement(Or.a,{align:"center"},ot.a.t("contacts.table.actions")))),a.a.createElement(jr.a,null,a.a.createElement(a.a.Fragment,null,O.map((function(t){return a.a.createElement(xr.a,{key:t.id},a.a.createElement(Or.a,{style:{paddingRight:0}},a.a.createElement(_t.a,{src:t.profilePicUrl})),a.a.createElement(Or.a,null,t.name),a.a.createElement(Or.a,{align:"center"},t.number),a.a.createElement(Or.a,{align:"center"},t.email),a.a.createElement(Or.a,{align:"center"},a.a.createElement(v.a,{size:"small",onClick:function(){return Q(t.id)}},a.a.createElement(G.a,null)),a.a.createElement(v.a,{size:"small",onClick:function(){return e=t.id,S(e),void C(!0);var e}},a.a.createElement(cn.a,null)),a.a.createElement(yt.a,{role:r.profile,perform:"contacts-page:deleteContact",yes:function(){return a.a.createElement(v.a,{size:"small",onClick:function(e){W(!0),M(t)}},a.a.createElement(an.a,null))}})))})),c&&a.a.createElement(qr,{avatar:!0,columns:3}))))))};function gn(){gn=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=s;var u={};function f(){}function d(){}function h(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(j([])));v&&v!==e&&r.call(v,a)&&(p=v);var g=h.prototype=f.prototype=Object.create(p);function y(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var s=l(t[a],t,o);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,c)}))}c(s.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,u;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function j(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=h,c(g,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,c(t,i,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},y(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},y(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},t}var yn=Object(p.a)((function(t){return{root:{flexWrap:"wrap"},textField:{marginRight:t.spacing(1),width:"100%"},btnWrapper:{position:"relative"},buttonProgress:{color:Nt.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},textQuickAnswerContainer:{width:"100%"}}})),bn=zt.a().shape({shortcut:zt.b().min(2,"Too Short!").max(15,"Too Long!").required("Required"),message:zt.b().min(8,"Too Short!").max(3e4,"Too Long!").required("Required")}),En=function(t){var e=t.open,r=t.onClose,o=t.quickAnswerId,i=t.initialValues,c=t.onSave,l=yn(),u=Object(n.useRef)(!0),d={shortcut:"",message:""},h=Object(n.useState)(d),p=Object(s.a)(h,2),m=p[0],v=p[1];Object(n.useEffect)((function(){return function(){u.current=!1}}),[]),Object(n.useEffect)((function(){(function(){var t=Object(it.a)(gn().mark((function t(){var e,r;return gn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i&&v((function(t){return Object(wt.a)(Object(wt.a)({},t),i)})),o){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,t.next=6,ft.a.get("/quickAnswers/".concat(o));case 6:e=t.sent,r=e.data,u.current&&v(r),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),Object(ut.a)(t.t0);case 14:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(){return t.apply(this,arguments)}})()()}),[o,e,i]);var g=function(){r(),v(d)},y=function(){var t=Object(it.a)(gn().mark((function t(e){var r,n;return gn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!o){t.next=7;break}return t.next=4,ft.a.put("/quickAnswers/".concat(o),e);case 4:g(),t.next=13;break;case 7:return t.next=9,ft.a.post("/quickAnswers",e);case 9:r=t.sent,n=r.data,c&&c(n),g();case 13:f.b.success(ot.a.t("quickAnswersModal.success")),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),Object(ut.a)(t.t0);case 19:case"end":return t.stop()}}),t,null,[[0,16]])})));return function(e){return t.apply(this,arguments)}}();return a.a.createElement("div",{className:l.root},a.a.createElement(Ut.a,{open:e,onClose:g,maxWidth:"sm",fullWidth:!0,scroll:"paper"},a.a.createElement(Yt.a,{id:"form-dialog-title"},"".concat(o?ot.a.t("quickAnswersModal.title.edit"):ot.a.t("quickAnswersModal.title.add"))),a.a.createElement(Bt.d,{initialValues:m,enableReinitialize:!0,validationSchema:bn,onSubmit:function(t,e){setTimeout((function(){y(t),e.setSubmitting(!1)}),400)}},(function(t){t.values;var e=t.errors,r=t.touched,n=t.isSubmitting;return a.a.createElement(Bt.c,null,a.a.createElement(Qt.a,{dividers:!0},a.a.createElement("div",{className:l.textQuickAnswerContainer},a.a.createElement(Bt.a,{as:Ht.a,label:ot.a.t("quickAnswersModal.form.shortcut"),name:"shortcut",autoFocus:!0,error:r.shortcut&&Boolean(e.shortcut),helperText:r.shortcut&&e.shortcut,variant:"outlined",margin:"dense",className:l.textField,fullWidth:!0})),a.a.createElement("div",{className:l.textQuickAnswerContainer},a.a.createElement(Bt.a,{as:Ht.a,label:ot.a.t("quickAnswersModal.form.message"),name:"message",error:r.message&&Boolean(e.message),helperText:r.message&&e.message,variant:"outlined",margin:"dense",className:l.textField,multiline:!0,rows:5,fullWidth:!0}))),a.a.createElement(Xt.a,null,a.a.createElement($t.a,{onClick:g,color:"secondary",disabled:n,variant:"outlined"},ot.a.t("quickAnswersModal.buttons.cancel")),a.a.createElement($t.a,{type:"submit",color:"primary",disabled:n,variant:"contained",className:l.btnWrapper},"".concat(o?ot.a.t("quickAnswersModal.buttons.okEdit"):ot.a.t("quickAnswersModal.buttons.okAdd")),n&&a.a.createElement(te.a,{size:24,className:l.buttonProgress}))))}))))};function wn(){wn=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=s;var u={};function f(){}function d(){}function h(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(j([])));v&&v!==e&&r.call(v,a)&&(p=v);var g=h.prototype=f.prototype=Object.create(p);function y(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var s=l(t[a],t,o);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,c)}))}c(s.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,u;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function j(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=h,c(g,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,c(t,i,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},y(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},y(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},t}var xn=function(t,e){if("LOAD_QUICK_ANSWERS"===e.type){var r=e.payload,n=[];return r.forEach((function(e){var r=t.findIndex((function(t){return t.id===e.id}));-1!==r?t[r]=e:n.push(e)})),[].concat(Object(ct.a)(t),n)}if("UPDATE_QUICK_ANSWERS"===e.type){var a=e.payload,o=t.findIndex((function(t){return t.id===a.id}));return-1!==o?(t[o]=a,Object(ct.a)(t)):[a].concat(Object(ct.a)(t))}if("DELETE_QUICK_ANSWERS"===e.type){var i=e.payload,c=t.findIndex((function(t){return t.id===i}));return-1!==c&&t.splice(c,1),Object(ct.a)(t)}if("RESET"===e.type)return[]},On=Object(p.a)((function(t){return{mainPaper:Object(wt.a)({flex:1,padding:t.spacing(1),overflowY:"scroll"},t.scrollbarStyles)}})),jn=function(){var t=On(),e=Object(n.useState)(!1),r=Object(s.a)(e,2),o=r[0],i=r[1],c=Object(n.useState)(1),l=Object(s.a)(c,2),u=l[0],d=l[1],h=Object(n.useState)(""),p=Object(s.a)(h,2),m=p[0],g=p[1],y=Object(n.useReducer)(xn,[]),b=Object(s.a)(y,2),E=b[0],w=b[1],x=Object(n.useState)(null),O=Object(s.a)(x,2),j=O[0],L=O[1],k=Object(n.useState)(!1),N=Object(s.a)(k,2),S=N[0],_=N[1],A=Object(n.useState)(null),T=Object(s.a)(A,2),C=T[0],I=T[1],P=Object(n.useState)(!1),R=Object(s.a)(P,2),G=R[0],M=R[1],D=Object(n.useState)(!1),F=Object(s.a)(D,2),q=F[0],W=F[1];Object(n.useEffect)((function(){w({type:"RESET"}),d(1)}),[m]),Object(n.useEffect)((function(){i(!0);var t=setTimeout((function(){(function(){var t=Object(it.a)(wn().mark((function t(){var e,r;return wn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ft.a.get("/quickAnswers/",{params:{searchParam:m,pageNumber:u}});case 3:e=t.sent,r=e.data,w({type:"LOAD_QUICK_ANSWERS",payload:r.quickAnswers}),W(r.hasMore),i(!1),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),Object(ut.a)(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}})()()}),500);return function(){return clearTimeout(t)}}),[m,u]),Object(n.useEffect)((function(){var t=lt()("https://wzapapi.whatscontabil.com.br");return t.on("quickAnswer",(function(t){"update"!==t.action&&"create"!==t.action||w({type:"UPDATE_QUICK_ANSWERS",payload:t.quickAnswer}),"delete"===t.action&&w({type:"DELETE_QUICK_ANSWERS",payload:+t.quickAnswerId})})),function(){t.disconnect()}}),[]);var z=function(){var t=Object(it.a)(wn().mark((function t(e){return wn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ft.a.delete("/quickAnswers/".concat(e));case 3:f.b.success(ot.a.t("quickAnswers.toasts.deleted")),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),Object(ut.a)(t.t0);case 9:I(null),g(""),d(1);case 12:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}();return a.a.createElement(Ir,null,a.a.createElement(Yr.a,{title:C&&"".concat(ot.a.t("quickAnswers.confirmationModal.deleteTitle")," ").concat(C.shortcut,"?"),open:G,onClose:M,onConfirm:function(){return z(C.id)}},ot.a.t("quickAnswers.confirmationModal.deleteMessage")),a.a.createElement(En,{open:S,onClose:function(){L(null),_(!1)},"aria-labelledby":"form-dialog-title",quickAnswerId:j&&j.id}),a.a.createElement(Rr,null,a.a.createElement(Dr,null,ot.a.t("quickAnswers.title")),a.a.createElement(Mr,null,a.a.createElement(Ht.a,{placeholder:ot.a.t("quickAnswers.searchPlaceholder"),type:"search",value:m,onChange:function(t){g(t.target.value.toLowerCase())},InputProps:{startAdornment:a.a.createElement(Vt.a,{position:"start"},a.a.createElement(Ie.a,{style:{color:"gray"}}))}}),a.a.createElement($t.a,{variant:"contained",color:"primary",onClick:function(){L(null),_(!0)}},ot.a.t("quickAnswers.buttons.add")))),a.a.createElement(ve.a,{className:t.mainPaper,variant:"outlined",onScroll:function(t){if(q&&!o){var e=t.currentTarget,r=e.scrollTop;e.scrollHeight-(r+100)<e.clientHeight&&d((function(t){return t+1}))}}},a.a.createElement(Er.a,{size:"small"},a.a.createElement(wr.a,null,a.a.createElement(xr.a,null,a.a.createElement(Or.a,{align:"center"},ot.a.t("quickAnswers.table.shortcut")),a.a.createElement(Or.a,{align:"center"},ot.a.t("quickAnswers.table.message")),a.a.createElement(Or.a,{align:"center"},ot.a.t("quickAnswers.table.actions")))),a.a.createElement(jr.a,null,a.a.createElement(a.a.Fragment,null,E.map((function(t){return a.a.createElement(xr.a,{key:t.id},a.a.createElement(Or.a,{align:"center"},t.shortcut),a.a.createElement(Or.a,{align:"center"},t.message),a.a.createElement(Or.a,{align:"center"},a.a.createElement(v.a,{size:"small",onClick:function(){return function(t){L(t),_(!0)}(t)}},a.a.createElement(Ar.a,null)),a.a.createElement(v.a,{size:"small",onClick:function(e){M(!0),I(t)}},a.a.createElement(Tr.a,null))))})),o&&a.a.createElement(qr,{columns:3}))))))},Ln=r(572),kn=function(t){var e=t.onChange,r=t.currentColor,o=t.handleClose,i=t.open,c=Object(n.useState)(r),l=Object(s.a)(c,2),u=l[0],f=l[1];return a.a.createElement(Ut.a,{onClose:o,"aria-labelledby":"simple-dialog-title",open:i,maxWidth:"xs",paperFullWidth:!0},a.a.createElement(Ln.a,{width:"100%",triangle:"hide",color:u,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB","#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],onChange:function(t){f(t.hex),o()},onChangeComplete:function(t){return e(t.hex)}}))},Nn=r(999);function Sn(){Sn=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=s;var u={};function f(){}function d(){}function h(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(j([])));v&&v!==e&&r.call(v,a)&&(p=v);var g=h.prototype=f.prototype=Object.create(p);function y(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var s=l(t[a],t,o);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,c)}))}c(s.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,u;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function j(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=h,c(g,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,c(t,i,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},y(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},y(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},t}var _n=Object(p.a)((function(t){return{root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:t.spacing(1),flex:1},btnWrapper:{position:"relative"},buttonProgress:{color:Nt.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},formControl:{margin:t.spacing(1),minWidth:120},colorAdorment:{width:20,height:20}}})),An=zt.a().shape({name:zt.b().min(2,"Too Short!").max(50,"Too Long!").required("Required"),color:zt.b().min(3,"Too Short!").max(9,"Too Long!").required(),greetingMessage:zt.b()}),Tn=function(t){var e=t.open,r=t.onClose,o=t.queueId,i=_n(),c={name:"",color:"",greetingMessage:""},l=Object(n.useState)(!1),u=Object(s.a)(l,2),d=u[0],h=u[1],p=Object(n.useState)(c),m=Object(s.a)(p,2),g=m[0],y=m[1],b=Object(n.useRef)();Object(n.useEffect)((function(){return Object(it.a)(Sn().mark((function t(){var e,r;return Sn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,ft.a.get("/queue/".concat(o));case 5:e=t.sent,r=e.data,y((function(t){return Object(wt.a)(Object(wt.a)({},t),r)})),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),Object(ut.a)(t.t0);case 13:case"end":return t.stop()}}),t,null,[[2,10]])})))(),function(){y({name:"",color:"",greetingMessage:""})}}),[o,e]);var E=function(){r(),y(c)},w=function(){var t=Object(it.a)(Sn().mark((function t(e){return Sn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!o){t.next=6;break}return t.next=4,ft.a.put("/queue/".concat(o),e);case 4:t.next=8;break;case 6:return t.next=8,ft.a.post("/queue",e);case 8:f.b.success("Queue saved successfully"),E(),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),Object(ut.a)(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}();return a.a.createElement("div",{className:i.root},a.a.createElement(Ut.a,{open:e,onClose:E,scroll:"paper"},a.a.createElement(Yt.a,null,"".concat(o?ot.a.t("queueModal.title.edit"):ot.a.t("queueModal.title.add"))),a.a.createElement(Bt.d,{initialValues:g,enableReinitialize:!0,validationSchema:An,onSubmit:function(t,e){setTimeout((function(){w(t),e.setSubmitting(!1)}),400)}},(function(t){var e=t.touched,r=t.errors,n=t.isSubmitting,c=t.values;return a.a.createElement(Bt.c,null,a.a.createElement(Qt.a,{dividers:!0},a.a.createElement(Bt.a,{as:Ht.a,label:ot.a.t("queueModal.form.name"),autoFocus:!0,name:"name",error:e.name&&Boolean(r.name),helperText:e.name&&r.name,variant:"outlined",margin:"dense",className:i.textField}),a.a.createElement(Bt.a,{as:Ht.a,label:ot.a.t("queueModal.form.color"),name:"color",id:"color",onFocus:function(){h(!0),b.current.focus()},error:e.color&&Boolean(r.color),helperText:e.color&&r.color,InputProps:{startAdornment:a.a.createElement(Vt.a,{position:"start"},a.a.createElement("div",{style:{backgroundColor:c.color},className:i.colorAdorment})),endAdornment:a.a.createElement(v.a,{size:"small",color:"default",onClick:function(){return h(!0)}},a.a.createElement(Nn.a,null))},variant:"outlined",margin:"dense"}),a.a.createElement(kn,{open:d,handleClose:function(){return h(!1)},onChange:function(t){c.color=t,y((function(){return Object(wt.a)(Object(wt.a)({},c),{},{color:t})}))}}),a.a.createElement("div",null,a.a.createElement(Bt.a,{as:Ht.a,label:ot.a.t("queueModal.form.greetingMessage"),type:"greetingMessage",multiline:!0,inputRef:b,rows:5,fullWidth:!0,name:"greetingMessage",error:e.greetingMessage&&Boolean(r.greetingMessage),helperText:e.greetingMessage&&r.greetingMessage,variant:"outlined",margin:"dense"}))),a.a.createElement(Xt.a,null,a.a.createElement($t.a,{onClick:E,color:"secondary",disabled:n,variant:"outlined"},ot.a.t("queueModal.buttons.cancel")),a.a.createElement($t.a,{type:"submit",color:"primary",disabled:n,variant:"contained",className:i.btnWrapper},"".concat(o?ot.a.t("queueModal.buttons.okEdit"):ot.a.t("queueModal.buttons.okAdd")),n&&a.a.createElement(te.a,{size:24,className:i.buttonProgress}))))}))))};function Cn(){Cn=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=s;var u={};function f(){}function d(){}function h(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(j([])));v&&v!==e&&r.call(v,a)&&(p=v);var g=h.prototype=f.prototype=Object.create(p);function y(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var s=l(t[a],t,o);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,c)}))}c(s.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,u;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function j(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=h,c(g,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,c(t,i,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},y(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},y(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},t}var In=Object(p.a)((function(t){return{mainPaper:Object(wt.a)({flex:1,padding:t.spacing(1),overflowY:"scroll"},t.scrollbarStyles),customTableCell:{display:"flex",alignItems:"center",justifyContent:"center"}}})),Pn=function(t,e){if("LOAD_QUEUES"===e.type){var r=e.payload,n=[];return r.forEach((function(e){var r=t.findIndex((function(t){return t.id===e.id}));-1!==r?t[r]=e:n.push(e)})),[].concat(Object(ct.a)(t),n)}if("UPDATE_QUEUES"===e.type){var a=e.payload,o=t.findIndex((function(t){return t.id===a.id}));return-1!==o?(t[o]=a,Object(ct.a)(t)):[a].concat(Object(ct.a)(t))}if("DELETE_QUEUE"===e.type){var i=e.payload,c=t.findIndex((function(t){return t.id===i}));return-1!==c&&t.splice(c,1),Object(ct.a)(t)}if("RESET"===e.type)return[]},Rn=function(){var t=In(),e=Object(n.useReducer)(Pn,[]),r=Object(s.a)(e,2),o=r[0],i=r[1],c=Object(n.useState)(!1),l=Object(s.a)(c,2),u=l[0],d=l[1],h=Object(n.useState)(!1),p=Object(s.a)(h,2),m=p[0],g=p[1],y=Object(n.useState)(null),b=Object(s.a)(y,2),E=b[0],x=b[1],O=Object(n.useState)(!1),j=Object(s.a)(O,2),L=j[0],k=j[1];Object(n.useEffect)((function(){Object(it.a)(Cn().mark((function t(){var e,r;return Cn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d(!0),t.prev=1,t.next=4,ft.a.get("/queue");case 4:e=t.sent,r=e.data,i({type:"LOAD_QUEUES",payload:r}),d(!1),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),Object(ut.a)(t.t0),d(!1);case 14:case"end":return t.stop()}}),t,null,[[1,10]])})))()}),[]),Object(n.useEffect)((function(){var t=lt()("https://wzapapi.whatscontabil.com.br");return t.on("queue",(function(t){"update"!==t.action&&"create"!==t.action||i({type:"UPDATE_QUEUES",payload:t.queue}),"delete"===t.action&&i({type:"DELETE_QUEUE",payload:t.queueId})})),function(){t.disconnect()}}),[]);var N=function(){var t=Object(it.a)(Cn().mark((function t(e){return Cn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ft.a.delete("/queue/".concat(e));case 3:f.b.success(ot.a.t("Queue deleted successfully!")),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),Object(ut.a)(t.t0);case 9:x(null);case 10:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}();return a.a.createElement(Ir,null,a.a.createElement(Yr.a,{title:E&&"".concat(ot.a.t("queues.confirmationModal.deleteTitle")," ").concat(E.name,"?"),open:L,onClose:function(){k(!1),x(null)},onConfirm:function(){return N(E.id)}},ot.a.t("queues.confirmationModal.deleteMessage")),a.a.createElement(Tn,{open:m,onClose:function(){g(!1),x(null)},queueId:null===E||void 0===E?void 0:E.id}),a.a.createElement(Rr,null,a.a.createElement(Dr,null,ot.a.t("queues.title")),a.a.createElement(Mr,null,a.a.createElement($t.a,{variant:"contained",color:"primary",onClick:function(){g(!0),x(null)}},ot.a.t("queues.buttons.add")))),a.a.createElement(ve.a,{className:t.mainPaper,variant:"outlined"},a.a.createElement(Er.a,{size:"small"},a.a.createElement(wr.a,null,a.a.createElement(xr.a,null,a.a.createElement(Or.a,{align:"center"},ot.a.t("queues.table.name")),a.a.createElement(Or.a,{align:"center"},ot.a.t("queues.table.color")),a.a.createElement(Or.a,{align:"center"},ot.a.t("queues.table.greeting")),a.a.createElement(Or.a,{align:"center"},ot.a.t("queues.table.actions")))),a.a.createElement(jr.a,null,a.a.createElement(a.a.Fragment,null,o.map((function(e){return a.a.createElement(xr.a,{key:e.id},a.a.createElement(Or.a,{align:"center"},e.name),a.a.createElement(Or.a,{align:"center"},a.a.createElement("div",{className:t.customTableCell},a.a.createElement("span",{style:{backgroundColor:e.color,width:60,height:20,alignSelf:"center"}}))),a.a.createElement(Or.a,{align:"center"},a.a.createElement("div",{className:t.customTableCell},a.a.createElement(w.a,{style:{width:300,align:"center"},noWrap:!0,variant:"body2"},e.greetingMessage))),a.a.createElement(Or.a,{align:"center"},a.a.createElement(v.a,{size:"small",onClick:function(){return function(t){x(t),g(!0)}(e)}},a.a.createElement(Ar.a,null)),a.a.createElement(v.a,{size:"small",onClick:function(){x(e),k(!0)}},a.a.createElement(Tr.a,null))))})),u&&a.a.createElement(qr,{columns:4}))))))},Gn=r(556),Mn=r(557),Dn=r(558),Fn=r(564),qn=r(565),Wn=r(566),zn=Object(p.a)((function(t){return{root:{display:"flex",alignItems:"center",padding:t.spacing(1)},paper:{padding:t.spacing(2),display:"flex",alignItems:"center"},settingOption:{marginLeft:"auto"},margin:{margin:t.spacing(1)}}})),Bn=function(){var t=zn();return Object(n.useEffect)((function(){var t=lt()("https://wzapapi.whatscontabil.com.br");return function(){t.disconnect()}}),[]),a.a.createElement("div",{className:t.root},a.a.createElement("iframe",{title:"Chatbot",src:"https://wzapbotapp.whatscontabil.com.br",height:"800",width:"100%",frameBorder:"0"}))},Un=r(567),Yn=r(568),Qn=["component","isPrivate"],Hn=function(t){var e=t.component,r=t.isPrivate,o=void 0!==r&&r,i=Object(tr.a)(t,Qn),c=Object(n.useContext)(gt.a),s=c.isAuth,l=c.loading;return!s&&o?a.a.createElement(a.a.Fragment,null,l&&a.a.createElement(he,null),a.a.createElement(u.a,{to:{pathname:"/login",state:{from:i.location}}})):s&&!o?a.a.createElement(a.a.Fragment,null,l&&a.a.createElement(he,null),a.a.createElement(u.a,{to:{pathname:"/",state:{from:i.location}}}),";"):a.a.createElement(a.a.Fragment,null,l&&a.a.createElement(he,null),a.a.createElement(u.b,Object.assign({},i,{component:e})))},Vn=function(){return a.a.createElement(l.a,null,a.a.createElement(gt.b,null,a.a.createElement(u.d,null,a.a.createElement(Hn,{exact:!0,path:"/login",component:br}),a.a.createElement(Hn,{exact:!0,path:"/signup",component:gr}),a.a.createElement(vt,null,a.a.createElement(me,null,a.a.createElement(Hn,{exact:!0,path:"/",component:Te,isPrivate:!0}),a.a.createElement(Hn,{exact:!0,path:"/tickets/:ticketId?",component:ur,isPrivate:!0}),a.a.createElement(Hn,{exact:!0,path:"/connections",component:$r,isPrivate:!0}),a.a.createElement(Hn,{exact:!0,path:"/contacts",component:vn,isPrivate:!0}),a.a.createElement(Hn,{exact:!0,path:"/users",component:fn,isPrivate:!0}),a.a.createElement(Hn,{exact:!0,path:"/quickAnswers",component:jn,isPrivate:!0}),a.a.createElement(Hn,{exact:!0,path:"/Settings",component:rn,isPrivate:!0}),a.a.createElement(Hn,{exact:!0,path:"/Queues",component:Rn,isPrivate:!0}),a.a.createElement(Hn,{exact:!0,path:"/Chatbot",component:Bn,isPrivate:!0}),a.a.createElement(Hn,{exact:!0,path:"/ZDGAgendamento",component:Yn.a,isPrivate:!0}),a.a.createElement(Hn,{exact:!0,path:"/ZDG",component:Gn.a,isPrivate:!0}),a.a.createElement(Hn,{exact:!0,path:"/ZDGMedia",component:Mn.a,isPrivate:!0}),a.a.createElement(Hn,{exact:!0,path:"/ZDGGroups",component:Dn.a,isPrivate:!0}),a.a.createElement(Hn,{exact:!0,path:"/InstaDirect",component:Fn.a,isPrivate:!0}),a.a.createElement(Hn,{exact:!0,path:"/SMS",component:qn.a,isPrivate:!0}),a.a.createElement(Hn,{exact:!0,path:"/VoiceCall",component:Wn.a,isPrivate:!0}),a.a.createElement(Hn,{exact:!0,path:"/ZDGHistorico",component:Un.a,isPrivate:!0})))),a.a.createElement(f.a,{autoClose:3e3})))},Kn=(r(874),r(574)),Zn=r(1e3),Jn=r(571),Xn=function(){var t=Object(n.useState)(),e=Object(s.a)(t,2),r=e[0],o=e[1],i=Object(Kn.a)({scrollbarStyles:{"&::-webkit-scrollbar":{width:"8px",height:"8px"},"&::-webkit-scrollbar-thumb":{boxShadow:"inset 0 0 6px rgba(0, 0, 0, 0.3)",backgroundColor:"#e8e8e8"}},palette:{primary:{main:"#17a2b8"}}},r);return Object(n.useEffect)((function(){var t=localStorage.getItem("i18nextLng");"ptBR"===t.substring(0,2)+t.substring(3,5)&&o(Jn.ptBR)}),[]),a.a.createElement(Zn.a,{theme:i},a.a.createElement(Vn,null))};i.a.render(a.a.createElement(c.a,null,a.a.createElement(Xn,null)),document.getElementById("root"))}},[[634,1,2]]]);
//# sourceMappingURL=main.0f3c18bb.chunk.js.map